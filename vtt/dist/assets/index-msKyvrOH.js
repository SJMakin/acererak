var nE=Object.defineProperty;var rE=(e,t,n)=>t in e?nE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mp=(e,t,n)=>rE(e,typeof t!="symbol"?t+"":t,n);function oE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l4={exports:{}},lg={},c4={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=Symbol.for("react.element"),iE=Symbol.for("react.portal"),sE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),dE=Symbol.for("react.forward_ref"),fE=Symbol.for("react.suspense"),hE=Symbol.for("react.memo"),pE=Symbol.for("react.lazy"),xS=Symbol.iterator;function mE(e){return e===null||typeof e!="object"?null:(e=xS&&e[xS]||e["@@iterator"],typeof e=="function"?e:null)}var u4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d4=Object.assign,f4={};function od(e,t,n){this.props=e,this.context=t,this.refs=f4,this.updater=n||u4}od.prototype.isReactComponent={};od.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};od.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h4(){}h4.prototype=od.prototype;function b2(e,t,n){this.props=e,this.context=t,this.refs=f4,this.updater=n||u4}var S2=b2.prototype=new h4;S2.constructor=b2;d4(S2,od.prototype);S2.isPureReactComponent=!0;var bS=Array.isArray,p4=Object.prototype.hasOwnProperty,_2={current:null},m4={key:!0,ref:!0,__self:!0,__source:!0};function g4(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)p4.call(t,r)&&!m4.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:mh,type:e,key:i,ref:s,props:o,_owner:_2.current}}function gE(e,t){return{$$typeof:mh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function C2(e){return typeof e=="object"&&e!==null&&e.$$typeof===mh}function vE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var SS=/\/+/g;function Nv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vE(""+e.key):t.toString(36)}function Yp(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case mh:case iE:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Nv(s,0):r,bS(o)?(n="",e!=null&&(n=e.replace(SS,"$&/")+"/"),Yp(o,t,n,"",function(f){return f})):o!=null&&(C2(o)&&(o=gE(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(SS,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",bS(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Nv(i,a);s+=Yp(i,t,n,c,o)}else if(c=mE(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Nv(i,a++),s+=Yp(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function gp(e,t,n){if(e==null)return e;var r=[],o=0;return Yp(e,r,"","",function(i){return t.call(n,i,o++)}),r}function yE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var co={current:null},qp={transition:null},wE={ReactCurrentDispatcher:co,ReactCurrentBatchConfig:qp,ReactCurrentOwner:_2};function v4(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:gp,forEach:function(e,t,n){gp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gp(e,function(){t++}),t},toArray:function(e){return gp(e,function(t){return t})||[]},only:function(e){if(!C2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=od;zt.Fragment=sE;zt.Profiler=lE;zt.PureComponent=b2;zt.StrictMode=aE;zt.Suspense=fE;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wE;zt.act=v4;zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=d4({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_2.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)p4.call(t,c)&&!m4.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var f=0;f<c;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:mh,type:e.type,key:o,ref:i,props:r,_owner:s}};zt.createContext=function(e){return e={$$typeof:uE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cE,_context:e},e.Consumer=e};zt.createElement=g4;zt.createFactory=function(e){var t=g4.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:dE,render:e}};zt.isValidElement=C2;zt.lazy=function(e){return{$$typeof:pE,_payload:{_status:-1,_result:e},_init:yE}};zt.memo=function(e,t){return{$$typeof:hE,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=qp.transition;qp.transition={};try{e()}finally{qp.transition=t}};zt.unstable_act=v4;zt.useCallback=function(e,t){return co.current.useCallback(e,t)};zt.useContext=function(e){return co.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return co.current.useDeferredValue(e)};zt.useEffect=function(e,t){return co.current.useEffect(e,t)};zt.useId=function(){return co.current.useId()};zt.useImperativeHandle=function(e,t,n){return co.current.useImperativeHandle(e,t,n)};zt.useInsertionEffect=function(e,t){return co.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return co.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return co.current.useMemo(e,t)};zt.useReducer=function(e,t,n){return co.current.useReducer(e,t,n)};zt.useRef=function(e){return co.current.useRef(e)};zt.useState=function(e){return co.current.useState(e)};zt.useSyncExternalStore=function(e,t,n){return co.current.useSyncExternalStore(e,t,n)};zt.useTransition=function(){return co.current.useTransition()};zt.version="18.3.1";c4.exports=zt;var N=c4.exports;const Rt=dl(N),xE=oE({__proto__:null,default:Rt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE=N,SE=Symbol.for("react.element"),_E=Symbol.for("react.fragment"),CE=Object.prototype.hasOwnProperty,kE=bE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EE={key:!0,ref:!0,__self:!0,__source:!0};function y4(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)CE.call(t,r)&&!EE.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:SE,type:e,key:i,ref:s,props:o,_owner:kE.current}}lg.Fragment=_E;lg.jsx=y4;lg.jsxs=y4;l4.exports=lg;var x=l4.exports,Uy={},w4={exports:{}},qo={},x4={exports:{}},b4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,q){var J=$.length;$.push(q);e:for(;0<J;){var ie=J-1>>>1,te=$[ie];if(0<o(te,q))$[ie]=q,$[J]=te,J=ie;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],J=$.pop();if(J!==q){$[0]=J;e:for(var ie=0,te=$.length,de=te>>>1;ie<de;){var He=2*(ie+1)-1,Te=$[He],Ee=He+1,Q=$[Ee];if(0>o(Te,J))Ee<te&&0>o(Q,Te)?($[ie]=Q,$[Ee]=J,ie=Ee):($[ie]=Te,$[He]=J,ie=He);else if(Ee<te&&0>o(Q,J))$[ie]=Q,$[Ee]=J,ie=Ee;else break e}}return q}function o($,q){var J=$.sortIndex-q.sortIndex;return J!==0?J:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],f=[],d=1,h=null,p=3,g=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=$)r(f),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(f)}}function E($){if(S=!1,y($),!w)if(n(c)!==null)w=!0,X(M);else{var q=n(f);q!==null&&Y(E,q.startTime-$)}}function M($,q){w=!1,S&&(S=!1,k(O),O=-1),g=!0;var J=p;try{for(y(q),h=n(c);h!==null&&(!(h.expirationTime>q)||$&&!U());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var te=ie(h.expirationTime<=q);q=e.unstable_now(),typeof te=="function"?h.callback=te:h===n(c)&&r(c),y(q)}else r(c);h=n(c)}if(h!==null)var de=!0;else{var He=n(f);He!==null&&Y(E,He.startTime-q),de=!1}return de}finally{h=null,p=J,g=!1}}var A=!1,z=null,O=-1,V=5,B=-1;function U(){return!(e.unstable_now()-B<V)}function F(){if(z!==null){var $=e.unstable_now();B=$;var q=!0;try{q=z(!0,$)}finally{q?K():(A=!1,z=null)}}else A=!1}var K;if(typeof P=="function")K=function(){P(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,G=ne.port2;ne.port1.onmessage=F,K=function(){G.postMessage(null)}}else K=function(){C(F,0)};function X($){z=$,A||(A=!0,K())}function Y($,q){O=C(function(){$(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,X(M))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var J=p;p=q;try{return $()}finally{p=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=p;p=$;try{return q()}finally{p=J}},e.unstable_scheduleCallback=function($,q,J){var ie=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ie+J:ie):J=ie,$){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=J+te,$={id:d++,callback:q,priorityLevel:$,startTime:J,expirationTime:te,sortIndex:-1},J>ie?($.sortIndex=J,t(f,$),n(c)===null&&$===n(f)&&(S?(k(O),O=-1):S=!0,Y(E,J-ie))):($.sortIndex=te,t(c,$),w||g||(w=!0,X(M))),$},e.unstable_shouldYield=U,e.unstable_wrapCallback=function($){var q=p;return function(){var J=p;p=q;try{return $.apply(this,arguments)}finally{p=J}}}})(b4);x4.exports=b4;var Pf=x4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=N,Wo=Pf;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S4=new Set,Ff={};function vc(e,t){Uu(e,t),Uu(e+"Capture",t)}function Uu(e,t){for(Ff[e]=t,e=0;e<t.length;e++)S4.add(t[e])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gy=Object.prototype.hasOwnProperty,TE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_S={},CS={};function RE(e){return Gy.call(CS,e)?!0:Gy.call(_S,e)?!1:TE.test(e)?CS[e]=!0:(_S[e]=!0,!1)}function NE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AE(e,t,n,r){if(t===null||typeof t>"u"||NE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function uo(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ir[e]=new uo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ir[t]=new uo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ir[e]=new uo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ir[e]=new uo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ir[e]=new uo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ir[e]=new uo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ir[e]=new uo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ir[e]=new uo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ir[e]=new uo(e,5,!1,e.toLowerCase(),null,!1,!1)});var k2=/[\-:]([a-z])/g;function E2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k2,E2);Ir[t]=new uo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k2,E2);Ir[t]=new uo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k2,E2);Ir[t]=new uo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ir[e]=new uo(e,1,!1,e.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new uo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ir[e]=new uo(e,1,!1,e.toLowerCase(),null,!0,!0)});function P2(e,t,n,r){var o=Ir.hasOwnProperty(t)?Ir[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AE(t,n,o,r)&&(n=null),r||o===null?RE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ia=PE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vp=Symbol.for("react.element"),yu=Symbol.for("react.portal"),wu=Symbol.for("react.fragment"),T2=Symbol.for("react.strict_mode"),Vy=Symbol.for("react.profiler"),_4=Symbol.for("react.provider"),C4=Symbol.for("react.context"),R2=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Wy=Symbol.for("react.suspense_list"),N2=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),k4=Symbol.for("react.offscreen"),kS=Symbol.iterator;function Qd(e){return e===null||typeof e!="object"?null:(e=kS&&e[kS]||e["@@iterator"],typeof e=="function"?e:null)}var Ln=Object.assign,Av;function mf(e){if(Av===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Av=t&&t[1]||""}return`
`+Av+e}var Mv=!1;function Iv(e,t){if(!e||Mv)return"";Mv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{Mv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mf(e):""}function ME(e){switch(e.tag){case 5:return mf(e.type);case 16:return mf("Lazy");case 13:return mf("Suspense");case 19:return mf("SuspenseList");case 0:case 2:case 15:return e=Iv(e.type,!1),e;case 11:return e=Iv(e.type.render,!1),e;case 1:return e=Iv(e.type,!0),e;default:return""}}function Ky(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wu:return"Fragment";case yu:return"Portal";case Vy:return"Profiler";case T2:return"StrictMode";case Hy:return"Suspense";case Wy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C4:return(e.displayName||"Context")+".Consumer";case _4:return(e._context.displayName||"Context")+".Provider";case R2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N2:return t=e.displayName||null,t!==null?t:Ky(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return Ky(e(t))}catch{}}return null}function IE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ky(t);case 8:return t===T2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DE(e){var t=E4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yp(e){e._valueTracker||(e._valueTracker=DE(e))}function P4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=E4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yy(e,t){var n=t.checked;return Ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ES(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=al(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T4(e,t){t=t.checked,t!=null&&P2(e,"checked",t,!1)}function qy(e,t){T4(e,t);var n=al(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xy(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xy(e,t.type,al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function PS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xy(e,t,n){(t!=="number"||wm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gf=Array.isArray;function Nu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+al(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Qy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return Ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Fe(92));if(gf(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:al(n)}}function R4(e,t){var n=al(t.value),r=al(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function RS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function N4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?N4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wp,A4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wp=wp||document.createElement("div"),wp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OE=["Webkit","ms","Moz","O"];Object.keys(Tf).forEach(function(e){OE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tf[t]=Tf[e]})});function M4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tf.hasOwnProperty(e)&&Tf[e]?(""+t).trim():t+"px"}function I4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=M4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var jE=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jy(e,t){if(t){if(jE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function e1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t1=null;function A2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var n1=null,Au=null,Mu=null;function NS(e){if(e=yh(e)){if(typeof n1!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=hg(t),n1(e.stateNode,e.type,t))}}function D4(e){Au?Mu?Mu.push(e):Mu=[e]:Au=e}function O4(){if(Au){var e=Au,t=Mu;if(Mu=Au=null,NS(e),t)for(e=0;e<t.length;e++)NS(t[e])}}function j4(e,t){return e(t)}function L4(){}var Dv=!1;function F4(e,t,n){if(Dv)return e(t,n);Dv=!0;try{return j4(e,t,n)}finally{Dv=!1,(Au!==null||Mu!==null)&&(L4(),O4())}}function Bf(e,t){var n=e.stateNode;if(n===null)return null;var r=hg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Fe(231,t,typeof n));return n}var r1=!1;if(Js)try{var Zd={};Object.defineProperty(Zd,"passive",{get:function(){r1=!0}}),window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{r1=!1}function LE(e,t,n,r,o,i,s,a,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(d){this.onError(d)}}var Rf=!1,xm=null,bm=!1,o1=null,FE={onError:function(e){Rf=!0,xm=e}};function zE(e,t,n,r,o,i,s,a,c){Rf=!1,xm=null,LE.apply(FE,arguments)}function BE(e,t,n,r,o,i,s,a,c){if(zE.apply(this,arguments),Rf){if(Rf){var f=xm;Rf=!1,xm=null}else throw Error(Fe(198));bm||(bm=!0,o1=f)}}function yc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AS(e){if(yc(e)!==e)throw Error(Fe(188))}function $E(e){var t=e.alternate;if(!t){if(t=yc(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return AS(o),e;if(i===r)return AS(o),t;i=i.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?e:t}function B4(e){return e=$E(e),e!==null?$4(e):null}function $4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$4(e);if(t!==null)return t;e=e.sibling}return null}var U4=Wo.unstable_scheduleCallback,MS=Wo.unstable_cancelCallback,UE=Wo.unstable_shouldYield,GE=Wo.unstable_requestPaint,Jn=Wo.unstable_now,VE=Wo.unstable_getCurrentPriorityLevel,M2=Wo.unstable_ImmediatePriority,G4=Wo.unstable_UserBlockingPriority,Sm=Wo.unstable_NormalPriority,HE=Wo.unstable_LowPriority,V4=Wo.unstable_IdlePriority,cg=null,ms=null;function WE(e){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(cg,e,void 0,(e.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:qE,KE=Math.log,YE=Math.LN2;function qE(e){return e>>>=0,e===0?32:31-(KE(e)/YE|0)|0}var xp=64,bp=4194304;function vf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _m(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=vf(a):(i&=s,i!==0&&(r=vf(i)))}else s=n&~o,s!==0?r=vf(s):i!==0&&(r=vf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fi(t),o=1<<n,r|=e[n],t&=~o;return r}function XE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Fi(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=XE(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function i1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H4(){var e=xp;return xp<<=1,!(xp&4194240)&&(xp=64),e}function Ov(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fi(t),e[t]=n}function ZE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Fi(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function I2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fi(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ln=0;function W4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var K4,D2,Y4,q4,X4,s1=!1,Sp=[],Za=null,Ja=null,el=null,$f=new Map,Uf=new Map,Ga=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IS(e,t){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":$f.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(t.pointerId)}}function Jd(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=yh(t),t!==null&&D2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function eP(e,t,n,r,o){switch(t){case"focusin":return Za=Jd(Za,e,t,n,r,o),!0;case"dragenter":return Ja=Jd(Ja,e,t,n,r,o),!0;case"mouseover":return el=Jd(el,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return $f.set(i,Jd($f.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Uf.set(i,Jd(Uf.get(i)||null,e,t,n,r,o)),!0}return!1}function Q4(e){var t=tc(e.target);if(t!==null){var n=yc(t);if(n!==null){if(t=n.tag,t===13){if(t=z4(n),t!==null){e.blockedOn=t,X4(e.priority,function(){Y4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=a1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);t1=r,n.target.dispatchEvent(r),t1=null}else return t=yh(n),t!==null&&D2(t),e.blockedOn=n,!1;t.shift()}return!0}function DS(e,t,n){Xp(e)&&n.delete(t)}function tP(){s1=!1,Za!==null&&Xp(Za)&&(Za=null),Ja!==null&&Xp(Ja)&&(Ja=null),el!==null&&Xp(el)&&(el=null),$f.forEach(DS),Uf.forEach(DS)}function ef(e,t){e.blockedOn===t&&(e.blockedOn=null,s1||(s1=!0,Wo.unstable_scheduleCallback(Wo.unstable_NormalPriority,tP)))}function Gf(e){function t(o){return ef(o,e)}if(0<Sp.length){ef(Sp[0],e);for(var n=1;n<Sp.length;n++){var r=Sp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Za!==null&&ef(Za,e),Ja!==null&&ef(Ja,e),el!==null&&ef(el,e),$f.forEach(t),Uf.forEach(t),n=0;n<Ga.length;n++)r=Ga[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ga.length&&(n=Ga[0],n.blockedOn===null);)Q4(n),n.blockedOn===null&&Ga.shift()}var Iu=ia.ReactCurrentBatchConfig,Cm=!0;function nP(e,t,n,r){var o=ln,i=Iu.transition;Iu.transition=null;try{ln=1,O2(e,t,n,r)}finally{ln=o,Iu.transition=i}}function rP(e,t,n,r){var o=ln,i=Iu.transition;Iu.transition=null;try{ln=4,O2(e,t,n,r)}finally{ln=o,Iu.transition=i}}function O2(e,t,n,r){if(Cm){var o=a1(e,t,n,r);if(o===null)Hv(e,t,r,km,n),IS(e,r);else if(eP(o,e,t,n,r))r.stopPropagation();else if(IS(e,r),t&4&&-1<JE.indexOf(e)){for(;o!==null;){var i=yh(o);if(i!==null&&K4(i),i=a1(e,t,n,r),i===null&&Hv(e,t,r,km,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Hv(e,t,r,null,n)}}var km=null;function a1(e,t,n,r){if(km=null,e=A2(r),e=tc(e),e!==null)if(t=yc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=z4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return km=e,null}function Z4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VE()){case M2:return 1;case G4:return 4;case Sm:case HE:return 16;case V4:return 536870912;default:return 16}default:return 16}}var qa=null,j2=null,Qp=null;function J4(){if(Qp)return Qp;var e,t=j2,n=t.length,r,o="value"in qa?qa.value:qa.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Qp=o.slice(e,1<r?1-r:void 0)}function Zp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _p(){return!0}function OS(){return!1}function Xo(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_p:OS,this.isPropagationStopped=OS,this}return Ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_p)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_p)},persist:function(){},isPersistent:_p}),t}var id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L2=Xo(id),vh=Ln({},id,{view:0,detail:0}),oP=Xo(vh),jv,Lv,tf,ug=Ln({},vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tf&&(tf&&e.type==="mousemove"?(jv=e.screenX-tf.screenX,Lv=e.screenY-tf.screenY):Lv=jv=0,tf=e),jv)},movementY:function(e){return"movementY"in e?e.movementY:Lv}}),jS=Xo(ug),iP=Ln({},ug,{dataTransfer:0}),sP=Xo(iP),aP=Ln({},vh,{relatedTarget:0}),Fv=Xo(aP),lP=Ln({},id,{animationName:0,elapsedTime:0,pseudoElement:0}),cP=Xo(lP),uP=Ln({},id,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dP=Xo(uP),fP=Ln({},id,{data:0}),LS=Xo(fP),hP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mP[e])?!!t[e]:!1}function F2(){return gP}var vP=Ln({},vh,{key:function(e){if(e.key){var t=hP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F2,charCode:function(e){return e.type==="keypress"?Zp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yP=Xo(vP),wP=Ln({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FS=Xo(wP),xP=Ln({},vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F2}),bP=Xo(xP),SP=Ln({},id,{propertyName:0,elapsedTime:0,pseudoElement:0}),_P=Xo(SP),CP=Ln({},ug,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kP=Xo(CP),EP=[9,13,27,32],z2=Js&&"CompositionEvent"in window,Nf=null;Js&&"documentMode"in document&&(Nf=document.documentMode);var PP=Js&&"TextEvent"in window&&!Nf,e6=Js&&(!z2||Nf&&8<Nf&&11>=Nf),zS=" ",BS=!1;function t6(e,t){switch(e){case"keyup":return EP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xu=!1;function TP(e,t){switch(e){case"compositionend":return n6(t);case"keypress":return t.which!==32?null:(BS=!0,zS);case"textInput":return e=t.data,e===zS&&BS?null:e;default:return null}}function RP(e,t){if(xu)return e==="compositionend"||!z2&&t6(e,t)?(e=J4(),Qp=j2=qa=null,xu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e6&&t.locale!=="ko"?null:t.data;default:return null}}var NP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NP[e.type]:t==="textarea"}function r6(e,t,n,r){D4(r),t=Em(t,"onChange"),0<t.length&&(n=new L2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Af=null,Vf=null;function AP(e){p6(e,0)}function dg(e){var t=_u(e);if(P4(t))return e}function MP(e,t){if(e==="change")return t}var o6=!1;if(Js){var zv;if(Js){var Bv="oninput"in document;if(!Bv){var US=document.createElement("div");US.setAttribute("oninput","return;"),Bv=typeof US.oninput=="function"}zv=Bv}else zv=!1;o6=zv&&(!document.documentMode||9<document.documentMode)}function GS(){Af&&(Af.detachEvent("onpropertychange",i6),Vf=Af=null)}function i6(e){if(e.propertyName==="value"&&dg(Vf)){var t=[];r6(t,Vf,e,A2(e)),F4(AP,t)}}function IP(e,t,n){e==="focusin"?(GS(),Af=t,Vf=n,Af.attachEvent("onpropertychange",i6)):e==="focusout"&&GS()}function DP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dg(Vf)}function OP(e,t){if(e==="click")return dg(t)}function jP(e,t){if(e==="input"||e==="change")return dg(t)}function LP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $i=typeof Object.is=="function"?Object.is:LP;function Hf(e,t){if($i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Gy.call(t,o)||!$i(e[o],t[o]))return!1}return!0}function VS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HS(e,t){var n=VS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VS(n)}}function s6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a6(){for(var e=window,t=wm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wm(e.document)}return t}function B2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FP(e){var t=a6(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&s6(n.ownerDocument.documentElement,n)){if(r!==null&&B2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=HS(n,i);var s=HS(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zP=Js&&"documentMode"in document&&11>=document.documentMode,bu=null,l1=null,Mf=null,c1=!1;function WS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c1||bu==null||bu!==wm(r)||(r=bu,"selectionStart"in r&&B2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mf&&Hf(Mf,r)||(Mf=r,r=Em(l1,"onSelect"),0<r.length&&(t=new L2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bu)))}function Cp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Su={animationend:Cp("Animation","AnimationEnd"),animationiteration:Cp("Animation","AnimationIteration"),animationstart:Cp("Animation","AnimationStart"),transitionend:Cp("Transition","TransitionEnd")},$v={},l6={};Js&&(l6=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function fg(e){if($v[e])return $v[e];if(!Su[e])return e;var t=Su[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in l6)return $v[e]=t[n];return e}var c6=fg("animationend"),u6=fg("animationiteration"),d6=fg("animationstart"),f6=fg("transitionend"),h6=new Map,KS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(e,t){h6.set(e,t),vc(t,[e])}for(var Uv=0;Uv<KS.length;Uv++){var Gv=KS[Uv],BP=Gv.toLowerCase(),$P=Gv[0].toUpperCase()+Gv.slice(1);fl(BP,"on"+$P)}fl(c6,"onAnimationEnd");fl(u6,"onAnimationIteration");fl(d6,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(f6,"onTransitionEnd");Uu("onMouseEnter",["mouseout","mouseover"]);Uu("onMouseLeave",["mouseout","mouseover"]);Uu("onPointerEnter",["pointerout","pointerover"]);Uu("onPointerLeave",["pointerout","pointerover"]);vc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vc("onBeforeInput",["compositionend","keypress","textInput","paste"]);vc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UP=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function YS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BE(r,t,void 0,e),e.currentTarget=null}function p6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,f=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;YS(o,a,f),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,f=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;YS(o,a,f),i=c}}}if(bm)throw e=o1,bm=!1,o1=null,e}function Sn(e,t){var n=t[p1];n===void 0&&(n=t[p1]=new Set);var r=e+"__bubble";n.has(r)||(m6(t,e,2,!1),n.add(r))}function Vv(e,t,n){var r=0;t&&(r|=4),m6(n,e,r,t)}var kp="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[kp]){e[kp]=!0,S4.forEach(function(n){n!=="selectionchange"&&(UP.has(n)||Vv(n,!1,e),Vv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kp]||(t[kp]=!0,Vv("selectionchange",!1,t))}}function m6(e,t,n,r){switch(Z4(t)){case 1:var o=nP;break;case 4:o=rP;break;default:o=O2}n=o.bind(null,t,n,e),o=void 0,!r1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hv(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=tc(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}F4(function(){var f=i,d=A2(n),h=[];e:{var p=h6.get(e);if(p!==void 0){var g=L2,w=e;switch(e){case"keypress":if(Zp(n)===0)break e;case"keydown":case"keyup":g=yP;break;case"focusin":w="focus",g=Fv;break;case"focusout":w="blur",g=Fv;break;case"beforeblur":case"afterblur":g=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bP;break;case c6:case u6:case d6:g=cP;break;case f6:g=_P;break;case"scroll":g=oP;break;case"wheel":g=kP;break;case"copy":case"cut":case"paste":g=dP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=FS}var S=(t&4)!==0,C=!S&&e==="scroll",k=S?p!==null?p+"Capture":null:p;S=[];for(var P=f,y;P!==null;){y=P;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,k!==null&&(E=Bf(P,k),E!=null&&S.push(Kf(P,E,y)))),C)break;P=P.return}0<S.length&&(p=new g(p,w,null,n,d),h.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==t1&&(w=n.relatedTarget||n.fromElement)&&(tc(w)||w[ea]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=f,w=w?tc(w):null,w!==null&&(C=yc(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=f),g!==w)){if(S=jS,E="onMouseLeave",k="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(S=FS,E="onPointerLeave",k="onPointerEnter",P="pointer"),C=g==null?p:_u(g),y=w==null?p:_u(w),p=new S(E,P+"leave",g,n,d),p.target=C,p.relatedTarget=y,E=null,tc(d)===f&&(S=new S(k,P+"enter",w,n,d),S.target=y,S.relatedTarget=C,E=S),C=E,g&&w)t:{for(S=g,k=w,P=0,y=S;y;y=eu(y))P++;for(y=0,E=k;E;E=eu(E))y++;for(;0<P-y;)S=eu(S),P--;for(;0<y-P;)k=eu(k),y--;for(;P--;){if(S===k||k!==null&&S===k.alternate)break t;S=eu(S),k=eu(k)}S=null}else S=null;g!==null&&qS(h,p,g,S,!1),w!==null&&C!==null&&qS(h,C,w,S,!0)}}e:{if(p=f?_u(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=MP;else if($S(p))if(o6)M=jP;else{M=DP;var A=IP}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=OP);if(M&&(M=M(e,f))){r6(h,M,n,d);break e}A&&A(e,p,f),e==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Xy(p,"number",p.value)}switch(A=f?_u(f):window,e){case"focusin":($S(A)||A.contentEditable==="true")&&(bu=A,l1=f,Mf=null);break;case"focusout":Mf=l1=bu=null;break;case"mousedown":c1=!0;break;case"contextmenu":case"mouseup":case"dragend":c1=!1,WS(h,n,d);break;case"selectionchange":if(zP)break;case"keydown":case"keyup":WS(h,n,d)}var z;if(z2)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xu?t6(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(e6&&n.locale!=="ko"&&(xu||O!=="onCompositionStart"?O==="onCompositionEnd"&&xu&&(z=J4()):(qa=d,j2="value"in qa?qa.value:qa.textContent,xu=!0)),A=Em(f,O),0<A.length&&(O=new LS(O,e,null,n,d),h.push({event:O,listeners:A}),z?O.data=z:(z=n6(n),z!==null&&(O.data=z)))),(z=PP?TP(e,n):RP(e,n))&&(f=Em(f,"onBeforeInput"),0<f.length&&(d=new LS("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:f}),d.data=z))}p6(h,t)})}function Kf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Em(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Bf(e,n),i!=null&&r.unshift(Kf(e,i,o)),i=Bf(e,t),i!=null&&r.push(Kf(e,i,o))),e=e.return}return r}function eu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qS(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,f=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&f!==null&&(a=f,o?(c=Bf(n,i),c!=null&&s.unshift(Kf(n,c,a))):o||(c=Bf(n,i),c!=null&&s.push(Kf(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var GP=/\r\n?/g,VP=/\u0000|\uFFFD/g;function XS(e){return(typeof e=="string"?e:""+e).replace(GP,`
`).replace(VP,"")}function Ep(e,t,n){if(t=XS(t),XS(e)!==t&&n)throw Error(Fe(425))}function Pm(){}var u1=null,d1=null;function f1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var h1=typeof setTimeout=="function"?setTimeout:void 0,HP=typeof clearTimeout=="function"?clearTimeout:void 0,QS=typeof Promise=="function"?Promise:void 0,WP=typeof queueMicrotask=="function"?queueMicrotask:typeof QS<"u"?function(e){return QS.resolve(null).then(e).catch(KP)}:h1;function KP(e){setTimeout(function(){throw e})}function Wv(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Gf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Gf(t)}function tl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sd=Math.random().toString(36).slice(2),us="__reactFiber$"+sd,Yf="__reactProps$"+sd,ea="__reactContainer$"+sd,p1="__reactEvents$"+sd,YP="__reactListeners$"+sd,qP="__reactHandles$"+sd;function tc(e){var t=e[us];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[us]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ZS(e);e!==null;){if(n=e[us])return n;e=ZS(e)}return t}e=n,n=e.parentNode}return null}function yh(e){return e=e[us]||e[ea],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _u(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function hg(e){return e[Yf]||null}var m1=[],Cu=-1;function hl(e){return{current:e}}function kn(e){0>Cu||(e.current=m1[Cu],m1[Cu]=null,Cu--)}function yn(e,t){Cu++,m1[Cu]=e.current,e.current=t}var ll={},Yr=hl(ll),No=hl(!1),uc=ll;function Gu(e,t){var n=e.type.contextTypes;if(!n)return ll;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ao(e){return e=e.childContextTypes,e!=null}function Tm(){kn(No),kn(Yr)}function JS(e,t,n){if(Yr.current!==ll)throw Error(Fe(168));yn(Yr,t),yn(No,n)}function g6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Fe(108,IE(e)||"Unknown",o));return Ln({},n,r)}function Rm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ll,uc=Yr.current,yn(Yr,e),yn(No,No.current),!0}function e3(e,t,n){var r=e.stateNode;if(!r)throw Error(Fe(169));n?(e=g6(e,t,uc),r.__reactInternalMemoizedMergedChildContext=e,kn(No),kn(Yr),yn(Yr,e)):kn(No),yn(No,n)}var Gs=null,pg=!1,Kv=!1;function v6(e){Gs===null?Gs=[e]:Gs.push(e)}function XP(e){pg=!0,v6(e)}function pl(){if(!Kv&&Gs!==null){Kv=!0;var e=0,t=ln;try{var n=Gs;for(ln=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gs=null,pg=!1}catch(o){throw Gs!==null&&(Gs=Gs.slice(e+1)),U4(M2,pl),o}finally{ln=t,Kv=!1}}return null}var ku=[],Eu=0,Nm=null,Am=0,si=[],ai=0,dc=null,Ws=1,Ks="";function Kl(e,t){ku[Eu++]=Am,ku[Eu++]=Nm,Nm=e,Am=t}function y6(e,t,n){si[ai++]=Ws,si[ai++]=Ks,si[ai++]=dc,dc=e;var r=Ws;e=Ks;var o=32-Fi(r)-1;r&=~(1<<o),n+=1;var i=32-Fi(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ws=1<<32-Fi(t)+o|n<<o|r,Ks=i+e}else Ws=1<<i|n<<o|r,Ks=e}function $2(e){e.return!==null&&(Kl(e,1),y6(e,1,0))}function U2(e){for(;e===Nm;)Nm=ku[--Eu],ku[Eu]=null,Am=ku[--Eu],ku[Eu]=null;for(;e===dc;)dc=si[--ai],si[ai]=null,Ks=si[--ai],si[ai]=null,Ws=si[--ai],si[ai]=null}var Ho=null,Vo=null,Rn=!1,Mi=null;function w6(e,t){var n=ci(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function t3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ho=e,Vo=tl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ho=e,Vo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dc!==null?{id:Ws,overflow:Ks}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ci(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ho=e,Vo=null,!0):!1;default:return!1}}function g1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function v1(e){if(Rn){var t=Vo;if(t){var n=t;if(!t3(e,t)){if(g1(e))throw Error(Fe(418));t=tl(n.nextSibling);var r=Ho;t&&t3(e,t)?w6(r,n):(e.flags=e.flags&-4097|2,Rn=!1,Ho=e)}}else{if(g1(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,Rn=!1,Ho=e}}}function n3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ho=e}function Pp(e){if(e!==Ho)return!1;if(!Rn)return n3(e),Rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!f1(e.type,e.memoizedProps)),t&&(t=Vo)){if(g1(e))throw x6(),Error(Fe(418));for(;t;)w6(e,t),t=tl(t.nextSibling)}if(n3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vo=tl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vo=null}}else Vo=Ho?tl(e.stateNode.nextSibling):null;return!0}function x6(){for(var e=Vo;e;)e=tl(e.nextSibling)}function Vu(){Vo=Ho=null,Rn=!1}function G2(e){Mi===null?Mi=[e]:Mi.push(e)}var QP=ia.ReactCurrentBatchConfig;function nf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,e))}return e}function Tp(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r3(e){var t=e._init;return t(e._payload)}function b6(e){function t(k,P){if(e){var y=k.deletions;y===null?(k.deletions=[P],k.flags|=16):y.push(P)}}function n(k,P){if(!e)return null;for(;P!==null;)t(k,P),P=P.sibling;return null}function r(k,P){for(k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function o(k,P){return k=il(k,P),k.index=0,k.sibling=null,k}function i(k,P,y){return k.index=y,e?(y=k.alternate,y!==null?(y=y.index,y<P?(k.flags|=2,P):y):(k.flags|=2,P)):(k.flags|=1048576,P)}function s(k){return e&&k.alternate===null&&(k.flags|=2),k}function a(k,P,y,E){return P===null||P.tag!==6?(P=ey(y,k.mode,E),P.return=k,P):(P=o(P,y),P.return=k,P)}function c(k,P,y,E){var M=y.type;return M===wu?d(k,P,y.props.children,E,y.key):P!==null&&(P.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ba&&r3(M)===P.type)?(E=o(P,y.props),E.ref=nf(k,P,y),E.return=k,E):(E=im(y.type,y.key,y.props,null,k.mode,E),E.ref=nf(k,P,y),E.return=k,E)}function f(k,P,y,E){return P===null||P.tag!==4||P.stateNode.containerInfo!==y.containerInfo||P.stateNode.implementation!==y.implementation?(P=ty(y,k.mode,E),P.return=k,P):(P=o(P,y.children||[]),P.return=k,P)}function d(k,P,y,E,M){return P===null||P.tag!==7?(P=lc(y,k.mode,E,M),P.return=k,P):(P=o(P,y),P.return=k,P)}function h(k,P,y){if(typeof P=="string"&&P!==""||typeof P=="number")return P=ey(""+P,k.mode,y),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case vp:return y=im(P.type,P.key,P.props,null,k.mode,y),y.ref=nf(k,null,P),y.return=k,y;case yu:return P=ty(P,k.mode,y),P.return=k,P;case Ba:var E=P._init;return h(k,E(P._payload),y)}if(gf(P)||Qd(P))return P=lc(P,k.mode,y,null),P.return=k,P;Tp(k,P)}return null}function p(k,P,y,E){var M=P!==null?P.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:a(k,P,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vp:return y.key===M?c(k,P,y,E):null;case yu:return y.key===M?f(k,P,y,E):null;case Ba:return M=y._init,p(k,P,M(y._payload),E)}if(gf(y)||Qd(y))return M!==null?null:d(k,P,y,E,null);Tp(k,y)}return null}function g(k,P,y,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return k=k.get(y)||null,a(P,k,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vp:return k=k.get(E.key===null?y:E.key)||null,c(P,k,E,M);case yu:return k=k.get(E.key===null?y:E.key)||null,f(P,k,E,M);case Ba:var A=E._init;return g(k,P,y,A(E._payload),M)}if(gf(E)||Qd(E))return k=k.get(y)||null,d(P,k,E,M,null);Tp(P,E)}return null}function w(k,P,y,E){for(var M=null,A=null,z=P,O=P=0,V=null;z!==null&&O<y.length;O++){z.index>O?(V=z,z=null):V=z.sibling;var B=p(k,z,y[O],E);if(B===null){z===null&&(z=V);break}e&&z&&B.alternate===null&&t(k,z),P=i(B,P,O),A===null?M=B:A.sibling=B,A=B,z=V}if(O===y.length)return n(k,z),Rn&&Kl(k,O),M;if(z===null){for(;O<y.length;O++)z=h(k,y[O],E),z!==null&&(P=i(z,P,O),A===null?M=z:A.sibling=z,A=z);return Rn&&Kl(k,O),M}for(z=r(k,z);O<y.length;O++)V=g(z,k,O,y[O],E),V!==null&&(e&&V.alternate!==null&&z.delete(V.key===null?O:V.key),P=i(V,P,O),A===null?M=V:A.sibling=V,A=V);return e&&z.forEach(function(U){return t(k,U)}),Rn&&Kl(k,O),M}function S(k,P,y,E){var M=Qd(y);if(typeof M!="function")throw Error(Fe(150));if(y=M.call(y),y==null)throw Error(Fe(151));for(var A=M=null,z=P,O=P=0,V=null,B=y.next();z!==null&&!B.done;O++,B=y.next()){z.index>O?(V=z,z=null):V=z.sibling;var U=p(k,z,B.value,E);if(U===null){z===null&&(z=V);break}e&&z&&U.alternate===null&&t(k,z),P=i(U,P,O),A===null?M=U:A.sibling=U,A=U,z=V}if(B.done)return n(k,z),Rn&&Kl(k,O),M;if(z===null){for(;!B.done;O++,B=y.next())B=h(k,B.value,E),B!==null&&(P=i(B,P,O),A===null?M=B:A.sibling=B,A=B);return Rn&&Kl(k,O),M}for(z=r(k,z);!B.done;O++,B=y.next())B=g(z,k,O,B.value,E),B!==null&&(e&&B.alternate!==null&&z.delete(B.key===null?O:B.key),P=i(B,P,O),A===null?M=B:A.sibling=B,A=B);return e&&z.forEach(function(F){return t(k,F)}),Rn&&Kl(k,O),M}function C(k,P,y,E){if(typeof y=="object"&&y!==null&&y.type===wu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vp:e:{for(var M=y.key,A=P;A!==null;){if(A.key===M){if(M=y.type,M===wu){if(A.tag===7){n(k,A.sibling),P=o(A,y.props.children),P.return=k,k=P;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ba&&r3(M)===A.type){n(k,A.sibling),P=o(A,y.props),P.ref=nf(k,A,y),P.return=k,k=P;break e}n(k,A);break}else t(k,A);A=A.sibling}y.type===wu?(P=lc(y.props.children,k.mode,E,y.key),P.return=k,k=P):(E=im(y.type,y.key,y.props,null,k.mode,E),E.ref=nf(k,P,y),E.return=k,k=E)}return s(k);case yu:e:{for(A=y.key;P!==null;){if(P.key===A)if(P.tag===4&&P.stateNode.containerInfo===y.containerInfo&&P.stateNode.implementation===y.implementation){n(k,P.sibling),P=o(P,y.children||[]),P.return=k,k=P;break e}else{n(k,P);break}else t(k,P);P=P.sibling}P=ty(y,k.mode,E),P.return=k,k=P}return s(k);case Ba:return A=y._init,C(k,P,A(y._payload),E)}if(gf(y))return w(k,P,y,E);if(Qd(y))return S(k,P,y,E);Tp(k,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,P!==null&&P.tag===6?(n(k,P.sibling),P=o(P,y),P.return=k,k=P):(n(k,P),P=ey(y,k.mode,E),P.return=k,k=P),s(k)):n(k,P)}return C}var Hu=b6(!0),S6=b6(!1),Mm=hl(null),Im=null,Pu=null,V2=null;function H2(){V2=Pu=Im=null}function W2(e){var t=Mm.current;kn(Mm),e._currentValue=t}function y1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Du(e,t){Im=e,V2=Pu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ro=!0),e.firstContext=null)}function hi(e){var t=e._currentValue;if(V2!==e)if(e={context:e,memoizedValue:t,next:null},Pu===null){if(Im===null)throw Error(Fe(308));Pu=e,Im.dependencies={lanes:0,firstContext:e}}else Pu=Pu.next=e;return t}var nc=null;function K2(e){nc===null?nc=[e]:nc.push(e)}function _6(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,K2(t)):(n.next=o.next,o.next=n),t.interleaved=n,ta(e,r)}function ta(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $a=!1;function Y2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ys(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ta(e,n)}return o=r.interleaved,o===null?(t.next=t,K2(r)):(t.next=o.next,o.next=t),r.interleaved=t,ta(e,n)}function Jp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,I2(e,n)}}function o3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dm(e,t,n,r){var o=e.updateQueue;$a=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,f=c.next;c.next=null,s===null?i=f:s.next=f,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=c))}if(i!==null){var h=o.baseState;s=0,d=f=c=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,S=a;switch(p=t,g=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Ln({},h,p);break e;case 2:$a=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=g,c=h):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);hc|=s,e.lanes=s,e.memoizedState=h}}function i3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Fe(191,o));o.call(r)}}}var wh={},gs=hl(wh),qf=hl(wh),Xf=hl(wh);function rc(e){if(e===wh)throw Error(Fe(174));return e}function q2(e,t){switch(yn(Xf,t),yn(qf,e),yn(gs,wh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zy(t,e)}kn(gs),yn(gs,t)}function Wu(){kn(gs),kn(qf),kn(Xf)}function k6(e){rc(Xf.current);var t=rc(gs.current),n=Zy(t,e.type);t!==n&&(yn(qf,e),yn(gs,n))}function X2(e){qf.current===e&&(kn(gs),kn(qf))}var On=hl(0);function Om(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yv=[];function Q2(){for(var e=0;e<Yv.length;e++)Yv[e]._workInProgressVersionPrimary=null;Yv.length=0}var em=ia.ReactCurrentDispatcher,qv=ia.ReactCurrentBatchConfig,fc=0,jn=null,dr=null,Sr=null,jm=!1,If=!1,Qf=0,ZP=0;function Vr(){throw Error(Fe(321))}function Z2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$i(e[n],t[n]))return!1;return!0}function J2(e,t,n,r,o,i){if(fc=i,jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,em.current=e===null||e.memoizedState===null?nT:rT,e=n(r,o),If){i=0;do{if(If=!1,Qf=0,25<=i)throw Error(Fe(301));i+=1,Sr=dr=null,t.updateQueue=null,em.current=oT,e=n(r,o)}while(If)}if(em.current=Lm,t=dr!==null&&dr.next!==null,fc=0,Sr=dr=jn=null,jm=!1,t)throw Error(Fe(300));return e}function ew(){var e=Qf!==0;return Qf=0,e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?jn.memoizedState=Sr=e:Sr=Sr.next=e,Sr}function pi(){if(dr===null){var e=jn.alternate;e=e!==null?e.memoizedState:null}else e=dr.next;var t=Sr===null?jn.memoizedState:Sr.next;if(t!==null)Sr=t,dr=e;else{if(e===null)throw Error(Fe(310));dr=e,e={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Sr===null?jn.memoizedState=Sr=e:Sr=Sr.next=e}return Sr}function Zf(e,t){return typeof t=="function"?t(e):t}function Xv(e){var t=pi(),n=t.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=e;var r=dr,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,f=i;do{var d=f.lane;if((fc&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(a=c=h,s=r):c=c.next=h,jn.lanes|=d,hc|=d}f=f.next}while(f!==null&&f!==i);c===null?s=r:c.next=a,$i(r,t.memoizedState)||(Ro=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,jn.lanes|=i,hc|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qv(e){var t=pi(),n=t.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);$i(i,t.memoizedState)||(Ro=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function E6(){}function P6(e,t){var n=jn,r=pi(),o=t(),i=!$i(r.memoizedState,o);if(i&&(r.memoizedState=o,Ro=!0),r=r.queue,tw(N6.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Sr!==null&&Sr.memoizedState.tag&1){if(n.flags|=2048,Jf(9,R6.bind(null,n,r,o,t),void 0,null),_r===null)throw Error(Fe(349));fc&30||T6(n,t,o)}return o}function T6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R6(e,t,n,r){t.value=n,t.getSnapshot=r,A6(t)&&M6(e)}function N6(e,t,n){return n(function(){A6(t)&&M6(e)})}function A6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$i(e,n)}catch{return!0}}function M6(e){var t=ta(e,1);t!==null&&zi(t,e,1,-1)}function s3(e){var t=ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:e},t.queue=e,e=e.dispatch=tT.bind(null,jn,e),[t.memoizedState,e]}function Jf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I6(){return pi().memoizedState}function tm(e,t,n,r){var o=ls();jn.flags|=e,o.memoizedState=Jf(1|t,n,void 0,r===void 0?null:r)}function mg(e,t,n,r){var o=pi();r=r===void 0?null:r;var i=void 0;if(dr!==null){var s=dr.memoizedState;if(i=s.destroy,r!==null&&Z2(r,s.deps)){o.memoizedState=Jf(t,n,i,r);return}}jn.flags|=e,o.memoizedState=Jf(1|t,n,i,r)}function a3(e,t){return tm(8390656,8,e,t)}function tw(e,t){return mg(2048,8,e,t)}function D6(e,t){return mg(4,2,e,t)}function O6(e,t){return mg(4,4,e,t)}function j6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function L6(e,t,n){return n=n!=null?n.concat([e]):null,mg(4,4,j6.bind(null,t,e),n)}function nw(){}function F6(e,t){var n=pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Z2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function z6(e,t){var n=pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Z2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function B6(e,t,n){return fc&21?($i(n,t)||(n=H4(),jn.lanes|=n,hc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ro=!0),e.memoizedState=n)}function JP(e,t){var n=ln;ln=n!==0&&4>n?n:4,e(!0);var r=qv.transition;qv.transition={};try{e(!1),t()}finally{ln=n,qv.transition=r}}function $6(){return pi().memoizedState}function eT(e,t,n){var r=ol(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U6(e))G6(t,n);else if(n=_6(e,t,n,r),n!==null){var o=lo();zi(n,e,r,o),V6(n,t,r)}}function tT(e,t,n){var r=ol(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U6(e))G6(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,$i(a,s)){var c=t.interleaved;c===null?(o.next=o,K2(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=_6(e,t,o,r),n!==null&&(o=lo(),zi(n,e,r,o),V6(n,t,r))}}function U6(e){var t=e.alternate;return e===jn||t!==null&&t===jn}function G6(e,t){If=jm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function V6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,I2(e,n)}}var Lm={readContext:hi,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},nT={readContext:hi,useCallback:function(e,t){return ls().memoizedState=[e,t===void 0?null:t],e},useContext:hi,useEffect:a3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tm(4194308,4,j6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tm(4194308,4,e,t)},useInsertionEffect:function(e,t){return tm(4,2,e,t)},useMemo:function(e,t){var n=ls();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ls();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eT.bind(null,jn,e),[r.memoizedState,e]},useRef:function(e){var t=ls();return e={current:e},t.memoizedState=e},useState:s3,useDebugValue:nw,useDeferredValue:function(e){return ls().memoizedState=e},useTransition:function(){var e=s3(!1),t=e[0];return e=JP.bind(null,e[1]),ls().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=jn,o=ls();if(Rn){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=t(),_r===null)throw Error(Fe(349));fc&30||T6(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,a3(N6.bind(null,r,i,e),[e]),r.flags|=2048,Jf(9,R6.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ls(),t=_r.identifierPrefix;if(Rn){var n=Ks,r=Ws;n=(r&~(1<<32-Fi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rT={readContext:hi,useCallback:F6,useContext:hi,useEffect:tw,useImperativeHandle:L6,useInsertionEffect:D6,useLayoutEffect:O6,useMemo:z6,useReducer:Xv,useRef:I6,useState:function(){return Xv(Zf)},useDebugValue:nw,useDeferredValue:function(e){var t=pi();return B6(t,dr.memoizedState,e)},useTransition:function(){var e=Xv(Zf)[0],t=pi().memoizedState;return[e,t]},useMutableSource:E6,useSyncExternalStore:P6,useId:$6,unstable_isNewReconciler:!1},oT={readContext:hi,useCallback:F6,useContext:hi,useEffect:tw,useImperativeHandle:L6,useInsertionEffect:D6,useLayoutEffect:O6,useMemo:z6,useReducer:Qv,useRef:I6,useState:function(){return Qv(Zf)},useDebugValue:nw,useDeferredValue:function(e){var t=pi();return dr===null?t.memoizedState=e:B6(t,dr.memoizedState,e)},useTransition:function(){var e=Qv(Zf)[0],t=pi().memoizedState;return[e,t]},useMutableSource:E6,useSyncExternalStore:P6,useId:$6,unstable_isNewReconciler:!1};function Ri(e,t){if(e&&e.defaultProps){t=Ln({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function w1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ln({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gg={isMounted:function(e){return(e=e._reactInternals)?yc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lo(),o=ol(e),i=Ys(r,o);i.payload=t,n!=null&&(i.callback=n),t=nl(e,i,o),t!==null&&(zi(t,e,o,r),Jp(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lo(),o=ol(e),i=Ys(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nl(e,i,o),t!==null&&(zi(t,e,o,r),Jp(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lo(),r=ol(e),o=Ys(n,r);o.tag=2,t!=null&&(o.callback=t),t=nl(e,o,r),t!==null&&(zi(t,e,r,n),Jp(t,e,r))}};function l3(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Hf(n,r)||!Hf(o,i):!0}function H6(e,t,n){var r=!1,o=ll,i=t.contextType;return typeof i=="object"&&i!==null?i=hi(i):(o=Ao(t)?uc:Yr.current,r=t.contextTypes,i=(r=r!=null)?Gu(e,o):ll),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function c3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gg.enqueueReplaceState(t,t.state,null)}function x1(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Y2(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=hi(i):(i=Ao(t)?uc:Yr.current,o.context=Gu(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(w1(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&gg.enqueueReplaceState(o,o.state,null),Dm(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ku(e,t){try{var n="",r=t;do n+=ME(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Zv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function b1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iT=typeof WeakMap=="function"?WeakMap:Map;function W6(e,t,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zm||(zm=!0,A1=r),b1(e,t)},n}function K6(e,t,n){n=Ys(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){b1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){b1(e,t),typeof r!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function u3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iT;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=wT.bind(null,e,t,n),t.then(e,e))}function d3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function f3(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ys(-1,1),t.tag=2,nl(n,t,1))),n.lanes|=1),e)}var sT=ia.ReactCurrentOwner,Ro=!1;function io(e,t,n,r){t.child=e===null?S6(t,null,n,r):Hu(t,e.child,n,r)}function h3(e,t,n,r,o){n=n.render;var i=t.ref;return Du(t,o),r=J2(e,t,n,r,i,o),n=ew(),e!==null&&!Ro?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,na(e,t,o)):(Rn&&n&&$2(t),t.flags|=1,io(e,t,r,o),t.child)}function p3(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!uw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Y6(e,t,i,r,o)):(e=im(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hf,n(s,r)&&e.ref===t.ref)return na(e,t,o)}return t.flags|=1,e=il(i,r),e.ref=t.ref,e.return=t,t.child=e}function Y6(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Hf(i,r)&&e.ref===t.ref)if(Ro=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ro=!0);else return t.lanes=e.lanes,na(e,t,o)}return S1(e,t,n,r,o)}function q6(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Ru,Go),Go|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yn(Ru,Go),Go|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yn(Ru,Go),Go|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,yn(Ru,Go),Go|=r;return io(e,t,o,n),t.child}function X6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function S1(e,t,n,r,o){var i=Ao(n)?uc:Yr.current;return i=Gu(t,i),Du(t,o),n=J2(e,t,n,r,i,o),r=ew(),e!==null&&!Ro?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,na(e,t,o)):(Rn&&r&&$2(t),t.flags|=1,io(e,t,n,o),t.child)}function m3(e,t,n,r,o){if(Ao(n)){var i=!0;Rm(t)}else i=!1;if(Du(t,o),t.stateNode===null)nm(e,t),H6(t,n,r),x1(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=hi(f):(f=Ao(n)?uc:Yr.current,f=Gu(t,f));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==f)&&c3(t,s,r,f),$a=!1;var p=t.memoizedState;s.state=p,Dm(t,r,s,o),c=t.memoizedState,a!==r||p!==c||No.current||$a?(typeof d=="function"&&(w1(t,n,d,r),c=t.memoizedState),(a=$a||l3(t,n,a,r,p,c,f))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=f,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,C6(e,t),a=t.memoizedProps,f=t.type===t.elementType?a:Ri(t.type,a),s.props=f,h=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=hi(c):(c=Ao(n)?uc:Yr.current,c=Gu(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==c)&&c3(t,s,r,c),$a=!1,p=t.memoizedState,s.state=p,Dm(t,r,s,o);var w=t.memoizedState;a!==h||p!==w||No.current||$a?(typeof g=="function"&&(w1(t,n,g,r),w=t.memoizedState),(f=$a||l3(t,n,f,r,p,w,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _1(e,t,n,r,i,o)}function _1(e,t,n,r,o,i){X6(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&e3(t,n,!1),na(e,t,i);r=t.stateNode,sT.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Hu(t,e.child,null,i),t.child=Hu(t,null,a,i)):io(e,t,a,i),t.memoizedState=r.state,o&&e3(t,n,!0),t.child}function Q6(e){var t=e.stateNode;t.pendingContext?JS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JS(e,t.context,!1),q2(e,t.containerInfo)}function g3(e,t,n,r,o){return Vu(),G2(o),t.flags|=256,io(e,t,n,r),t.child}var C1={dehydrated:null,treeContext:null,retryLane:0};function k1(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z6(e,t,n){var r=t.pendingProps,o=On.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),yn(On,o&1),e===null)return v1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=wg(s,r,0,null),e=lc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=k1(n),t.memoizedState=C1,e):rw(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return aT(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=il(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=il(a,i):(i=lc(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?k1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=C1,r}return i=e.child,e=i.sibling,r=il(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rw(e,t){return t=wg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rp(e,t,n,r){return r!==null&&G2(r),Hu(t,e.child,null,n),e=rw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aT(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Zv(Error(Fe(422))),Rp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=wg({mode:"visible",children:r.children},o,0,null),i=lc(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Hu(t,e.child,null,s),t.child.memoizedState=k1(s),t.memoizedState=C1,i);if(!(t.mode&1))return Rp(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Fe(419)),r=Zv(i,r,void 0),Rp(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ro||a){if(r=_r,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ta(e,o),zi(r,e,o,-1))}return cw(),r=Zv(Error(Fe(421))),Rp(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=xT.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Vo=tl(o.nextSibling),Ho=t,Rn=!0,Mi=null,e!==null&&(si[ai++]=Ws,si[ai++]=Ks,si[ai++]=dc,Ws=e.id,Ks=e.overflow,dc=t),t=rw(t,r.children),t.flags|=4096,t)}function v3(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),y1(e.return,t,n)}function Jv(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function J6(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(io(e,t,r.children,n),r=On.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v3(e,n,t);else if(e.tag===19)v3(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yn(On,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Om(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Jv(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Om(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Jv(t,!0,n,null,i);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function na(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lT(e,t,n){switch(t.tag){case 3:Q6(t),Vu();break;case 5:k6(t);break;case 1:Ao(t.type)&&Rm(t);break;case 4:q2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;yn(Mm,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(yn(On,On.current&1),t.flags|=128,null):n&t.child.childLanes?Z6(e,t,n):(yn(On,On.current&1),e=na(e,t,n),e!==null?e.sibling:null);yn(On,On.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return J6(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),yn(On,On.current),r)break;return null;case 22:case 23:return t.lanes=0,q6(e,t,n)}return na(e,t,n)}var eC,E1,tC,nC;eC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E1=function(){};tC=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rc(gs.current);var i=null;switch(n){case"input":o=Yy(e,o),r=Yy(e,r),i=[];break;case"select":o=Ln({},o,{value:void 0}),r=Ln({},r,{value:void 0}),i=[];break;case"textarea":o=Qy(e,o),r=Qy(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pm)}Jy(n,r);var s;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var a=o[f];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ff.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var c=r[f];if(a=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&c!==a&&(c!=null||a!=null))if(f==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Sn("scroll",e),i||a===c||(i=[])):(i=i||[]).push(f,c))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};nC=function(e,t,n,r){n!==r&&(t.flags|=4)};function rf(e,t){if(!Rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cT(e,t,n){var r=t.pendingProps;switch(U2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(t),null;case 1:return Ao(t.type)&&Tm(),Hr(t),null;case 3:return r=t.stateNode,Wu(),kn(No),kn(Yr),Q2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mi!==null&&(D1(Mi),Mi=null))),E1(e,t),Hr(t),null;case 5:X2(t);var o=rc(Xf.current);if(n=t.type,e!==null&&t.stateNode!=null)tC(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Fe(166));return Hr(t),null}if(e=rc(gs.current),Pp(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[us]=t,r[Yf]=i,e=(t.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(o=0;o<yf.length;o++)Sn(yf[o],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":ES(r,i),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Sn("invalid",r);break;case"textarea":TS(r,i),Sn("invalid",r)}Jy(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ep(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ep(r.textContent,a,e),o=["children",""+a]):Ff.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Sn("scroll",r)}switch(n){case"input":yp(r),PS(r,i,!0);break;case"textarea":yp(r),RS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pm)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=N4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[us]=t,e[Yf]=r,eC(e,t,!1,!1),t.stateNode=e;e:{switch(s=e1(n,r),n){case"dialog":Sn("cancel",e),Sn("close",e),o=r;break;case"iframe":case"object":case"embed":Sn("load",e),o=r;break;case"video":case"audio":for(o=0;o<yf.length;o++)Sn(yf[o],e);o=r;break;case"source":Sn("error",e),o=r;break;case"img":case"image":case"link":Sn("error",e),Sn("load",e),o=r;break;case"details":Sn("toggle",e),o=r;break;case"input":ES(e,r),o=Yy(e,r),Sn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ln({},r,{value:void 0}),Sn("invalid",e);break;case"textarea":TS(e,r),o=Qy(e,r),Sn("invalid",e);break;default:o=r}Jy(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?I4(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A4(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zf(e,c):typeof c=="number"&&zf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ff.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Sn("scroll",e):c!=null&&P2(e,i,c,s))}switch(n){case"input":yp(e),PS(e,r,!1);break;case"textarea":yp(e),RS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+al(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Nu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Nu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Pm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hr(t),null;case 6:if(e&&t.stateNode!=null)nC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Fe(166));if(n=rc(Xf.current),rc(gs.current),Pp(t)){if(r=t.stateNode,n=t.memoizedProps,r[us]=t,(i=r.nodeValue!==n)&&(e=Ho,e!==null))switch(e.tag){case 3:Ep(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ep(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=t,t.stateNode=r}return Hr(t),null;case 13:if(kn(On),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rn&&Vo!==null&&t.mode&1&&!(t.flags&128))x6(),Vu(),t.flags|=98560,i=!1;else if(i=Pp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[us]=t}else Vu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hr(t),i=!1}else Mi!==null&&(D1(Mi),Mi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||On.current&1?pr===0&&(pr=3):cw())),t.updateQueue!==null&&(t.flags|=4),Hr(t),null);case 4:return Wu(),E1(e,t),e===null&&Wf(t.stateNode.containerInfo),Hr(t),null;case 10:return W2(t.type._context),Hr(t),null;case 17:return Ao(t.type)&&Tm(),Hr(t),null;case 19:if(kn(On),i=t.memoizedState,i===null)return Hr(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)rf(i,!1);else{if(pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Om(e),s!==null){for(t.flags|=128,rf(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return yn(On,On.current&1|2),t.child}e=e.sibling}i.tail!==null&&Jn()>Yu&&(t.flags|=128,r=!0,rf(i,!1),t.lanes=4194304)}else{if(!r)if(e=Om(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Rn)return Hr(t),null}else 2*Jn()-i.renderingStartTime>Yu&&n!==1073741824&&(t.flags|=128,r=!0,rf(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Jn(),t.sibling=null,n=On.current,yn(On,r?n&1|2:n&1),t):(Hr(t),null);case 22:case 23:return lw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Go&1073741824&&(Hr(t),t.subtreeFlags&6&&(t.flags|=8192)):Hr(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function uT(e,t){switch(U2(t),t.tag){case 1:return Ao(t.type)&&Tm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wu(),kn(No),kn(Yr),Q2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X2(t),null;case 13:if(kn(On),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));Vu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kn(On),null;case 4:return Wu(),null;case 10:return W2(t.type._context),null;case 22:case 23:return lw(),null;case 24:return null;default:return null}}var Np=!1,Wr=!1,dT=typeof WeakSet=="function"?WeakSet:Set,st=null;function Tu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(e,t,r)}else n.current=null}function P1(e,t,n){try{n()}catch(r){Un(e,t,r)}}var y3=!1;function fT(e,t){if(u1=Cm,e=a6(),B2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,f=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==i||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++f===o&&(a=s),p===i&&++d===r&&(c=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(d1={focusedElem:e,selectionRange:n},Cm=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){t=st;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,C=w.memoizedState,k=t.stateNode,P=k.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ri(t.type,S),C);k.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(E){Un(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}return w=y3,y3=!1,w}function Df(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&P1(t,n,i)}o=o.next}while(o!==r)}}function vg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function T1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rC(e){var t=e.alternate;t!==null&&(e.alternate=null,rC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[us],delete t[Yf],delete t[p1],delete t[YP],delete t[qP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oC(e){return e.tag===5||e.tag===3||e.tag===4}function w3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pm));else if(r!==4&&(e=e.child,e!==null))for(R1(e,t,n),e=e.sibling;e!==null;)R1(e,t,n),e=e.sibling}function N1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(N1(e,t,n),e=e.sibling;e!==null;)N1(e,t,n),e=e.sibling}var Rr=null,Ni=!1;function La(e,t,n){for(n=n.child;n!==null;)iC(e,t,n),n=n.sibling}function iC(e,t,n){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(cg,n)}catch{}switch(n.tag){case 5:Wr||Tu(n,t);case 6:var r=Rr,o=Ni;Rr=null,La(e,t,n),Rr=r,Ni=o,Rr!==null&&(Ni?(e=Rr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(Ni?(e=Rr,n=n.stateNode,e.nodeType===8?Wv(e.parentNode,n):e.nodeType===1&&Wv(e,n),Gf(e)):Wv(Rr,n.stateNode));break;case 4:r=Rr,o=Ni,Rr=n.stateNode.containerInfo,Ni=!0,La(e,t,n),Rr=r,Ni=o;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&P1(n,t,s),o=o.next}while(o!==r)}La(e,t,n);break;case 1:if(!Wr&&(Tu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,t,a)}La(e,t,n);break;case 21:La(e,t,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,La(e,t,n),Wr=r):La(e,t,n);break;default:La(e,t,n)}}function x3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dT),t.forEach(function(r){var o=bT.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Pi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,Ni=!1;break e;case 3:Rr=a.stateNode.containerInfo,Ni=!0;break e;case 4:Rr=a.stateNode.containerInfo,Ni=!0;break e}a=a.return}if(Rr===null)throw Error(Fe(160));iC(i,s,o),Rr=null,Ni=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(f){Un(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sC(t,e),t=t.sibling}function sC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pi(t,e),as(e),r&4){try{Df(3,e,e.return),vg(3,e)}catch(S){Un(e,e.return,S)}try{Df(5,e,e.return)}catch(S){Un(e,e.return,S)}}break;case 1:Pi(t,e),as(e),r&512&&n!==null&&Tu(n,n.return);break;case 5:if(Pi(t,e),as(e),r&512&&n!==null&&Tu(n,n.return),e.flags&32){var o=e.stateNode;try{zf(o,"")}catch(S){Un(e,e.return,S)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&T4(o,i),e1(a,s);var f=e1(a,i);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];d==="style"?I4(o,h):d==="dangerouslySetInnerHTML"?A4(o,h):d==="children"?zf(o,h):P2(o,d,h,f)}switch(a){case"input":qy(o,i);break;case"textarea":R4(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Nu(o,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Nu(o,!!i.multiple,i.defaultValue,!0):Nu(o,!!i.multiple,i.multiple?[]:"",!1))}o[Yf]=i}catch(S){Un(e,e.return,S)}}break;case 6:if(Pi(t,e),as(e),r&4){if(e.stateNode===null)throw Error(Fe(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(S){Un(e,e.return,S)}}break;case 3:if(Pi(t,e),as(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gf(t.containerInfo)}catch(S){Un(e,e.return,S)}break;case 4:Pi(t,e),as(e);break;case 13:Pi(t,e),as(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(sw=Jn())),r&4&&x3(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Wr=(f=Wr)||d,Pi(t,e),Wr=f):Pi(t,e),as(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!d&&e.mode&1)for(st=e,d=e.child;d!==null;){for(h=st=d;st!==null;){switch(p=st,g=p.child,p.tag){case 0:case 11:case 14:case 15:Df(4,p,p.return);break;case 1:Tu(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){Un(r,n,S)}}break;case 5:Tu(p,p.return);break;case 22:if(p.memoizedState!==null){S3(h);continue}}g!==null?(g.return=p,st=g):S3(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{o=h.stateNode,f?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=M4("display",s))}catch(S){Un(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(S){Un(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pi(t,e),as(e),r&4&&x3(e);break;case 21:break;default:Pi(t,e),as(e)}}function as(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oC(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(zf(o,""),r.flags&=-33);var i=w3(e);N1(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=w3(e);R1(e,a,s);break;default:throw Error(Fe(161))}}catch(c){Un(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hT(e,t,n){st=e,aC(e)}function aC(e,t,n){for(var r=(e.mode&1)!==0;st!==null;){var o=st,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Np;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Wr;a=Np;var f=Wr;if(Np=s,(Wr=c)&&!f)for(st=o;st!==null;)s=st,c=s.child,s.tag===22&&s.memoizedState!==null?_3(o):c!==null?(c.return=s,st=c):_3(o);for(;i!==null;)st=i,aC(i),i=i.sibling;st=o,Np=a,Wr=f}b3(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,st=i):b3(e)}}function b3(e){for(;st!==null;){var t=st;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wr||vg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ri(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&i3(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}i3(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Wr||t.flags&512&&T1(t)}catch(p){Un(t,t.return,p)}}if(t===e){st=null;break}if(n=t.sibling,n!==null){n.return=t.return,st=n;break}st=t.return}}function S3(e){for(;st!==null;){var t=st;if(t===e){st=null;break}var n=t.sibling;if(n!==null){n.return=t.return,st=n;break}st=t.return}}function _3(e){for(;st!==null;){var t=st;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vg(4,t)}catch(c){Un(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Un(t,o,c)}}var i=t.return;try{T1(t)}catch(c){Un(t,i,c)}break;case 5:var s=t.return;try{T1(t)}catch(c){Un(t,s,c)}}}catch(c){Un(t,t.return,c)}if(t===e){st=null;break}var a=t.sibling;if(a!==null){a.return=t.return,st=a;break}st=t.return}}var pT=Math.ceil,Fm=ia.ReactCurrentDispatcher,ow=ia.ReactCurrentOwner,fi=ia.ReactCurrentBatchConfig,Qt=0,_r=null,rr=null,Ar=0,Go=0,Ru=hl(0),pr=0,eh=null,hc=0,yg=0,iw=0,Of=null,Po=null,sw=0,Yu=1/0,$s=null,zm=!1,A1=null,rl=null,Ap=!1,Xa=null,Bm=0,jf=0,M1=null,rm=-1,om=0;function lo(){return Qt&6?Jn():rm!==-1?rm:rm=Jn()}function ol(e){return e.mode&1?Qt&2&&Ar!==0?Ar&-Ar:QP.transition!==null?(om===0&&(om=H4()),om):(e=ln,e!==0||(e=window.event,e=e===void 0?16:Z4(e.type)),e):1}function zi(e,t,n,r){if(50<jf)throw jf=0,M1=null,Error(Fe(185));gh(e,n,r),(!(Qt&2)||e!==_r)&&(e===_r&&(!(Qt&2)&&(yg|=n),pr===4&&Va(e,Ar)),Mo(e,r),n===1&&Qt===0&&!(t.mode&1)&&(Yu=Jn()+500,pg&&pl()))}function Mo(e,t){var n=e.callbackNode;QE(e,t);var r=_m(e,e===_r?Ar:0);if(r===0)n!==null&&MS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&MS(n),t===1)e.tag===0?XP(C3.bind(null,e)):v6(C3.bind(null,e)),WP(function(){!(Qt&6)&&pl()}),n=null;else{switch(W4(r)){case 1:n=M2;break;case 4:n=G4;break;case 16:n=Sm;break;case 536870912:n=V4;break;default:n=Sm}n=mC(n,lC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lC(e,t){if(rm=-1,om=0,Qt&6)throw Error(Fe(327));var n=e.callbackNode;if(Ou()&&e.callbackNode!==n)return null;var r=_m(e,e===_r?Ar:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$m(e,r);else{t=r;var o=Qt;Qt|=2;var i=uC();(_r!==e||Ar!==t)&&($s=null,Yu=Jn()+500,ac(e,t));do try{vT();break}catch(a){cC(e,a)}while(!0);H2(),Fm.current=i,Qt=o,rr!==null?t=0:(_r=null,Ar=0,t=pr)}if(t!==0){if(t===2&&(o=i1(e),o!==0&&(r=o,t=I1(e,o))),t===1)throw n=eh,ac(e,0),Va(e,r),Mo(e,Jn()),n;if(t===6)Va(e,r);else{if(o=e.current.alternate,!(r&30)&&!mT(o)&&(t=$m(e,r),t===2&&(i=i1(e),i!==0&&(r=i,t=I1(e,i))),t===1))throw n=eh,ac(e,0),Va(e,r),Mo(e,Jn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Fe(345));case 2:Yl(e,Po,$s);break;case 3:if(Va(e,r),(r&130023424)===r&&(t=sw+500-Jn(),10<t)){if(_m(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){lo(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=h1(Yl.bind(null,e,Po,$s),t);break}Yl(e,Po,$s);break;case 4:if(Va(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Fi(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pT(r/1960))-r,10<r){e.timeoutHandle=h1(Yl.bind(null,e,Po,$s),r);break}Yl(e,Po,$s);break;case 5:Yl(e,Po,$s);break;default:throw Error(Fe(329))}}}return Mo(e,Jn()),e.callbackNode===n?lC.bind(null,e):null}function I1(e,t){var n=Of;return e.current.memoizedState.isDehydrated&&(ac(e,t).flags|=256),e=$m(e,t),e!==2&&(t=Po,Po=n,t!==null&&D1(t)),e}function D1(e){Po===null?Po=e:Po.push.apply(Po,e)}function mT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!$i(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t){for(t&=~iw,t&=~yg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fi(t),r=1<<n;e[n]=-1,t&=~r}}function C3(e){if(Qt&6)throw Error(Fe(327));Ou();var t=_m(e,0);if(!(t&1))return Mo(e,Jn()),null;var n=$m(e,t);if(e.tag!==0&&n===2){var r=i1(e);r!==0&&(t=r,n=I1(e,r))}if(n===1)throw n=eh,ac(e,0),Va(e,t),Mo(e,Jn()),n;if(n===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yl(e,Po,$s),Mo(e,Jn()),null}function aw(e,t){var n=Qt;Qt|=1;try{return e(t)}finally{Qt=n,Qt===0&&(Yu=Jn()+500,pg&&pl())}}function pc(e){Xa!==null&&Xa.tag===0&&!(Qt&6)&&Ou();var t=Qt;Qt|=1;var n=fi.transition,r=ln;try{if(fi.transition=null,ln=1,e)return e()}finally{ln=r,fi.transition=n,Qt=t,!(Qt&6)&&pl()}}function lw(){Go=Ru.current,kn(Ru)}function ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HP(n)),rr!==null)for(n=rr.return;n!==null;){var r=n;switch(U2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tm();break;case 3:Wu(),kn(No),kn(Yr),Q2();break;case 5:X2(r);break;case 4:Wu();break;case 13:kn(On);break;case 19:kn(On);break;case 10:W2(r.type._context);break;case 22:case 23:lw()}n=n.return}if(_r=e,rr=e=il(e.current,null),Ar=Go=t,pr=0,eh=null,iw=yg=hc=0,Po=Of=null,nc!==null){for(t=0;t<nc.length;t++)if(n=nc[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}nc=null}return e}function cC(e,t){do{var n=rr;try{if(H2(),em.current=Lm,jm){for(var r=jn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}jm=!1}if(fc=0,Sr=dr=jn=null,If=!1,Qf=0,ow.current=null,n===null||n.return===null){pr=1,eh=t,rr=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=Ar,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=d3(s);if(g!==null){g.flags&=-257,f3(g,s,a,i,t),g.mode&1&&u3(i,f,t),t=g,c=f;var w=t.updateQueue;if(w===null){var S=new Set;S.add(c),t.updateQueue=S}else w.add(c);break e}else{if(!(t&1)){u3(i,f,t),cw();break e}c=Error(Fe(426))}}else if(Rn&&a.mode&1){var C=d3(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),f3(C,s,a,i,t),G2(Ku(c,a));break e}}i=c=Ku(c,a),pr!==4&&(pr=2),Of===null?Of=[i]:Of.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var k=W6(i,c,t);o3(i,k);break e;case 1:a=c;var P=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof P.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rl===null||!rl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=K6(i,a,t);o3(i,E);break e}}i=i.return}while(i!==null)}fC(n)}catch(M){t=M,rr===n&&n!==null&&(rr=n=n.return);continue}break}while(!0)}function uC(){var e=Fm.current;return Fm.current=Lm,e===null?Lm:e}function cw(){(pr===0||pr===3||pr===2)&&(pr=4),_r===null||!(hc&268435455)&&!(yg&268435455)||Va(_r,Ar)}function $m(e,t){var n=Qt;Qt|=2;var r=uC();(_r!==e||Ar!==t)&&($s=null,ac(e,t));do try{gT();break}catch(o){cC(e,o)}while(!0);if(H2(),Qt=n,Fm.current=r,rr!==null)throw Error(Fe(261));return _r=null,Ar=0,pr}function gT(){for(;rr!==null;)dC(rr)}function vT(){for(;rr!==null&&!UE();)dC(rr)}function dC(e){var t=pC(e.alternate,e,Go);e.memoizedProps=e.pendingProps,t===null?fC(e):rr=t,ow.current=null}function fC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uT(n,t),n!==null){n.flags&=32767,rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pr=6,rr=null;return}}else if(n=cT(n,t,Go),n!==null){rr=n;return}if(t=t.sibling,t!==null){rr=t;return}rr=t=e}while(t!==null);pr===0&&(pr=5)}function Yl(e,t,n){var r=ln,o=fi.transition;try{fi.transition=null,ln=1,yT(e,t,n,r)}finally{fi.transition=o,ln=r}return null}function yT(e,t,n,r){do Ou();while(Xa!==null);if(Qt&6)throw Error(Fe(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZE(e,i),e===_r&&(rr=_r=null,Ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ap||(Ap=!0,mC(Sm,function(){return Ou(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fi.transition,fi.transition=null;var s=ln;ln=1;var a=Qt;Qt|=4,ow.current=null,fT(e,n),sC(n,e),FP(d1),Cm=!!u1,d1=u1=null,e.current=n,hT(n),GE(),Qt=a,ln=s,fi.transition=i}else e.current=n;if(Ap&&(Ap=!1,Xa=e,Bm=o),i=e.pendingLanes,i===0&&(rl=null),WE(n.stateNode),Mo(e,Jn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(zm)throw zm=!1,e=A1,A1=null,e;return Bm&1&&e.tag!==0&&Ou(),i=e.pendingLanes,i&1?e===M1?jf++:(jf=0,M1=e):jf=0,pl(),null}function Ou(){if(Xa!==null){var e=W4(Bm),t=fi.transition,n=ln;try{if(fi.transition=null,ln=16>e?16:e,Xa===null)var r=!1;else{if(e=Xa,Xa=null,Bm=0,Qt&6)throw Error(Fe(331));var o=Qt;for(Qt|=4,st=e.current;st!==null;){var i=st,s=i.child;if(st.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var f=a[c];for(st=f;st!==null;){var d=st;switch(d.tag){case 0:case 11:case 15:Df(8,d,i)}var h=d.child;if(h!==null)h.return=d,st=h;else for(;st!==null;){d=st;var p=d.sibling,g=d.return;if(rC(d),d===f){st=null;break}if(p!==null){p.return=g,st=p;break}st=g}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}st=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,st=s;else e:for(;st!==null;){if(i=st,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Df(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,st=k;break e}st=i.return}}var P=e.current;for(st=P;st!==null;){s=st;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,st=y;else e:for(s=P;st!==null;){if(a=st,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vg(9,a)}}catch(M){Un(a,a.return,M)}if(a===s){st=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,st=E;break e}st=a.return}}if(Qt=o,pl(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(cg,e)}catch{}r=!0}return r}finally{ln=n,fi.transition=t}}return!1}function k3(e,t,n){t=Ku(n,t),t=W6(e,t,1),e=nl(e,t,1),t=lo(),e!==null&&(gh(e,1,t),Mo(e,t))}function Un(e,t,n){if(e.tag===3)k3(e,e,n);else for(;t!==null;){if(t.tag===3){k3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rl===null||!rl.has(r))){e=Ku(n,e),e=K6(t,e,1),t=nl(t,e,1),e=lo(),t!==null&&(gh(t,1,e),Mo(t,e));break}}t=t.return}}function wT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lo(),e.pingedLanes|=e.suspendedLanes&n,_r===e&&(Ar&n)===n&&(pr===4||pr===3&&(Ar&130023424)===Ar&&500>Jn()-sw?ac(e,0):iw|=n),Mo(e,t)}function hC(e,t){t===0&&(e.mode&1?(t=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):t=1);var n=lo();e=ta(e,t),e!==null&&(gh(e,t,n),Mo(e,n))}function xT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hC(e,n)}function bT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(t),hC(e,n)}var pC;pC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||No.current)Ro=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ro=!1,lT(e,t,n);Ro=!!(e.flags&131072)}else Ro=!1,Rn&&t.flags&1048576&&y6(t,Am,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nm(e,t),e=t.pendingProps;var o=Gu(t,Yr.current);Du(t,n),o=J2(null,t,r,e,o,n);var i=ew();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ao(r)?(i=!0,Rm(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Y2(t),o.updater=gg,t.stateNode=o,o._reactInternals=t,x1(t,r,e,n),t=_1(null,t,r,!0,i,n)):(t.tag=0,Rn&&i&&$2(t),io(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nm(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=_T(r),e=Ri(r,e),o){case 0:t=S1(null,t,r,e,n);break e;case 1:t=m3(null,t,r,e,n);break e;case 11:t=h3(null,t,r,e,n);break e;case 14:t=p3(null,t,r,Ri(r.type,e),n);break e}throw Error(Fe(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),S1(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),m3(e,t,r,o,n);case 3:e:{if(Q6(t),e===null)throw Error(Fe(387));r=t.pendingProps,i=t.memoizedState,o=i.element,C6(e,t),Dm(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Ku(Error(Fe(423)),t),t=g3(e,t,r,n,o);break e}else if(r!==o){o=Ku(Error(Fe(424)),t),t=g3(e,t,r,n,o);break e}else for(Vo=tl(t.stateNode.containerInfo.firstChild),Ho=t,Rn=!0,Mi=null,n=S6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vu(),r===o){t=na(e,t,n);break e}io(e,t,r,n)}t=t.child}return t;case 5:return k6(t),e===null&&v1(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,f1(r,o)?s=null:i!==null&&f1(r,i)&&(t.flags|=32),X6(e,t),io(e,t,s,n),t.child;case 6:return e===null&&v1(t),null;case 13:return Z6(e,t,n);case 4:return q2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hu(t,null,r,n):io(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),h3(e,t,r,o,n);case 7:return io(e,t,t.pendingProps,n),t.child;case 8:return io(e,t,t.pendingProps.children,n),t.child;case 12:return io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,yn(Mm,r._currentValue),r._currentValue=s,i!==null)if($i(i.value,s)){if(i.children===o.children&&!No.current){t=na(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ys(-1,n&-n),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),y1(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),y1(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}io(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Du(t,n),o=hi(o),r=r(o),t.flags|=1,io(e,t,r,n),t.child;case 14:return r=t.type,o=Ri(r,t.pendingProps),o=Ri(r.type,o),p3(e,t,r,o,n);case 15:return Y6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),nm(e,t),t.tag=1,Ao(r)?(e=!0,Rm(t)):e=!1,Du(t,n),H6(t,r,o),x1(t,r,o,n),_1(null,t,r,!0,e,n);case 19:return J6(e,t,n);case 22:return q6(e,t,n)}throw Error(Fe(156,t.tag))};function mC(e,t){return U4(e,t)}function ST(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(e,t,n,r){return new ST(e,t,n,r)}function uw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _T(e){if(typeof e=="function")return uw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R2)return 11;if(e===N2)return 14}return 2}function il(e,t){var n=e.alternate;return n===null?(n=ci(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function im(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")uw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case wu:return lc(n.children,o,i,t);case T2:s=8,o|=8;break;case Vy:return e=ci(12,n,t,o|2),e.elementType=Vy,e.lanes=i,e;case Hy:return e=ci(13,n,t,o),e.elementType=Hy,e.lanes=i,e;case Wy:return e=ci(19,n,t,o),e.elementType=Wy,e.lanes=i,e;case k4:return wg(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _4:s=10;break e;case C4:s=9;break e;case R2:s=11;break e;case N2:s=14;break e;case Ba:s=16,r=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=ci(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function lc(e,t,n,r){return e=ci(7,e,r,t),e.lanes=n,e}function wg(e,t,n,r){return e=ci(22,e,r,t),e.elementType=k4,e.lanes=n,e.stateNode={isHidden:!1},e}function ey(e,t,n){return e=ci(6,e,null,t),e.lanes=n,e}function ty(e,t,n){return t=ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CT(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ov(0),this.expirationTimes=Ov(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ov(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function dw(e,t,n,r,o,i,s,a,c){return e=new CT(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ci(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y2(i),e}function kT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gC(e){if(!e)return ll;e=e._reactInternals;e:{if(yc(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ao(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var n=e.type;if(Ao(n))return g6(e,n,t)}return t}function vC(e,t,n,r,o,i,s,a,c){return e=dw(n,r,!0,e,o,i,s,a,c),e.context=gC(null),n=e.current,r=lo(),o=ol(n),i=Ys(r,o),i.callback=t??null,nl(n,i,o),e.current.lanes=o,gh(e,o,r),Mo(e,r),e}function xg(e,t,n,r){var o=t.current,i=lo(),s=ol(o);return n=gC(n),t.context===null?t.context=n:t.pendingContext=n,t=Ys(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nl(o,t,s),e!==null&&(zi(e,o,s,i),Jp(e,o,s)),s}function Um(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function E3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fw(e,t){E3(e,t),(e=e.alternate)&&E3(e,t)}function ET(){return null}var yC=typeof reportError=="function"?reportError:function(e){console.error(e)};function hw(e){this._internalRoot=e}bg.prototype.render=hw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));xg(e,t,null,null)};bg.prototype.unmount=hw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pc(function(){xg(null,e,null,null)}),t[ea]=null}};function bg(e){this._internalRoot=e}bg.prototype.unstable_scheduleHydration=function(e){if(e){var t=q4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ga.length&&t!==0&&t<Ga[n].priority;n++);Ga.splice(n,0,e),n===0&&Q4(e)}};function pw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P3(){}function PT(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var f=Um(s);i.call(f)}}var s=vC(t,r,e,0,null,!1,!1,"",P3);return e._reactRootContainer=s,e[ea]=s.current,Wf(e.nodeType===8?e.parentNode:e),pc(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var f=Um(c);a.call(f)}}var c=dw(e,0,!1,null,null,!1,!1,"",P3);return e._reactRootContainer=c,e[ea]=c.current,Wf(e.nodeType===8?e.parentNode:e),pc(function(){xg(t,c,n,r)}),c}function _g(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=Um(s);a.call(c)}}xg(t,s,e,o)}else s=PT(n,t,e,o,r);return Um(s)}K4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vf(t.pendingLanes);n!==0&&(I2(t,n|1),Mo(t,Jn()),!(Qt&6)&&(Yu=Jn()+500,pl()))}break;case 13:pc(function(){var r=ta(e,1);if(r!==null){var o=lo();zi(r,e,1,o)}}),fw(e,1)}};D2=function(e){if(e.tag===13){var t=ta(e,134217728);if(t!==null){var n=lo();zi(t,e,134217728,n)}fw(e,134217728)}};Y4=function(e){if(e.tag===13){var t=ol(e),n=ta(e,t);if(n!==null){var r=lo();zi(n,e,t,r)}fw(e,t)}};q4=function(){return ln};X4=function(e,t){var n=ln;try{return ln=e,t()}finally{ln=n}};n1=function(e,t,n){switch(t){case"input":if(qy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=hg(r);if(!o)throw Error(Fe(90));P4(r),qy(r,o)}}}break;case"textarea":R4(e,n);break;case"select":t=n.value,t!=null&&Nu(e,!!n.multiple,t,!1)}};j4=aw;L4=pc;var TT={usingClientEntryPoint:!1,Events:[yh,_u,hg,D4,O4,aw]},of={findFiberByHostInstance:tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RT={bundleType:of.bundleType,version:of.version,rendererPackageName:of.rendererPackageName,rendererConfig:of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B4(e),e===null?null:e.stateNode},findFiberByHostInstance:of.findFiberByHostInstance||ET,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mp.isDisabled&&Mp.supportsFiber)try{cg=Mp.inject(RT),ms=Mp}catch{}}qo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;qo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pw(t))throw Error(Fe(200));return kT(e,t,null,n)};qo.createRoot=function(e,t){if(!pw(e))throw Error(Fe(299));var n=!1,r="",o=yC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=dw(e,1,!1,null,null,n,!1,r,o),e[ea]=t.current,Wf(e.nodeType===8?e.parentNode:e),new hw(t)};qo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=B4(t),e=e===null?null:e.stateNode,e};qo.flushSync=function(e){return pc(e)};qo.hydrate=function(e,t,n){if(!Sg(t))throw Error(Fe(200));return _g(null,e,t,!0,n)};qo.hydrateRoot=function(e,t,n){if(!pw(e))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=yC;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=vC(t,null,e,1,n??null,o,!1,i,s),e[ea]=t.current,Wf(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new bg(t)};qo.render=function(e,t,n){if(!Sg(t))throw Error(Fe(200));return _g(null,e,t,!1,n)};qo.unmountComponentAtNode=function(e){if(!Sg(e))throw Error(Fe(40));return e._reactRootContainer?(pc(function(){_g(null,null,e,!1,function(){e._reactRootContainer=null,e[ea]=null})}),!0):!1};qo.unstable_batchedUpdates=aw;qo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sg(n))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return _g(e,t,n,!1,r)};qo.version="18.3.1-next-f1338f8080-20240426";function wC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wC)}catch(e){console.error(e)}}wC(),w4.exports=qo;var Cg=w4.exports;const wf=dl(Cg);var T3=Cg;Uy.createRoot=T3.createRoot,Uy.hydrateRoot=T3.hydrateRoot;var ds=function(){return ds=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ds.apply(this,arguments)};function xC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function NT(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var sm="right-scroll-bar-position",am="width-before-scroll-bar",AT="with-scroll-bars-hidden",MT="--removed-body-scroll-bar-size";function ny(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IT(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var DT=typeof window<"u"?N.useLayoutEffect:N.useEffect,R3=new WeakMap;function OT(e,t){var n=IT(null,function(r){return e.forEach(function(o){return ny(o,r)})});return DT(function(){var r=R3.get(n);if(r){var o=new Set(r),i=new Set(e),s=n.current;o.forEach(function(a){i.has(a)||ny(a,null)}),i.forEach(function(a){o.has(a)||ny(a,s)})}R3.set(n,e)},[e]),n}function jT(e){return e}function LT(e,t){t===void 0&&(t=jT);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},f=function(){return Promise.resolve().then(c)};f(),n={push:function(d){s.push(d),f()},filter:function(d){return s=s.filter(d),n}}}};return o}function FT(e){e===void 0&&(e={});var t=LT(null);return t.options=ds({async:!0,ssr:!1},e),t}var bC=function(e){var t=e.sideCar,n=xC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,ds({},n))};bC.isSideCarExport=!0;function zT(e,t){return e.useMedium(t),bC}var SC=FT(),ry=function(){},kg=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:ry,onWheelCapture:ry,onTouchMoveCapture:ry}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,c=e.className,f=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,g=e.noRelative,w=e.noIsolation,S=e.inert,C=e.allowPinchZoom,k=e.as,P=k===void 0?"div":k,y=e.gapMode,E=xC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,A=OT([n,t]),z=ds(ds({},E),o);return N.createElement(N.Fragment,null,d&&N.createElement(M,{sideCar:SC,removeScrollBar:f,shards:h,noRelative:g,noIsolation:w,inert:S,setCallbacks:i,allowPinchZoom:!!C,lockRef:n,gapMode:y}),s?N.cloneElement(N.Children.only(a),ds(ds({},z),{ref:A})):N.createElement(P,ds({},z,{className:c,ref:A}),a))});kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kg.classNames={fullWidth:am,zeroRight:sm};var BT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $T(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BT();return t&&e.setAttribute("nonce",t),e}function UT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$T())&&(UT(t,n),GT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HT=function(){var e=VT();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_C=function(){var e=HT(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},WT={left:0,top:0,right:0,gap:0},oy=function(e){return parseInt(e||"",10)||0},KT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[oy(n),oy(r),oy(o)]},YT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WT;var t=KT(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},qT=_C(),ju="data-scroll-locked",XT=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(AT,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ju,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(am,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sm," .").concat(sm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(am," .").concat(am,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ju,`] {
    `).concat(MT,": ").concat(a,`px;
  }
`)},N3=function(){var e=parseInt(document.body.getAttribute(ju)||"0",10);return isFinite(e)?e:0},QT=function(){N.useEffect(function(){return document.body.setAttribute(ju,(N3()+1).toString()),function(){var e=N3()-1;e<=0?document.body.removeAttribute(ju):document.body.setAttribute(ju,e.toString())}},[])},ZT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;QT();var i=N.useMemo(function(){return YT(o)},[o]);return N.createElement(qT,{styles:XT(i,!t,o,n?"":"!important")})},O1=!1;if(typeof window<"u")try{var Ip=Object.defineProperty({},"passive",{get:function(){return O1=!0,!0}});window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch{O1=!1}var tu=O1?{passive:!1}:!1,JT=function(e){return e.tagName==="TEXTAREA"},CC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!JT(e)&&n[t]==="visible")},eR=function(e){return CC(e,"overflowY")},tR=function(e){return CC(e,"overflowX")},A3=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=kC(e,r);if(o){var i=EC(e,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},rR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kC=function(e,t){return e==="v"?eR(t):tR(t)},EC=function(e,t){return e==="v"?nR(t):rR(t)},oR=function(e,t){return e==="h"&&t==="rtl"?-1:1},iR=function(e,t,n,r,o){var i=oR(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,c=t.contains(a),f=!1,d=s>0,h=0,p=0;do{if(!a)break;var g=EC(e,a),w=g[0],S=g[1],C=g[2],k=S-C-i*w;(w||k)&&kC(e,a)&&(h+=k,p+=w);var P=a.parentNode;a=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(f=!0),f},Dp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},M3=function(e){return[e.deltaX,e.deltaY]},I3=function(e){return e&&"current"in e?e.current:e},sR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lR=0,nu=[];function cR(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),o=N.useState(lR++)[0],i=N.useState(_C)[0],s=N.useRef(e);N.useEffect(function(){s.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=NT([e.lockRef.current],(e.shards||[]).map(I3),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=N.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!s.current.allowPinchZoom;var k=Dp(S),P=n.current,y="deltaX"in S?S.deltaX:P[0]-k[0],E="deltaY"in S?S.deltaY:P[1]-k[1],M,A=S.target,z=Math.abs(y)>Math.abs(E)?"h":"v";if("touches"in S&&z==="h"&&A.type==="range")return!1;var O=window.getSelection(),V=O&&O.anchorNode,B=V?V===A||V.contains(A):!1;if(B)return!1;var U=A3(z,A);if(!U)return!0;if(U?M=z:(M=z==="v"?"h":"v",U=A3(z,A)),!U)return!1;if(!r.current&&"changedTouches"in S&&(y||E)&&(r.current=M),!M)return!0;var F=r.current||M;return iR(F,C,S,F==="h"?y:E)},[]),c=N.useCallback(function(S){var C=S;if(!(!nu.length||nu[nu.length-1]!==i)){var k="deltaY"in C?M3(C):Dp(C),P=t.current.filter(function(M){return M.name===C.type&&(M.target===C.target||C.target===M.shadowParent)&&sR(M.delta,k)})[0];if(P&&P.should){C.cancelable&&C.preventDefault();return}if(!P){var y=(s.current.shards||[]).map(I3).filter(Boolean).filter(function(M){return M.contains(C.target)}),E=y.length>0?a(C,y[0]):!s.current.noIsolation;E&&C.cancelable&&C.preventDefault()}}},[]),f=N.useCallback(function(S,C,k,P){var y={name:S,delta:C,target:k,should:P,shadowParent:uR(k)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(E){return E!==y})},1)},[]),d=N.useCallback(function(S){n.current=Dp(S),r.current=void 0},[]),h=N.useCallback(function(S){f(S.type,M3(S),S.target,a(S,e.lockRef.current))},[]),p=N.useCallback(function(S){f(S.type,Dp(S),S.target,a(S,e.lockRef.current))},[]);N.useEffect(function(){return nu.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,tu),document.addEventListener("touchmove",c,tu),document.addEventListener("touchstart",d,tu),function(){nu=nu.filter(function(S){return S!==i}),document.removeEventListener("wheel",c,tu),document.removeEventListener("touchmove",c,tu),document.removeEventListener("touchstart",d,tu)}},[]);var g=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(i,{styles:aR(o)}):null,g?N.createElement(ZT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dR=zT(SC,cR);var qu=N.forwardRef(function(e,t){return N.createElement(kg,ds({},e,{ref:t,sideCar:dR}))});qu.classNames=kg.classNames;function er(e){return Object.keys(e)}function iy(e){return e&&typeof e=="object"&&!Array.isArray(e)}function mw(e,t){const n={...e},r=t;return iy(e)&&iy(t)&&Object.keys(t).forEach(o=>{iy(r[o])&&o in e?n[o]=mw(n[o],r[o]):n[o]=r[o]}),n}function fR(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function hR(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function th(e){const t=hR(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function sy(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function PC(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?sy(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");if(r.includes(e))return t?sy(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const i=`${Number(o)/16}${e}`;return t?sy(i):i}}return r}return n}const _e=PC("rem",{shouldScale:!0}),Gm=PC("em");function xh(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function TC(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function ml(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==N.Fragment:!1}function xs(e){const t=N.createContext(null);return[({children:o,value:i})=>x.jsx(t.Provider,{value:i,children:o}),()=>{const o=N.useContext(t);if(o===null)throw new Error(e);return o}]}function wc(e=null){const t=N.createContext(e);return[({children:o,value:i})=>x.jsx(t.Provider,{value:i,children:o}),()=>N.useContext(t)]}function D3(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function Vm(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function pR(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function mR(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function gR(e,t,n){return Vm(e,n)===Vm(t,n)}function RC({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:i="rtl",orientation:s}){return a=>{var w;n==null||n(a);const c=Array.from(((w=Vm(a.currentTarget,e))==null?void 0:w.querySelectorAll(t))||[]).filter(S=>gR(a.currentTarget,S,e)),f=c.findIndex(S=>a.currentTarget===S),d=mR(f,c,r),h=pR(f,c,r),p=i==="rtl"?h:d,g=i==="rtl"?d:h;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[p].focus(),o&&c[p].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[g].focus(),o&&c[g].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[h].focus(),o&&c[h].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[d].focus(),o&&c[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const S=c.length-1;!c[S].disabled&&c[S].focus();break}}}}const vR={app:100,modal:200,popover:300,overlay:400,max:9999};function Vi(e){return vR[e]}const j1=()=>{};function yR(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||j1:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function _t(e,t="size",n=!0){if(e!==void 0)return TC(e)?n?_e(e):e:`var(--${t}-${e})`}function ao(e){return _t(e,"mantine-spacing")}function Hn(e){return e===void 0?"var(--mantine-radius-default)":_t(e,"mantine-radius")}function Mr(e){return _t(e,"mantine-font-size")}function wR(e){return _t(e,"mantine-line-height",!1)}function gw(e){if(e)return _t(e,"mantine-shadow",!1)}function ps(e,t){return n=>{e==null||e(n),t==null||t(n)}}function vw(e,t){return e in t?th(t[e]):th(e)}function L1(e,t){const n=e.map(r=>({value:r,px:vw(r,t)}));return n.sort((r,o)=>r.px-o.px),n}function Lu(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function xR(e,t,n){var r;return n?Array.from(((r=Vm(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(o=>o===n):null}function bR(){const[e,t]=N.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function sl(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Hm(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function SR(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!(i in t)||e[i]!==t[i]&&!(Number.isNaN(e[i])&&Number.isNaN(t[i])))return!1}return!0}function Jl(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Eg(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,o=Jl(e),i=N.useRef(0),s=N.useRef(()=>{}),a=Object.assign(N.useCallback((...c)=>{window.clearTimeout(i.current);const f=()=>{i.current!==0&&(i.current=0,o(...c))};s.current=f,a.flush=f,i.current=window.setTimeout(f,n)},[o,n]),{flush:s.current});return N.useEffect(()=>()=>{window.clearTimeout(i.current),r&&a.flush()},[a,r]),a}const O3=["mousedown","touchstart"];function _R(e,t,n){const r=N.useRef(null);return N.useEffect(()=>{const o=i=>{const{target:s}=i??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(f=>!!f&&!i.composedPath().includes(f))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||O3).forEach(i=>document.addEventListener(i,o)),()=>{(t||O3).forEach(i=>document.removeEventListener(i,o))}},[r,e,n]),r}function CR({timeout:e=2e3}={}){const[t,n]=N.useState(null),[r,o]=N.useState(!1),[i,s]=N.useState(null),a=d=>{window.clearTimeout(i),s(window.setTimeout(()=>o(!1),e)),o(d)};return{copy:d=>{"clipboard"in navigator?navigator.clipboard.writeText(d).then(()=>a(!0)).catch(h=>n(h)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),n(null),window.clearTimeout(i)},error:t,copied:r}}function kR(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function ER(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function PR(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=N.useState(n?t:ER(e)),i=N.useRef(null);return N.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),o(i.current.matches),kR(i.current,s=>o(s.matches))},[e]),r}const xc=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Ko(e,t){const n=N.useRef(!1);N.useEffect(()=>()=>{n.current=!1},[]),N.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function NC({opened:e,shouldReturnFocus:t=!0}){const n=N.useRef(null),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Ko(()=>{let o=-1;const i=s=>{s.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",i)}},[e,t]),r}const TR=/input|select|textarea|button|object/,AC="a, input, select, textarea, button, object, [tabindex]";function RR(e){return e.style.display==="none"}function NR(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(RR(n))return!1;n=n.parentNode}return!0}function MC(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function F1(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(MC(e));return(TR.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&NR(e)}function IC(e){const t=MC(e);return(Number.isNaN(t)||t>=0)&&F1(e)}function AR(e){return Array.from(e.querySelectorAll(AC)).filter(IC)}function MR(e,t){const n=AR(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let i=r===o.activeElement||e===o.activeElement;const s=o.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(i=n.filter(d=>d.getAttribute("type")==="radio"&&d.getAttribute("name")===s.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const c=n[t.shiftKey?n.length-1:0];c&&c.focus()}function IR(e=!0){const t=N.useRef(null),n=o=>{let i=o.querySelector("[data-autofocus]");if(!i){const s=Array.from(o.querySelectorAll(AC));i=s.find(IC)||s.find(F1)||null,!i&&F1(o)&&(i=o)}i&&i.focus({preventScroll:!0})},r=N.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),t.current=o):t.current=null)},[e]);return N.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const o=i=>{i.key==="Tab"&&t.current&&MR(t.current,i)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),r}const DR=e=>(e+1)%1e6;function OR(){const[,e]=N.useReducer(DR,0);return e}const jR=Rt.useId||(()=>{});function LR(){const e=jR();return e?`mantine-${e.replace(/:/g,"")}`:""}function Hi(e){const t=LR(),[n,r]=N.useState(t);return xc(()=>{r(Hm())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function DC(e,t,n){N.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function nh(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function FR(...e){const t=new Map;return n=>{if(e.forEach(r=>{const o=nh(r,n);o&&t.set(r,o)}),t.size>0)return()=>{e.forEach(r=>{const o=t.get(r);o?o():nh(r,null)}),t.clear()}}}function Fn(...e){return N.useCallback(FR(...e),e)}function OC(e){return{x:sl(e.x,0,1),y:sl(e.y,0,1)}}function jC(e,t,n="ltr"){const r=N.useRef(null),o=N.useRef(!1),i=N.useRef(!1),s=N.useRef(0),[a,c]=N.useState(!1);return N.useEffect(()=>{o.current=!0},[]),N.useEffect(()=>{const f=r.current,d=({x:y,y:E})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(o.current&&f){f.style.userSelect="none";const M=f.getBoundingClientRect();if(M.width&&M.height){const A=sl((y-M.left)/M.width,0,1);e({x:n==="ltr"?A:1-A,y:sl((E-M.top)/M.height,0,1)})}}})},h=()=>{document.addEventListener("mousemove",C),document.addEventListener("mouseup",w),document.addEventListener("touchmove",P),document.addEventListener("touchend",w)},p=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",w)},g=()=>{!i.current&&o.current&&(i.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),c(!0),h())},w=()=>{i.current&&o.current&&(i.current=!1,c(!1),p(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},S=y=>{g(),y.preventDefault(),C(y)},C=y=>d({x:y.clientX,y:y.clientY}),k=y=>{y.cancelable&&y.preventDefault(),g(),P(y)},P=y=>{y.cancelable&&y.preventDefault(),d({x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY})};return f==null||f.addEventListener("mousedown",S),f==null||f.addEventListener("touchstart",k,{passive:!1}),()=>{f&&(f.removeEventListener("mousedown",S),f.removeEventListener("touchstart",k))}},[n,e]),{ref:r,active:a}}function qr({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,i]=N.useState(t!==void 0?t:n),s=(a,...c)=>{i(a),r==null||r(a,...c)};return e!==void 0?[e,r,!0]:[o,s,!1]}function yw(e,t){return PR("(prefers-reduced-motion: reduce)",e,t)}function zR(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!SR(e[n],t[n]))return!1;return!0}function BR(e){const t=N.useRef([]),n=N.useRef(0);return zR(t.current,e)||(t.current=e,n.current+=1),[n.current]}function $R(e,t){N.useEffect(e,BR(t))}function UR(e,t,n={autoInvoke:!1}){const r=N.useRef(null),o=N.useCallback((...s)=>{r.current||(r.current=window.setTimeout(()=>{e(s),r.current=null},t))},[t]),i=N.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return N.useEffect(()=>(n.autoInvoke&&o(),i),[i,o]),{start:o,clear:i}}function GR(e){const t=N.useRef(void 0);return N.useEffect(()=>{t.current=e},[e]),t.current}function VR(){return navigator.userAgent.includes("OPR")}function HR(){const[e,t]=N.useState(!1);xc(()=>{t(typeof window<"u"&&!VR()&&"EyeDropper"in window)},[]);const n=N.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}function WR(e,t,n){const r=N.useRef(null),o=N.useRef(null);return N.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||o.current)&&(r.current=new MutationObserver(e),r.current.observe(i||o.current,t)),()=>{var s;(s=r.current)==null||s.disconnect()}},[e,t]),o}function KR(){const[e,t]=N.useState(!1);return N.useEffect(()=>t(!0),[]),e}var YR={};function LC(){return typeof process<"u"&&YR?"production":"development"}function Pg(e){var n;const t=Rt.version;return typeof Rt.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function FC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=FC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mr(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=FC(e))&&(r&&(r+=" "),r+=t);return r}const qR={};function XR(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,o])=>{t[r]?t[r]=mr(t[r],o):t[r]=o})}),t}function Tg({theme:e,classNames:t,props:n,stylesCtx:r}){const i=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||qR);return XR(i)}function Wm({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((i,s)=>typeof s=="function"?{...i,...s(e,n,r)}:{...i,...s},{})}const zC=N.createContext(null);function sa(){const e=N.useContext(zC);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function QR(){return sa().cssVariablesResolver}function ZR(){return sa().classNamesPrefix}function ww(){return sa().getStyleNonce}function JR(){return sa().withStaticClasses}function eN(){return sa().headless}function tN(){var e;return(e=sa().stylesTransform)==null?void 0:e.sx}function nN(){var e;return(e=sa().stylesTransform)==null?void 0:e.styles}function BC(){return sa().env||"default"}function rN(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function oN(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,o=n>>8&255,i=n&255;return{r,g:o,b:i,a:1}}function iN(e){const[t,n,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:o===void 0?1:o}}function sN(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*i-1))*o,c=r/60,f=a*(1-Math.abs(c%2-1)),d=i-a/2;let h,p,g;return c>=0&&c<1?(h=a,p=f,g=0):c>=1&&c<2?(h=f,p=a,g=0):c>=2&&c<3?(h=0,p=a,g=f):c>=3&&c<4?(h=0,p=f,g=a):c>=4&&c<5?(h=f,p=0,g=a):(h=a,p=0,g=f),{r:Math.round((h+d)*255),g:Math.round((p+d)*255),b:Math.round((g+d)*255),a:s||1}}function xw(e){return rN(e)?oN(e):e.startsWith("rgb")?iN(e):e.startsWith("hsl")?sN(e):{r:0,g:0,b:0,a:1}}function Op(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:o,a:i}=xw(e),s=1-t,a=c=>Math.round(c*s);return`rgba(${a(n)}, ${a(r)}, ${a(o)}, ${i})`}function rh(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function ay(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function aN(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function lN(e){if(e.startsWith("oklch("))return(aN(e)||0)/100;const{r:t,g:n,b:r}=xw(e),o=t/255,i=n/255,s=r/255,a=ay(o),c=ay(i),f=ay(s);return .2126*a+.7152*c+.0722*f}function sf(e,t=.179){return e.startsWith("var(")?!1:lN(e)>t}function gl({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:sf(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:sf(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:sf(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),i=o?Number(o):void 0,s=r in t.colors;if(s){const a=i!==void 0?t.colors[r][i]:t.colors[r][rh(t,n||"light")];return{color:r,value:a,shade:i,isThemeColor:s,isLight:sf(a,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:sf(e,t.luminanceThreshold),shade:i,variable:void 0}}function gr(e,t){const n=gl({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function z1(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=gr(n.from,t),o=gr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function cs(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=xw(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const ru=cs,cN=({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const i=gl({color:e,theme:t}),s=typeof o=="boolean"?o:t.autoContrast;if(n==="filled"){const a=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${_e(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${_e(1)} solid transparent`}:{background:e,hover:Op(e,.1),color:a,border:`${_e(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:cs(a,.1),hover:cs(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:cs(e,.1),hover:cs(e,.12),color:e,border:`${_e(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${_e(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:cs(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${_e(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:cs(e,.05),color:e,border:`${_e(1)} solid ${e}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:cs(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:"transparent",hover:cs(e,.12),color:e,border:`${_e(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${_e(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Op(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Op(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Op(t.white,.01),color:e,border:`${_e(1)} solid transparent`}:n==="gradient"?{background:z1(r,t),hover:z1(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${_e(1)} solid var(--mantine-color-default-border)`}:{}},uN={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},j3="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",bw={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:uN,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:cN,autoContrast:!1,luminanceThreshold:.3,fontFamily:j3,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:j3,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:_e(34),lineHeight:"1.3"},h2:{fontSize:_e(26),lineHeight:"1.35"},h3:{fontSize:_e(22),lineHeight:"1.4"},h4:{fontSize:_e(18),lineHeight:"1.45"},h5:{fontSize:_e(16),lineHeight:"1.5"},h6:{fontSize:_e(14),lineHeight:"1.5"}}},fontSizes:{xs:_e(12),sm:_e(14),md:_e(16),lg:_e(18),xl:_e(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:_e(2),sm:_e(4),md:_e(8),lg:_e(16),xl:_e(32)},spacing:{xs:_e(10),sm:_e(12),md:_e(16),lg:_e(20),xl:_e(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), 0 ${_e(1)} ${_e(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(10)} ${_e(15)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(7)} ${_e(7)} ${_e(-5)}`,md:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(20)} ${_e(25)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(10)} ${_e(10)} ${_e(-5)}`,lg:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(28)} ${_e(23)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(12)} ${_e(12)} ${_e(-7)}`,xl:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(36)} ${_e(28)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(17)} ${_e(17)} ${_e(-7)}`},other:{},components:{}};function L3(e){return e==="auto"||e==="dark"||e==="light"}function dN({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return L3(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&L3(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const fN="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",F3="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function ly(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function z3(e){if(!(e.primaryColor in e.colors))throw new Error(fN);if(typeof e.primaryShade=="object"&&(!ly(e.primaryShade.dark)||!ly(e.primaryShade.light)))throw new Error(F3);if(typeof e.primaryShade=="number"&&!ly(e.primaryShade))throw new Error(F3)}function hN(e,t){var r;if(!t)return z3(e),e;const n=mw(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),z3(n),n}const Sw=N.createContext(null),pN=()=>N.useContext(Sw)||bw;function Xr(){const e=N.useContext(Sw);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function $C({theme:e,children:t,inherit:n=!0}){const r=pN(),o=N.useMemo(()=>hN(n?r:bw,e),[e,r,n]);return x.jsx(Sw.Provider,{value:o,children:t})}$C.displayName="@mantine/core/MantineThemeProvider";function mN(){const e=Xr(),t=ww(),n=er(e.breakpoints).reduce((r,o)=>{const i=e.breakpoints[o].includes("px"),s=th(e.breakpoints[o]),a=i?`${s-.1}px`:Gm(s-.1),c=i?`${s}px`:Gm(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return x.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function cy(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function af(e,t){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,t)}function gN(e,t){const n=cy(e.variables),r=n?af(t,n):"",o=cy(e.dark),i=cy(e.light),s=o?af(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",a=i?af(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,i):"";return`${r}${s}${a}`}function bh({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&gl({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function B3(e,t){return bh({color:e.colors[e.primaryColor][rh(e,t)],theme:e,autoContrast:null})}function jp({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const a=rh(e,"light"),c={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:ru(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:ru(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:ru(e.colors[t][a],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...c}:c}const i=rh(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:ru(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:ru(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:ru(e.colors[t][Math.max(i-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function vN(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ou(e,t,n){er(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const UC=e=>{const t=rh(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:_e(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":B3(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":B3(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ou(r.variables,e.breakpoints,"breakpoint"),ou(r.variables,e.spacing,"spacing"),ou(r.variables,e.fontSizes,"font-size"),ou(r.variables,e.lineHeights,"line-height"),ou(r.variables,e.shadows,"shadow"),ou(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),er(e.colors).forEach(i=>{const s=e.colors[i];if(vN(s)){Object.assign(r.light,jp({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,jp({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,c)=>{r.variables[`--mantine-color-${i}-${c}`]=a}),Object.assign(r.light,jp({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,jp({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return er(o).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=o[i].fontSize,r.variables[`--mantine-${i}-line-height`]=o[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=o[i].fontWeight||e.headings.fontWeight}),r};function yN({theme:e,generator:t}){const n=UC(e),r=t==null?void 0:t(e);return r?mw(n,r):n}const uy=UC(bw);function wN(e){const t={variables:{},light:{},dark:{}};return er(e.variables).forEach(n=>{uy.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),er(e.light).forEach(n=>{uy.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),er(e.dark).forEach(n=>{uy.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function xN(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function GC({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Xr(),r=ww(),o=QR(),i=yN({theme:n,generator:o}),s=e===":root"&&t,a=s?wN(i):i,c=gN(a,e);return c?x.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${c}${s?"":xN(e)}`}}):null}GC.displayName="@mantine/CssVariables";function bN(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function iu(e,t){var o,i;const n=typeof window<"u"&&"matchMedia"in window&&((o=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:o.matches),r=e!=="auto"?e:n?"dark":"light";(i=t())==null||i.setAttribute("data-mantine-color-scheme",r)}function SN({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const o=N.useRef(null),[i,s]=N.useState(()=>e.get(t)),a=r||i,c=N.useCallback(d=>{r||(iu(d,n),s(d),e.set(d))},[e.set,a,r]),f=N.useCallback(()=>{s(t),iu(t,n),e.clear()},[e.clear,t]);return N.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),xc(()=>{iu(e.get(t),n)},[]),N.useEffect(()=>{var h;if(r)return iu(r,n),()=>{};r===void 0&&iu(i,n),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const d=p=>{i==="auto"&&iu(p.matches?"dark":"light",n)};return(h=o.current)==null||h.addEventListener("change",d),()=>{var p;return(p=o.current)==null?void 0:p.removeEventListener("change",d)}},[i,r]),{colorScheme:a,setColorScheme:c,clearColorScheme:f}}function _N({respectReducedMotion:e,getRootElement:t}){xc(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}bN();function VC({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:f=dN(),defaultColorScheme:d="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:g,stylesTransform:w,env:S}){const{colorScheme:C,setColorScheme:k,clearColorScheme:P}=SN({defaultColorScheme:d,forceColorScheme:g,manager:f,getRootElement:h});return _N({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:h}),x.jsx(zC.Provider,{value:{colorScheme:C,setColorScheme:k,clearColorScheme:P,getRootElement:h,classNamesPrefix:c,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:w,env:S},children:x.jsxs($C,{theme:e,children:[s&&x.jsx(GC,{cssVariablesSelector:a,deduplicateCssVariables:i}),o&&x.jsx(mN,{}),t]})})}VC.displayName="@mantine/core/MantineProvider";function bc({classNames:e,styles:t,props:n,stylesCtx:r}){const o=Xr();return{resolvedClassNames:Tg({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Wm({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}const CN={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function kN({theme:e,options:t,unstyled:n}){return mr((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||CN[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function EN({selector:e,stylesCtx:t,options:n,props:r,theme:o}){return Tg({theme:o,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function $3({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return Tg({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function PN({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function TN({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function RN({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(o=>`${t}-${o}-${n}`)}function NN({themeName:e,theme:t,selector:n,props:r,stylesCtx:o}){return e.map(i=>{var s,a;return(a=Tg({theme:t,classNames:(s=t.components[i])==null?void 0:s.classNames,props:r,stylesCtx:o}))==null?void 0:a[n]})}function AN({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function MN({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:i,classes:s,unstyled:a,className:c,rootSelector:f,props:d,stylesCtx:h,withStaticClasses:p,headless:g,transformedStyles:w}){return mr(kN({theme:e,options:t,unstyled:a||g}),NN({theme:e,themeName:n,selector:r,props:d,stylesCtx:h}),AN({options:t,classes:s,selector:r,unstyled:a}),$3({selector:r,stylesCtx:h,theme:e,classNames:i,props:d}),$3({selector:r,stylesCtx:h,theme:e,classNames:w,props:d}),EN({selector:r,stylesCtx:h,options:t,props:d,theme:e}),PN({rootSelector:f,selector:r,className:c}),TN({selector:r,classes:s,unstyled:a||g}),p&&!g&&RN({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function IN({theme:e,themeName:t,props:n,stylesCtx:r,selector:o}){return t.map(i=>{var s;return Wm({theme:e,styles:(s=e.components[i])==null?void 0:s.styles,props:n,stylesCtx:r})[o]}).reduce((i,s)=>({...i,...s}),{})}function B1({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...B1({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function DN(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...xh(n[r])}}),t),{})}function ON({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:i,themeName:s,headless:a}){var c;return(c=DN([a?{}:t==null?void 0:t(n,r,o),...s.map(f=>{var d,h,p;return(p=(h=(d=n.components)==null?void 0:d[f])==null?void 0:h.vars)==null?void 0:p.call(h,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:c[i]}function jN({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:i,rootSelector:s,styles:a,style:c,vars:f,varsResolver:d,headless:h,withStylesTransform:p}){return{...!p&&IN({theme:e,themeName:t,props:o,stylesCtx:i,selector:n}),...!p&&Wm({theme:e,styles:a,props:o,stylesCtx:i})[n],...!p&&Wm({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:i})[n],...ON({theme:e,props:o,stylesCtx:i,vars:f,varsResolver:d,selector:n,themeName:t,headless:h}),...s===n?B1({style:c,theme:e}):null,...B1({style:r==null?void 0:r.style,theme:e})}}function LN({props:e,stylesCtx:t,themeName:n}){var s;const r=Xr(),o=(s=nN())==null?void 0:s();return{getTransformedStyles:a=>o?[...a.map(f=>o(f,{props:e,theme:r,ctx:t})),...n.map(f=>{var d;return o((d=r.components[f])==null?void 0:d.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function ht({name:e,classes:t,props:n,stylesCtx:r,className:o,style:i,rootSelector:s="root",unstyled:a,classNames:c,styles:f,vars:d,varsResolver:h}){const p=Xr(),g=ZR(),w=JR(),S=eN(),C=(Array.isArray(e)?e:[e]).filter(y=>y),{withStylesTransform:k,getTransformedStyles:P}=LN({props:n,stylesCtx:r,themeName:C});return(y,E)=>({className:MN({theme:p,options:E,themeName:C,selector:y,classNamesPrefix:g,classNames:c,classes:t,unstyled:a,className:o,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:w,headless:S,transformedStyles:P([E==null?void 0:E.styles,f])}),style:jN({theme:p,themeName:C,selector:y,options:E,props:n,stylesCtx:r,rootSelector:s,styles:f,style:i,vars:d,varsResolver:h,headless:S,withStylesTransform:k})})}function _w(e,t){return typeof e=="boolean"?e:t.autoContrast}function Ne(e,t,n){var s;const r=Xr(),o=(s=r.components[e])==null?void 0:s.defaultProps,i=typeof o=="function"?o(r):o;return{...t,...i,...xh(n)}}function dy(e){return er(e).reduce((t,n)=>e[n]!==void 0?`${t}${fR(n)}:${e[n]};`:t,"").trim()}function FN({selector:e,styles:t,media:n,container:r}){const o=t?dy(t):"",i=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${dy(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${dy(a.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${i.join("")}${s.join("")}`.trim()}function Rg(e){const t=ww();return x.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:FN(e)}})}function ad(e){const{m:t,mx:n,my:r,mt:o,mb:i,ml:s,mr:a,me:c,ms:f,p:d,px:h,py:p,pt:g,pb:w,pl:S,pr:C,pe:k,ps:P,bd:y,bg:E,c:M,opacity:A,ff:z,fz:O,fw:V,lts:B,ta:U,lh:F,fs:K,tt:ne,td:G,w:X,miw:Y,maw:$,h:q,mih:J,mah:ie,bgsz:te,bgp:de,bgr:He,bga:Te,pos:Ee,top:Q,left:we,bottom:ve,right:Re,inset:ke,display:Ae,flex:Me,hiddenFrom:Ze,visibleFrom:Qe,lightHidden:cn,darkHidden:je,sx:qe,...ot}=e;return{styleProps:xh({m:t,mx:n,my:r,mt:o,mb:i,ml:s,mr:a,me:c,ms:f,p:d,px:h,py:p,pt:g,pb:w,pl:S,pr:C,pe:k,ps:P,bd:y,bg:E,c:M,opacity:A,ff:z,fz:O,fw:V,lts:B,ta:U,lh:F,fs:K,tt:ne,td:G,w:X,miw:Y,maw:$,h:q,mih:J,mah:ie,bgsz:te,bgp:de,bgr:He,bga:Te,pos:Ee,top:Q,left:we,bottom:ve,right:Re,inset:ke,display:Ae,flex:Me,hiddenFrom:Ze,visibleFrom:Qe,lightHidden:cn,darkHidden:je,sx:qe}),rest:ot}}const zN={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Cw(e,t){const n=gl({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function BN(e,t){const n=gl({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:Cw(e,t)}function $N(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(s=>s.trim()!=="");let i=`${_e(n)}`;return r&&(i+=` ${r}`),o.length>0&&(i+=` ${Cw(o.join(" "),t)}`),i.trim()}return e}const U3={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function UN(e){return typeof e=="string"&&e in U3?U3[e]:e}const GN=["h1","h2","h3","h4","h5","h6"];function VN(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&GN.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?_e(e):e}function HN(e){return e}const WN=["h1","h2","h3","h4","h5","h6"];function KN(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&WN.includes(e)?`var(--mantine-${e}-line-height)`:e}function YN(e){return typeof e=="number"?_e(e):e}function qN(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return _e(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const fy={color:Cw,textColor:BN,fontSize:VN,spacing:qN,identity:HN,size:YN,lineHeight:KN,fontFamily:UN,border:$N};function G3(e){return e.replace("(min-width: ","").replace("em)","")}function XN({media:e,...t}){const r=Object.keys(e).sort((o,i)=>Number(G3(o))-Number(G3(i))).map(o=>({query:o,styles:e[o]}));return{...t,media:r}}function QN(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function ZN(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function JN(e){return typeof e=="object"&&e!==null?er(e).filter(t=>t!=="base"):[]}function eA(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function tA({styleProps:e,data:t,theme:n}){return XN(er(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const i=t[o],s=Array.isArray(i.property)?i.property:[i.property],a=ZN(e[o]);if(!QN(e[o]))return s.forEach(f=>{r.inlineStyles[f]=fy[i.type](a,n)}),r;r.hasResponsiveStyles=!0;const c=JN(e[o]);return s.forEach(f=>{a&&(r.styles[f]=fy[i.type](a,n)),c.forEach(d=>{const h=`(min-width: ${n.breakpoints[d]})`;r.media[h]={...r.media[h],[f]:fy[i.type](eA(e[o],d),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function HC(){return`__m__-${N.useId().replace(/:/g,"")}`}function WC(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...WC(r,t)}),{}):typeof e=="function"?e(t):e??{}}function KC(e){return e.startsWith("data-")?e:`data-${e}`}function nA(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[KC(n)]=e[n]),t},{})}function YC(e){return e?typeof e=="string"?{[KC(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...YC(n)}),{}):nA(e):null}function $1(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...$1(r,t)}),{}):typeof e=="function"?e(t):e??{}}function rA({theme:e,style:t,vars:n,styleProps:r}){const o=$1(t,e),i=$1(n,e);return{...o,...i,...r}}const qC=N.forwardRef(({component:e,style:t,__vars:n,className:r,variant:o,mod:i,size:s,hiddenFrom:a,visibleFrom:c,lightHidden:f,darkHidden:d,renderRoot:h,__size:p,...g},w)=>{var O;const S=Xr(),C=e||"div",{styleProps:k,rest:P}=ad(g),y=tN(),E=(O=y==null?void 0:y())==null?void 0:O(k.sx),M=HC(),A=tA({styleProps:k,theme:S,data:zN}),z={ref:w,style:rA({theme:S,style:t,vars:n,styleProps:A.inlineStyles}),className:mr(r,E,{[M]:A.hasResponsiveStyles,"mantine-light-hidden":f,"mantine-dark-hidden":d,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":o,"data-size":TC(s)?void 0:s||void 0,size:p,...YC(i),...P};return x.jsxs(x.Fragment,{children:[A.hasResponsiveStyles&&x.jsx(Rg,{selector:`.${M}`,styles:A.styles,media:A.media}),typeof h=="function"?h(z):x.jsx(C,{...z})]})});qC.displayName="@mantine/core/Box";const Oe=qC;function XC(e){return e}function oA(e){const t=e;return n=>{const r=N.forwardRef((o,i)=>x.jsx(t,{...n,...o,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function Ye(e){const t=N.forwardRef(e);return t.extend=XC,t.withProps=n=>{const r=N.forwardRef((o,i)=>x.jsx(t,{...n,...o,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function fo(e){const t=N.forwardRef(e);return t.withProps=n=>{const r=N.forwardRef((o,i)=>x.jsx(t,{...n,...o,ref:i}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=XC,t}const iA=N.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function ld(){return N.useContext(iA)}function Ng(){return typeof window<"u"}function cd(e){return QC(e)?(e.nodeName||"").toLowerCase():"#document"}function Io(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bs(e){var t;return(t=(QC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QC(e){return Ng()?e instanceof Node||e instanceof Io(e).Node:!1}function Cn(e){return Ng()?e instanceof Element||e instanceof Io(e).Element:!1}function Yo(e){return Ng()?e instanceof HTMLElement||e instanceof Io(e).HTMLElement:!1}function U1(e){return!Ng()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Io(e).ShadowRoot}const sA=new Set(["inline","contents"]);function Sh(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=mi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!sA.has(o)}const aA=new Set(["table","td","th"]);function lA(e){return aA.has(cd(e))}const cA=[":popover-open",":modal"];function Ag(e){return cA.some(t=>{try{return e.matches(t)}catch{return!1}})}const uA=["transform","translate","scale","rotate","perspective"],dA=["transform","translate","scale","rotate","perspective","filter"],fA=["paint","layout","strict","content"];function kw(e){const t=Mg(),n=Cn(e)?mi(e):e;return uA.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||dA.some(r=>(n.willChange||"").includes(r))||fA.some(r=>(n.contain||"").includes(r))}function hA(e){let t=ra(e);for(;Yo(t)&&!cl(t);){if(kw(t))return t;if(Ag(t))return null;t=ra(t)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pA=new Set(["html","body","#document"]);function cl(e){return pA.has(cd(e))}function mi(e){return Io(e).getComputedStyle(e)}function Ig(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ra(e){if(cd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||U1(e)&&e.host||bs(e);return U1(t)?t.host:t}function ZC(e){const t=ra(e);return cl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yo(t)&&Sh(t)?t:ZC(t)}function qs(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=ZC(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Io(o);if(i){const a=G1(s);return t.concat(s,s.visualViewport||[],Sh(o)?o:[],a&&n?qs(a):[])}return t.concat(o,qs(o,[],n))}function G1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function V3(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function oh(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&U1(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function JC(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function e8(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function mA(e){return yA()?!1:!H3()&&e.width===0&&e.height===0||H3()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function gA(){return/apple/i.test(navigator.vendor)}function H3(){const e=/android/i;return e.test(JC())||e.test(e8())}function vA(){return JC().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function yA(){return e8().includes("jsdom/")}function V1(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function wA(e){return"nativeEvent"in e}function xA(e){return e.matches("html,body")}function oc(e){return(e==null?void 0:e.ownerDocument)||document}function hy(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function pu(e){return"composedPath"in e?e.composedPath()[0]:e.target}const bA="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function SA(e){return Yo(e)&&e.matches(bA)}const Ui=Math.min,Kr=Math.max,Km=Math.round,Lp=Math.floor,vs=e=>({x:e,y:e}),_A={left:"right",right:"left",bottom:"top",top:"bottom"},CA={start:"end",end:"start"};function H1(e,t,n){return Kr(e,Ui(t,n))}function oa(e,t){return typeof e=="function"?e(t):e}function Gi(e){return e.split("-")[0]}function ud(e){return e.split("-")[1]}function Ew(e){return e==="x"?"y":"x"}function Pw(e){return e==="y"?"height":"width"}const kA=new Set(["top","bottom"]);function Di(e){return kA.has(Gi(e))?"y":"x"}function Tw(e){return Ew(Di(e))}function EA(e,t,n){n===void 0&&(n=!1);const r=ud(e),o=Tw(e),i=Pw(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ym(s)),[s,Ym(s)]}function PA(e){const t=Ym(e);return[W1(e),t,W1(t)]}function W1(e){return e.replace(/start|end/g,t=>CA[t])}const W3=["left","right"],K3=["right","left"],TA=["top","bottom"],RA=["bottom","top"];function NA(e,t,n){switch(e){case"top":case"bottom":return n?t?K3:W3:t?W3:K3;case"left":case"right":return t?TA:RA;default:return[]}}function AA(e,t,n,r){const o=ud(e);let i=NA(Gi(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(W1)))),i}function Ym(e){return e.replace(/left|right|bottom|top/g,t=>_A[t])}function MA(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rw(e){return typeof e!="number"?MA(e):{top:e,right:e,bottom:e,left:e}}function Xu(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Y3(e,t,n){let{reference:r,floating:o}=e;const i=Di(t),s=Tw(t),a=Pw(s),c=Gi(t),f=i==="y",d=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-o.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-o.width,y:h};break;default:g={x:r.x,y:r.y}}switch(ud(t)){case"start":g[s]-=p*(n&&f?-1:1);break;case"end":g[s]+=p*(n&&f?-1:1);break}return g}const IA=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=Y3(f,r,c),p=r,g={},w=0;for(let S=0;S<a.length;S++){const{name:C,fn:k}=a[S],{x:P,y,data:E,reset:M}=await k({x:d,y:h,initialPlacement:r,placement:p,strategy:o,middlewareData:g,rects:f,platform:s,elements:{reference:e,floating:t}});d=P??d,h=y??h,g={...g,[C]:{...g[C],...E}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(f=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:d,y:h}=Y3(f,p,c)),S=-1)}return{x:d,y:h,placement:p,strategy:o,middlewareData:g}};async function Nw(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=oa(t,e),w=Rw(g),C=a[p?h==="floating"?"reference":"floating":h],k=Xu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(C)))==null||n?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:c})),P=h==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},M=Xu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:P,offsetParent:y,strategy:c}):P);return{top:(k.top-M.top+w.top)/E.y,bottom:(M.bottom-k.bottom+w.bottom)/E.y,left:(k.left-M.left+w.left)/E.x,right:(M.right-k.right+w.right)/E.x}}const DA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:f,padding:d=0}=oa(e,t)||{};if(f==null)return{};const h=Rw(d),p={x:n,y:r},g=Tw(o),w=Pw(g),S=await s.getDimensions(f),C=g==="y",k=C?"top":"left",P=C?"bottom":"right",y=C?"clientHeight":"clientWidth",E=i.reference[w]+i.reference[g]-p[g]-i.floating[w],M=p[g]-i.reference[g],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let z=A?A[y]:0;(!z||!await(s.isElement==null?void 0:s.isElement(A)))&&(z=a.floating[y]||i.floating[w]);const O=E/2-M/2,V=z/2-S[w]/2-1,B=Ui(h[k],V),U=Ui(h[P],V),F=B,K=z-S[w]-U,ne=z/2-S[w]/2+O,G=H1(F,ne,K),X=!c.arrow&&ud(o)!=null&&ne!==G&&i.reference[w]/2-(ne<F?B:U)-S[w]/2<0,Y=X?ne<F?ne-F:ne-K:0;return{[g]:p[g]+Y,data:{[g]:G,centerOffset:ne-G-Y,...X&&{alignmentOffset:Y}},reset:X}}}),OA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:f}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:S=!0,...C}=oa(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=Gi(o),P=Di(a),y=Gi(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(f.floating)),M=p||(y||!S?[Ym(a)]:PA(a)),A=w!=="none";!p&&A&&M.push(...AA(a,S,w,E));const z=[a,...M],O=await Nw(t,C),V=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&V.push(O[k]),h){const ne=EA(o,s,E);V.push(O[ne[0]],O[ne[1]])}if(B=[...B,{placement:o,overflows:V}],!V.every(ne=>ne<=0)){var U,F;const ne=(((U=i.flip)==null?void 0:U.index)||0)+1,G=z[ne];if(G&&(!(h==="alignment"?P!==Di(G):!1)||B.every($=>Di($.placement)===P?$.overflows[0]>0:!0)))return{data:{index:ne,overflows:B},reset:{placement:G}};let X=(F=B.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:F.placement;if(!X)switch(g){case"bestFit":{var K;const Y=(K=B.filter($=>{if(A){const q=Di($.placement);return q===P||q==="y"}return!0}).map($=>[$.placement,$.overflows.filter(q=>q>0).reduce((q,J)=>q+J,0)]).sort(($,q)=>$[1]-q[1])[0])==null?void 0:K[0];Y&&(X=Y);break}case"initialPlacement":X=a;break}if(o!==X)return{reset:{placement:X}}}return{}}}};function t8(e){const t=Ui(...e.map(i=>i.left)),n=Ui(...e.map(i=>i.top)),r=Kr(...e.map(i=>i.right)),o=Kr(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function jA(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Xu(t8(o)))}const LA=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=t,{padding:a=2,x:c,y:f}=oa(e,t),d=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=jA(d),p=Xu(t8(d)),g=Rw(a);function w(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&f!=null)return h.find(C=>c>C.left-g.left&&c<C.right+g.right&&f>C.top-g.top&&f<C.bottom+g.bottom)||p;if(h.length>=2){if(Di(n)==="y"){const B=h[0],U=h[h.length-1],F=Gi(n)==="top",K=B.top,ne=U.bottom,G=F?B.left:U.left,X=F?B.right:U.right,Y=X-G,$=ne-K;return{top:K,bottom:ne,left:G,right:X,width:Y,height:$,x:G,y:K}}const C=Gi(n)==="left",k=Kr(...h.map(B=>B.right)),P=Ui(...h.map(B=>B.left)),y=h.filter(B=>C?B.left===P:B.right===k),E=y[0].top,M=y[y.length-1].bottom,A=P,z=k,O=z-A,V=M-E;return{top:E,bottom:M,left:A,right:z,width:O,height:V,x:A,y:E}}return p}const S=await i.getElementRects({reference:{getBoundingClientRect:w},floating:r.floating,strategy:s});return o.reference.x!==S.reference.x||o.reference.y!==S.reference.y||o.reference.width!==S.reference.width||o.reference.height!==S.reference.height?{reset:{rects:S}}:{}}}},n8=new Set(["left","top"]);async function FA(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Gi(n),a=ud(n),c=Di(n)==="y",f=n8.has(s)?-1:1,d=i&&c?-1:1,h=oa(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),c?{x:g*d,y:p*f}:{x:p*f,y:g*d}}const zA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,c=await FA(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:s}}}}},BA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:k,y:P}=C;return{x:k,y:P}}},...c}=oa(e,t),f={x:n,y:r},d=await Nw(t,c),h=Di(Gi(o)),p=Ew(h);let g=f[p],w=f[h];if(i){const C=p==="y"?"top":"left",k=p==="y"?"bottom":"right",P=g+d[C],y=g-d[k];g=H1(P,g,y)}if(s){const C=h==="y"?"top":"left",k=h==="y"?"bottom":"right",P=w+d[C],y=w-d[k];w=H1(P,w,y)}const S=a.fn({...t,[p]:g,[h]:w});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[p]:i,[h]:s}}}}}},$A=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:c=!0,crossAxis:f=!0}=oa(e,t),d={x:n,y:r},h=Di(o),p=Ew(h);let g=d[p],w=d[h];const S=oa(a,t),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const y=p==="y"?"height":"width",E=i.reference[p]-i.floating[y]+C.mainAxis,M=i.reference[p]+i.reference[y]-C.mainAxis;g<E?g=E:g>M&&(g=M)}if(f){var k,P;const y=p==="y"?"width":"height",E=n8.has(Gi(o)),M=i.reference[h]-i.floating[y]+(E&&((k=s.offset)==null?void 0:k[h])||0)+(E?0:C.crossAxis),A=i.reference[h]+i.reference[y]+(E?0:((P=s.offset)==null?void 0:P[h])||0)-(E?C.crossAxis:0);w<M?w=M:w>A&&(w=A)}return{[p]:g,[h]:w}}}},UA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:c=()=>{},...f}=oa(e,t),d=await Nw(t,f),h=Gi(o),p=ud(o),g=Di(o)==="y",{width:w,height:S}=i.floating;let C,k;h==="top"||h==="bottom"?(C=h,k=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(k=h,C=p==="end"?"top":"bottom");const P=S-d.top-d.bottom,y=w-d.left-d.right,E=Ui(S-d[C],P),M=Ui(w-d[k],y),A=!t.middlewareData.shift;let z=E,O=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(z=P),A&&!p){const B=Kr(d.left,0),U=Kr(d.right,0),F=Kr(d.top,0),K=Kr(d.bottom,0);g?O=w-2*(B!==0||U!==0?B+U:Kr(d.left,d.right)):z=S-2*(F!==0||K!==0?F+K:Kr(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:z});const V=await s.getDimensions(a.floating);return w!==V.width||S!==V.height?{reset:{rects:!0}}:{}}}};function r8(e){const t=mi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Yo(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Km(n)!==i||Km(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Aw(e){return Cn(e)?e:e.contextElement}function Fu(e){const t=Aw(e);if(!Yo(t))return vs(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=r8(t);let s=(i?Km(n.width):n.width)/r,a=(i?Km(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const GA=vs(0);function o8(e){const t=Io(e);return!Mg()||!t.visualViewport?GA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Io(e)?!1:t}function mc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Aw(e);let s=vs(1);t&&(r?Cn(r)&&(s=Fu(r)):s=Fu(e));const a=VA(i,n,r)?o8(i):vs(0);let c=(o.left+a.x)/s.x,f=(o.top+a.y)/s.y,d=o.width/s.x,h=o.height/s.y;if(i){const p=Io(i),g=r&&Cn(r)?Io(r):r;let w=p,S=G1(w);for(;S&&r&&g!==w;){const C=Fu(S),k=S.getBoundingClientRect(),P=mi(S),y=k.left+(S.clientLeft+parseFloat(P.paddingLeft))*C.x,E=k.top+(S.clientTop+parseFloat(P.paddingTop))*C.y;c*=C.x,f*=C.y,d*=C.x,h*=C.y,c+=y,f+=E,w=Io(S),S=G1(w)}}return Xu({width:d,height:h,x:c,y:f})}function Dg(e,t){const n=Ig(e).scrollLeft;return t?t.left+n:mc(bs(e)).left+n}function i8(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Dg(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function HA(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=bs(r),a=t?Ag(t.floating):!1;if(r===s||a&&i)return n;let c={scrollLeft:0,scrollTop:0},f=vs(1);const d=vs(0),h=Yo(r);if((h||!h&&!i)&&((cd(r)!=="body"||Sh(s))&&(c=Ig(r)),Yo(r))){const g=mc(r);f=Fu(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=s&&!h&&!i?i8(s,c):vs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+d.x+p.x,y:n.y*f.y-c.scrollTop*f.y+d.y+p.y}}function WA(e){return Array.from(e.getClientRects())}function KA(e){const t=bs(e),n=Ig(e),r=e.ownerDocument.body,o=Kr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Kr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Dg(e);const a=-n.scrollTop;return mi(r).direction==="rtl"&&(s+=Kr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}const q3=25;function YA(e,t){const n=Io(e),r=bs(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const d=Mg();(!d||d&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}const f=Dg(r);if(f<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-g);w<=q3&&(i-=w)}else f<=q3&&(i+=f);return{width:i,height:s,x:a,y:c}}const qA=new Set(["absolute","fixed"]);function XA(e,t){const n=mc(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Yo(e)?Fu(e):vs(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,f=r*i.y;return{width:s,height:a,x:c,y:f}}function X3(e,t,n){let r;if(t==="viewport")r=YA(e,n);else if(t==="document")r=KA(bs(e));else if(Cn(t))r=XA(t,n);else{const o=o8(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Xu(r)}function s8(e,t){const n=ra(e);return n===t||!Cn(n)||cl(n)?!1:mi(n).position==="fixed"||s8(n,t)}function QA(e,t){const n=t.get(e);if(n)return n;let r=qs(e,[],!1).filter(a=>Cn(a)&&cd(a)!=="body"),o=null;const i=mi(e).position==="fixed";let s=i?ra(e):e;for(;Cn(s)&&!cl(s);){const a=mi(s),c=kw(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&qA.has(o.position)||Sh(s)&&!c&&s8(e,s))?r=r.filter(d=>d!==s):o=a,s=ra(s)}return t.set(e,r),r}function ZA(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Ag(t)?[]:QA(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((f,d)=>{const h=X3(t,d,o);return f.top=Kr(h.top,f.top),f.right=Ui(h.right,f.right),f.bottom=Ui(h.bottom,f.bottom),f.left=Kr(h.left,f.left),f},X3(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JA(e){const{width:t,height:n}=r8(e);return{width:t,height:n}}function eM(e,t,n){const r=Yo(t),o=bs(t),i=n==="fixed",s=mc(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=vs(0);function f(){c.x=Dg(o)}if(r||!r&&!i)if((cd(t)!=="body"||Sh(o))&&(a=Ig(t)),r){const g=mc(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else o&&f();i&&!r&&o&&f();const d=o&&!r&&!i?i8(o,a):vs(0),h=s.left+a.scrollLeft-c.x-d.x,p=s.top+a.scrollTop-c.y-d.y;return{x:h,y:p,width:s.width,height:s.height}}function py(e){return mi(e).position==="static"}function Q3(e,t){if(!Yo(e)||mi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return bs(e)===n&&(n=n.ownerDocument.body),n}function a8(e,t){const n=Io(e);if(Ag(e))return n;if(!Yo(e)){let o=ra(e);for(;o&&!cl(o);){if(Cn(o)&&!py(o))return o;o=ra(o)}return n}let r=Q3(e,t);for(;r&&lA(r)&&py(r);)r=Q3(r,t);return r&&cl(r)&&py(r)&&!kw(r)?n:r||hA(e)||n}const tM=async function(e){const t=this.getOffsetParent||a8,n=this.getDimensions,r=await n(e.floating);return{reference:eM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nM(e){return mi(e).direction==="rtl"}const rM={convertOffsetParentRelativeRectToViewportRelativeRect:HA,getDocumentElement:bs,getClippingRect:ZA,getOffsetParent:a8,getElementRects:tM,getClientRects:WA,getDimensions:JA,getScale:Fu,isElement:Cn,isRTL:nM};function l8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oM(e,t){let n=null,r;const o=bs(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const f=e.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=f;if(a||t(),!p||!g)return;const w=Lp(h),S=Lp(o.clientWidth-(d+p)),C=Lp(o.clientHeight-(h+g)),k=Lp(d),y={rootMargin:-w+"px "+-S+"px "+-C+"px "+-k+"px",threshold:Kr(0,Ui(1,c))||1};let E=!0;function M(A){const z=A[0].intersectionRatio;if(z!==c){if(!E)return s();z?s(!1,z):r=setTimeout(()=>{s(!1,1e-7)},1e3)}z===1&&!l8(f,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(M,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,y)}n.observe(e)}return s(!0),i}function iM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Aw(e),d=o||i?[...f?qs(f):[],...qs(t)]:[];d.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const h=f&&a?oM(f,n):null;let p=-1,g=null;s&&(g=new ResizeObserver(k=>{let[P]=k;P&&P.target===f&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(t)})),n()}),f&&!c&&g.observe(f),g.observe(t));let w,S=c?mc(e):null;c&&C();function C(){const k=mc(e);S&&!l8(S,k)&&n(),S=k,w=requestAnimationFrame(C)}return n(),()=>{var k;d.forEach(P=>{o&&P.removeEventListener("scroll",n),i&&P.removeEventListener("resize",n)}),h==null||h(),(k=g)==null||k.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const sM=zA,aM=BA,lM=OA,cM=UA,Z3=DA,uM=LA,dM=$A,fM=(e,t,n)=>{const r=new Map,o={platform:rM,...n},i={...o.platform,_c:r};return IA(e,t,{...o,platform:i})};var hM=typeof document<"u",pM=function(){},lm=hM?N.useLayoutEffect:pM;function qm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qm(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!qm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function c8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J3(e,t){const n=c8(e);return Math.round(t*n)/n}function my(e){const t=N.useRef(e);return lm(()=>{t.current=e}),t}function mM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:f}=e,[d,h]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=N.useState(r);qm(p,r)||g(r);const[w,S]=N.useState(null),[C,k]=N.useState(null),P=N.useCallback($=>{$!==A.current&&(A.current=$,S($))},[]),y=N.useCallback($=>{$!==z.current&&(z.current=$,k($))},[]),E=i||w,M=s||C,A=N.useRef(null),z=N.useRef(null),O=N.useRef(d),V=c!=null,B=my(c),U=my(o),F=my(f),K=N.useCallback(()=>{if(!A.current||!z.current)return;const $={placement:t,strategy:n,middleware:p};U.current&&($.platform=U.current),fM(A.current,z.current,$).then(q=>{const J={...q,isPositioned:F.current!==!1};ne.current&&!qm(O.current,J)&&(O.current=J,Cg.flushSync(()=>{h(J)}))})},[p,t,n,U,F]);lm(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[f]);const ne=N.useRef(!1);lm(()=>(ne.current=!0,()=>{ne.current=!1}),[]),lm(()=>{if(E&&(A.current=E),M&&(z.current=M),E&&M){if(B.current)return B.current(E,M,K);K()}},[E,M,K,B,V]);const G=N.useMemo(()=>({reference:A,floating:z,setReference:P,setFloating:y}),[P,y]),X=N.useMemo(()=>({reference:E,floating:M}),[E,M]),Y=N.useMemo(()=>{const $={position:n,left:0,top:0};if(!X.floating)return $;const q=J3(X.floating,d.x),J=J3(X.floating,d.y);return a?{...$,transform:"translate("+q+"px, "+J+"px)",...c8(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:J}},[n,a,X.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:K,refs:G,elements:X,floatingStyles:Y}),[d,K,G,X,Y])}const gM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Z3({element:r.current,padding:o}).fn(n):{}:r?Z3({element:r,padding:o}).fn(n):{}}}},u8=(e,t)=>({...sM(e),options:[e,t]}),Mw=(e,t)=>({...aM(e),options:[e,t]}),e_=(e,t)=>({...dM(e),options:[e,t]}),Xm=(e,t)=>({...lM(e),options:[e,t]}),vM=(e,t)=>({...cM(e),options:[e,t]}),Lf=(e,t)=>({...uM(e),options:[e,t]}),d8=(e,t)=>({...gM(e),options:[e,t]});function yM(e){return N.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const f8={...xE},wM=f8.useInsertionEffect,xM=wM||(e=>e());function Hs(e){const t=N.useRef(()=>{});return xM(()=>{t.current=e}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var ys=typeof document<"u"?N.useLayoutEffect:N.useEffect;let t_=!1,bM=0;const n_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+bM++;function SM(){const[e,t]=N.useState(()=>t_?n_():void 0);return ys(()=>{e==null&&t(n_())},[]),N.useEffect(()=>{t_=!0},[]),e}const _M=f8.useId,h8=_M||SM;function CM(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const kM=N.createContext(null),EM=N.createContext(null),Iw=()=>{var e;return((e=N.useContext(kM))==null?void 0:e.id)||null},Dw=()=>N.useContext(EM);function Ow(e){return"data-floating-ui-"+e}function gy(e){const t=N.useRef(e);return ys(()=>{t.current=e}),t}const r_=Ow("safe-polygon");function cm(e,t,n){return n&&!V1(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function PM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=e,{enabled:a=!0,delay:c=0,handleClose:f=null,mouseOnly:d=!1,restMs:h=0,move:p=!0}=t,g=Dw(),w=Iw(),S=gy(f),C=gy(c),k=gy(n),P=N.useRef(),y=N.useRef(-1),E=N.useRef(),M=N.useRef(-1),A=N.useRef(!0),z=N.useRef(!1),O=N.useRef(()=>{}),V=N.useRef(!1),B=N.useCallback(()=>{var Y;const $=(Y=o.current.openEvent)==null?void 0:Y.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[o]);N.useEffect(()=>{if(!a)return;function Y($){let{open:q}=$;q||(clearTimeout(y.current),clearTimeout(M.current),A.current=!0,V.current=!1)}return i.on("openchange",Y),()=>{i.off("openchange",Y)}},[a,i]),N.useEffect(()=>{if(!a||!S.current||!n)return;function Y(q){B()&&r(!1,q,"hover")}const $=oc(s.floating).documentElement;return $.addEventListener("mouseleave",Y),()=>{$.removeEventListener("mouseleave",Y)}},[s.floating,n,r,a,S,B]);const U=N.useCallback(function(Y,$,q){$===void 0&&($=!0),q===void 0&&(q="hover");const J=cm(C.current,"close",P.current);J&&!E.current?(clearTimeout(y.current),y.current=window.setTimeout(()=>r(!1,Y,q),J)):$&&(clearTimeout(y.current),r(!1,Y,q))},[C,r]),F=Hs(()=>{O.current(),E.current=void 0}),K=Hs(()=>{if(z.current){const Y=oc(s.floating).body;Y.style.pointerEvents="",Y.removeAttribute(r_),z.current=!1}}),ne=Hs(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);N.useEffect(()=>{if(!a)return;function Y(ie){if(clearTimeout(y.current),A.current=!1,d&&!V1(P.current)||h>0&&!cm(C.current,"open"))return;const te=cm(C.current,"open",P.current);te?y.current=window.setTimeout(()=>{k.current||r(!0,ie,"hover")},te):n||r(!0,ie,"hover")}function $(ie){if(ne())return;O.current();const te=oc(s.floating);if(clearTimeout(M.current),V.current=!1,S.current&&o.current.floatingContext){n||clearTimeout(y.current),E.current=S.current({...o.current.floatingContext,tree:g,x:ie.clientX,y:ie.clientY,onClose(){K(),F(),ne()||U(ie,!0,"safe-polygon")}});const He=E.current;te.addEventListener("mousemove",He),O.current=()=>{te.removeEventListener("mousemove",He)};return}(P.current==="touch"?!oh(s.floating,ie.relatedTarget):!0)&&U(ie)}function q(ie){ne()||o.current.floatingContext&&(S.current==null||S.current({...o.current.floatingContext,tree:g,x:ie.clientX,y:ie.clientY,onClose(){K(),F(),ne()||U(ie)}})(ie))}if(Cn(s.domReference)){var J;const ie=s.domReference;return n&&ie.addEventListener("mouseleave",q),(J=s.floating)==null||J.addEventListener("mouseleave",q),p&&ie.addEventListener("mousemove",Y,{once:!0}),ie.addEventListener("mouseenter",Y),ie.addEventListener("mouseleave",$),()=>{var te;n&&ie.removeEventListener("mouseleave",q),(te=s.floating)==null||te.removeEventListener("mouseleave",q),p&&ie.removeEventListener("mousemove",Y),ie.removeEventListener("mouseenter",Y),ie.removeEventListener("mouseleave",$)}}},[s,a,e,d,h,p,U,F,K,r,n,k,g,C,S,o,ne]),ys(()=>{var Y;if(a&&n&&(Y=S.current)!=null&&Y.__options.blockPointerEvents&&B()){z.current=!0;const q=s.floating;if(Cn(s.domReference)&&q){var $;const J=oc(s.floating).body;J.setAttribute(r_,"");const ie=s.domReference,te=g==null||($=g.nodesRef.current.find(de=>de.id===w))==null||($=$.context)==null?void 0:$.elements.floating;return te&&(te.style.pointerEvents=""),J.style.pointerEvents="none",ie.style.pointerEvents="auto",q.style.pointerEvents="auto",()=>{J.style.pointerEvents="",ie.style.pointerEvents="",q.style.pointerEvents=""}}}},[a,n,w,s,g,S,B]),ys(()=>{n||(P.current=void 0,V.current=!1,F(),K())},[n,F,K]),N.useEffect(()=>()=>{F(),clearTimeout(y.current),clearTimeout(M.current),K()},[a,s.domReference,F,K]);const G=N.useMemo(()=>{function Y($){P.current=$.pointerType}return{onPointerDown:Y,onPointerEnter:Y,onMouseMove($){const{nativeEvent:q}=$;function J(){!A.current&&!k.current&&r(!0,q,"hover")}d&&!V1(P.current)||n||h===0||V.current&&$.movementX**2+$.movementY**2<2||(clearTimeout(M.current),P.current==="touch"?J():(V.current=!0,M.current=window.setTimeout(J,h)))}}},[d,r,n,k,h]),X=N.useMemo(()=>({onMouseEnter(){clearTimeout(y.current)},onMouseLeave(Y){ne()||U(Y.nativeEvent,!1)}}),[U,ne]);return N.useMemo(()=>a?{reference:G,floating:X}:{},[a,G,X])}const K1=()=>{},p8=N.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:K1,setState:K1,isInstantPhase:!1}),TM=()=>N.useContext(p8);function RM(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,i]=N.useReducer((c,f)=>({...c,...f}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=N.useRef(null),a=N.useCallback(c=>{i({currentId:c})},[]);return ys(()=>{o.currentId?s.current===null?s.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[o.currentId,o.isInstantPhase]),N.createElement(p8.Provider,{value:N.useMemo(()=>({...o,setState:i,setCurrentId:a}),[o,a])},t)}function NM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:i,enabled:s=!0}=t,a=i??o,c=TM(),{currentId:f,setCurrentId:d,initialDelay:h,setState:p,timeoutMs:g}=c;return ys(()=>{s&&f&&(p({delay:{open:1,close:cm(h,"close")}}),f!==a&&r(!1))},[s,a,r,p,f,h]),ys(()=>{function w(){r(!1),p({delay:h,currentId:null})}if(s&&f&&!n&&f===a){if(g){const S=window.setTimeout(w,g);return()=>{clearTimeout(S)}}w()}},[s,n,p,f,a,r,h,g]),ys(()=>{s&&(d===K1||!n||d(a))},[s,n,d,a]),c}function vy(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var a;return o.parentId===s.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const AM="data-floating-ui-focusable",MM={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},IM={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},o_=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function DM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:c=!0,outsidePressEvent:f="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:g,capture:w}=t,S=Dw(),C=Hs(typeof c=="function"?c:()=>!1),k=typeof c=="function"?C:c,P=N.useRef(!1),y=N.useRef(!1),{escapeKey:E,outsidePress:M}=o_(g),{escapeKey:A,outsidePress:z}=o_(w),O=N.useRef(!1),V=Hs(G=>{var X;if(!n||!s||!a||G.key!=="Escape"||O.current)return;const Y=(X=i.current.floatingContext)==null?void 0:X.nodeId,$=S?vy(S.nodesRef.current,Y):[];if(!E&&(G.stopPropagation(),$.length>0)){let q=!0;if($.forEach(J=>{var ie;if((ie=J.context)!=null&&ie.open&&!J.context.dataRef.current.__escapeKeyBubbles){q=!1;return}}),!q)return}r(!1,wA(G)?G.nativeEvent:G,"escape-key")}),B=Hs(G=>{var X;const Y=()=>{var $;V(G),($=pu(G))==null||$.removeEventListener("keydown",Y)};(X=pu(G))==null||X.addEventListener("keydown",Y)}),U=Hs(G=>{var X;const Y=P.current;P.current=!1;const $=y.current;if(y.current=!1,f==="click"&&$||Y||typeof k=="function"&&!k(G))return;const q=pu(G),J="["+Ow("inert")+"]",ie=oc(o.floating).querySelectorAll(J);let te=Cn(q)?q:null;for(;te&&!cl(te);){const Ee=ra(te);if(cl(Ee)||!Cn(Ee))break;te=Ee}if(ie.length&&Cn(q)&&!xA(q)&&!oh(q,o.floating)&&Array.from(ie).every(Ee=>!oh(te,Ee)))return;if(Yo(q)&&ne){const Ee=q.clientWidth>0&&q.scrollWidth>q.clientWidth,Q=q.clientHeight>0&&q.scrollHeight>q.clientHeight;let we=Q&&G.offsetX>q.clientWidth;if(Q&&mi(q).direction==="rtl"&&(we=G.offsetX<=q.offsetWidth-q.clientWidth),we||Ee&&G.offsetY>q.clientHeight)return}const de=(X=i.current.floatingContext)==null?void 0:X.nodeId,He=S&&vy(S.nodesRef.current,de).some(Ee=>{var Q;return hy(G,(Q=Ee.context)==null?void 0:Q.elements.floating)});if(hy(G,o.floating)||hy(G,o.domReference)||He)return;const Te=S?vy(S.nodesRef.current,de):[];if(Te.length>0){let Ee=!0;if(Te.forEach(Q=>{var we;if((we=Q.context)!=null&&we.open&&!Q.context.dataRef.current.__outsidePressBubbles){Ee=!1;return}}),!Ee)return}r(!1,G,"outside-press")}),F=Hs(G=>{var X;const Y=()=>{var $;U(G),($=pu(G))==null||$.removeEventListener(f,Y)};(X=pu(G))==null||X.addEventListener(f,Y)});N.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=E,i.current.__outsidePressBubbles=M;let G=-1;function X(ie){r(!1,ie,"ancestor-scroll")}function Y(){window.clearTimeout(G),O.current=!0}function $(){G=window.setTimeout(()=>{O.current=!1},Mg()?5:0)}const q=oc(o.floating);a&&(q.addEventListener("keydown",A?B:V,A),q.addEventListener("compositionstart",Y),q.addEventListener("compositionend",$)),k&&q.addEventListener(f,z?F:U,z);let J=[];return p&&(Cn(o.domReference)&&(J=qs(o.domReference)),Cn(o.floating)&&(J=J.concat(qs(o.floating))),!Cn(o.reference)&&o.reference&&o.reference.contextElement&&(J=J.concat(qs(o.reference.contextElement)))),J=J.filter(ie=>{var te;return ie!==((te=q.defaultView)==null?void 0:te.visualViewport)}),J.forEach(ie=>{ie.addEventListener("scroll",X,{passive:!0})}),()=>{a&&(q.removeEventListener("keydown",A?B:V,A),q.removeEventListener("compositionstart",Y),q.removeEventListener("compositionend",$)),k&&q.removeEventListener(f,z?F:U,z),J.forEach(ie=>{ie.removeEventListener("scroll",X)}),window.clearTimeout(G)}},[i,o,a,k,f,n,r,p,s,E,M,V,A,B,U,z,F]),N.useEffect(()=>{P.current=!1},[k,f]);const K=N.useMemo(()=>({onKeyDown:V,[MM[h]]:G=>{d&&r(!1,G.nativeEvent,"reference-press")}}),[V,r,d,h]),ne=N.useMemo(()=>({onKeyDown:V,onMouseDown(){y.current=!0},onMouseUp(){y.current=!0},[IM[f]]:()=>{P.current=!0}}),[V,f]);return N.useMemo(()=>s?{reference:K,floating:ne}:{},[s,K,ne])}function OM(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=h8(),i=N.useRef({}),[s]=N.useState(()=>CM()),a=Iw()!=null,[c,f]=N.useState(r.reference),d=Hs((g,w,S)=>{i.current.openEvent=g?w:void 0,s.emit("openchange",{open:g,event:w,reason:S,nested:a}),n==null||n(g,w,S)}),h=N.useMemo(()=>({setPositionReference:f}),[]),p=N.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return N.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:s,floatingId:o,refs:h}),[t,d,p,s,o,h])}function jw(e){e===void 0&&(e={});const{nodeId:t}=e,n=OM({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=N.useState(null),[a,c]=N.useState(null),d=(o==null?void 0:o.domReference)||i,h=N.useRef(null),p=Dw();ys(()=>{d&&(h.current=d)},[d]);const g=mM({...e,elements:{...o,...a&&{reference:a}}}),w=N.useCallback(y=>{const E=Cn(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;c(E),g.refs.setReference(E)},[g.refs]),S=N.useCallback(y=>{(Cn(y)||y===null)&&(h.current=y,s(y)),(Cn(g.refs.reference.current)||g.refs.reference.current===null||y!==null&&!Cn(y))&&g.refs.setReference(y)},[g.refs]),C=N.useMemo(()=>({...g.refs,setReference:S,setPositionReference:w,domReference:h}),[g.refs,S,w]),k=N.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),P=N.useMemo(()=>({...g,...r,refs:C,elements:k,nodeId:t}),[g,C,k,t,r]);return ys(()=>{r.dataRef.current.floatingContext=P;const y=p==null?void 0:p.nodesRef.current.find(E=>E.id===t);y&&(y.context=P)}),N.useMemo(()=>({...g,context:P,refs:C,elements:k}),[g,C,k,P])}function jM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:s}=e,{enabled:a=!0,visibleOnly:c=!0}=t,f=N.useRef(!1),d=N.useRef(),h=N.useRef(!0);N.useEffect(()=>{if(!a)return;const g=Io(s.domReference);function w(){!n&&Yo(s.domReference)&&s.domReference===V3(oc(s.domReference))&&(f.current=!0)}function S(){h.current=!0}return g.addEventListener("blur",w),g.addEventListener("keydown",S,!0),()=>{g.removeEventListener("blur",w),g.removeEventListener("keydown",S,!0)}},[s.domReference,n,a]),N.useEffect(()=>{if(!a)return;function g(w){let{reason:S}=w;(S==="reference-press"||S==="escape-key")&&(f.current=!0)}return o.on("openchange",g),()=>{o.off("openchange",g)}},[o,a]),N.useEffect(()=>()=>{clearTimeout(d.current)},[]);const p=N.useMemo(()=>({onPointerDown(g){mA(g.nativeEvent)||(h.current=!1)},onMouseLeave(){f.current=!1},onFocus(g){if(f.current)return;const w=pu(g.nativeEvent);if(c&&Cn(w))try{if(gA()&&vA())throw Error();if(!w.matches(":focus-visible"))return}catch{if(!h.current&&!SA(w))return}r(!0,g.nativeEvent,"focus")},onBlur(g){f.current=!1;const w=g.relatedTarget,S=g.nativeEvent,C=Cn(w)&&w.hasAttribute(Ow("focus-guard"))&&w.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var k;const P=V3(s.domReference?s.domReference.ownerDocument:document);!w&&P===s.domReference||oh((k=i.current.floatingContext)==null?void 0:k.refs.floating.current,P)||oh(s.domReference,P)||C||r(!1,S,"focus")})}}),[i,s.domReference,r,c]);return N.useMemo(()=>a?{reference:p}:{},[a,p])}const i_="active",s_="selected";function yy(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[i_]:s,[s_]:a,...c}=e;i=c}return{...n==="floating"&&{tabIndex:-1,[AM]:""},...i,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(c=>{let[f,d]=c;if(!(o&&[i_,s_].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof d=="function"){var h;(h=r.get(f))==null||h.push(d),s[f]=function(){for(var p,g=arguments.length,w=new Array(g),S=0;S<g;S++)w[S]=arguments[S];return(p=r.get(f))==null?void 0:p.map(C=>C(...w)).find(C=>C!==void 0)}}}else s[f]=d}),s),{})}}function LM(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=N.useCallback(a=>yy(a,e,"reference"),t),i=N.useCallback(a=>yy(a,e,"floating"),n),s=N.useCallback(a=>yy(a,e,"item"),r);return N.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}const FM=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function zM(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,a=(n=FM.get(s))!=null?n:s,c=h8(),d=Iw()!=null,h=N.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?o:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:c},...a==="menu"&&d&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,o,d,r,c,s]),p=N.useMemo(()=>{const w={id:o,...a&&{role:a}};return a==="tooltip"||s==="label"?w:{...w,...a==="menu"&&{"aria-labelledby":c}}},[a,o,c,s]),g=N.useCallback(w=>{let{active:S,selected:C}=w;const k={role:"option",...S&&{id:o+"-option"}};switch(s){case"select":return{...k,"aria-selected":S&&C};case"combobox":return{...k,...S&&{"aria-selected":!0}}}return{}},[o,s]);return N.useMemo(()=>i?{reference:h,floating:p,item:g}:{},[i,h,p,g])}const[BM,gi]=xs("ScrollArea.Root component was not found in tree");function Qu(e,t){const n=Jl(t);xc(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const $M=N.forwardRef((e,t)=>{const{style:n,...r}=e,o=gi(),[i,s]=N.useState(0),[a,c]=N.useState(0),f=!!(i&&a);return Qu(o.scrollbarX,()=>{var h;const d=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(d),c(d)}),Qu(o.scrollbarY,()=>{var h;const d=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(d),s(d)}),f?x.jsx("div",{...r,ref:t,style:{...n,width:i,height:a}}):null}),UM=N.forwardRef((e,t)=>{const n=gi(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?x.jsx($M,{...e,ref:t}):null}),GM={scrollHideDelay:1e3,type:"hover"},m8=N.forwardRef((e,t)=>{const n=Ne("ScrollAreaRoot",GM,e),{type:r,scrollHideDelay:o,scrollbars:i,...s}=n,[a,c]=N.useState(null),[f,d]=N.useState(null),[h,p]=N.useState(null),[g,w]=N.useState(null),[S,C]=N.useState(null),[k,P]=N.useState(0),[y,E]=N.useState(0),[M,A]=N.useState(!1),[z,O]=N.useState(!1),V=Fn(t,B=>c(B));return x.jsx(BM,{value:{type:r,scrollHideDelay:o,scrollArea:a,viewport:f,onViewportChange:d,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:M,onScrollbarXEnabledChange:A,scrollbarY:S,onScrollbarYChange:C,scrollbarYEnabled:z,onScrollbarYEnabledChange:O,onCornerWidthChange:P,onCornerHeightChange:E},children:x.jsx(Oe,{...s,ref:V,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${k}px`,"--sa-corner-height":i!=="xy"?"0px":`${y}px`}})})});m8.displayName="@mantine/core/ScrollAreaRoot";function g8(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Og(e){const t=g8(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function v8(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function VM(e,[t,n]){return Math.min(n,Math.max(t,e))}function a_(e,t,n="ltr"){const r=Og(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,s=t.content-t.viewport,a=i-r,c=n==="ltr"?[0,s]:[s*-1,0],f=VM(e,c);return v8([0,s],[0,a])(f)}function HM(e,t,n,r="ltr"){const o=Og(n),i=o/2,s=t||i,a=o-s,c=n.scrollbar.paddingStart+s,f=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return v8([c,f],h)(e)}function y8(e,t){return e>0&&e<t}function Qa(e){return e?parseInt(e,10):0}function cc(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[WM,w8]=xs("ScrollAreaScrollbar was not found in tree"),x8=N.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:f,onResize:d,...h}=e,p=gi(),[g,w]=N.useState(null),S=Fn(t,O=>w(O)),C=N.useRef(null),k=N.useRef(""),{viewport:P}=p,y=n.content-n.viewport,E=Jl(f),M=Jl(a),A=Eg(d,10),z=O=>{if(C.current){const V=O.clientX-C.current.left,B=O.clientY-C.current.top;c({x:V,y:B})}};return N.useEffect(()=>{const O=V=>{const B=V.target;(g==null?void 0:g.contains(B))&&E(V,y)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[P,g,y,E]),N.useEffect(M,[n,M]),Qu(g,A),Qu(p.content,A),x.jsx(WM,{value:{scrollbar:g,hasThumb:r,onThumbChange:Jl(o),onThumbPointerUp:Jl(i),onThumbPositionChange:M,onThumbPointerDown:Jl(s)},children:x.jsx("div",{...h,ref:S,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:cc(e.onPointerDown,O=>{O.preventDefault(),O.button===0&&(O.target.setPointerCapture(O.pointerId),C.current=g.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",z(O))}),onPointerMove:cc(e.onPointerMove,z),onPointerUp:cc(e.onPointerUp,O=>{const V=O.target;V.hasPointerCapture(O.pointerId)&&(O.preventDefault(),V.releasePointerCapture(O.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=k.current,C.current=null}})})}),b8=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...i}=e,s=gi(),[a,c]=N.useState(),f=N.useRef(null),d=Fn(t,f,s.onScrollbarXChange);return N.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),x.jsx(x8,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{...o,"--sa-thumb-width":`${Og(n)}px`},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),y8(g,p)&&h.preventDefault()}},onResize:()=>{f.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Qa(a.paddingLeft),paddingEnd:Qa(a.paddingRight)}})}})});b8.displayName="@mantine/core/ScrollAreaScrollbarX";const S8=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...i}=e,s=gi(),[a,c]=N.useState(),f=N.useRef(null),d=Fn(t,f,s.onScrollbarYChange);return N.useEffect(()=>{f.current&&c(window.getComputedStyle(f.current))},[]),x.jsx(x8,{...i,"data-orientation":"vertical",ref:d,sizes:n,style:{"--sa-thumb-height":`${Og(n)}px`,...o},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),y8(g,p)&&h.preventDefault()}},onResize:()=>{f.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Qa(a.paddingTop),paddingEnd:Qa(a.paddingBottom)}})}})});S8.displayName="@mantine/core/ScrollAreaScrollbarY";const jg=N.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=ld(),i=gi(),s=N.useRef(null),a=N.useRef(0),[c,f]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=g8(c.viewport,c.content),h={...r,sizes:c,onSizesChange:f,hasThumb:d>0&&d<1,onThumbChange:g=>{s.current=g},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:g=>{a.current=g}},p=(g,w)=>HM(g,a.current,c,w);return n==="horizontal"?x.jsx(b8,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,w=a_(g,c,o);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=p(g,o))}}):n==="vertical"?x.jsx(S8,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,w=a_(g,c);c.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=p(g))}}):null});jg.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Lw=N.forwardRef((e,t)=>{const n=gi(),{forceMount:r,...o}=e,[i,s]=N.useState(!1),a=e.orientation==="horizontal",c=Eg(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?f:d)}},10);return Qu(n.viewport,c),Qu(n.content,c),r||i?x.jsx(jg,{"data-state":i?"visible":"hidden",...o,ref:t}):null});Lw.displayName="@mantine/core/ScrollAreaScrollbarAuto";const _8=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=gi(),[i,s]=N.useState(!1);return N.useEffect(()=>{const{scrollArea:a}=o;let c=0;if(a){const f=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),n||i?x.jsx(Lw,{"data-state":i?"visible":"hidden",...r,ref:t}):null});_8.displayName="@mantine/core/ScrollAreaScrollbarHover";const KM=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=gi(),i=e.orientation==="horizontal",[s,a]=N.useState("hidden"),c=Eg(()=>a("idle"),100);return N.useEffect(()=>{if(s==="idle"){const f=window.setTimeout(()=>a("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[s,o.scrollHideDelay]),N.useEffect(()=>{const{viewport:f}=o,d=i?"scrollLeft":"scrollTop";if(f){let h=f[d];const p=()=>{const g=f[d];h!==g&&(a("scrolling"),c()),h=g};return f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[o.viewport,i,c]),n||s!=="hidden"?x.jsx(jg,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:cc(e.onPointerEnter,()=>a("interacting")),onPointerLeave:cc(e.onPointerLeave,()=>a("idle"))}):null}),Y1=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=gi(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=o,a=e.orientation==="horizontal";return N.useEffect(()=>(a?i(!0):s(!0),()=>{a?i(!1):s(!1)}),[a,i,s]),o.type==="hover"?x.jsx(_8,{...r,ref:t,forceMount:n}):o.type==="scroll"?x.jsx(KM,{...r,ref:t,forceMount:n}):o.type==="auto"?x.jsx(Lw,{...r,ref:t,forceMount:n}):o.type==="always"?x.jsx(jg,{...r,ref:t}):null});Y1.displayName="@mantine/core/ScrollAreaScrollbar";function YM(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},s=n.left!==i.left,a=n.top!==i.top;(s||a)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)}const C8=N.forwardRef((e,t)=>{const{style:n,...r}=e,o=gi(),i=w8(),{onThumbPositionChange:s}=i,a=Fn(t,d=>i.onThumbChange(d)),c=N.useRef(void 0),f=Eg(()=>{c.current&&(c.current(),c.current=void 0)},100);return N.useEffect(()=>{const{viewport:d}=o;if(d){const h=()=>{if(f(),!c.current){const p=YM(d,s);c.current=p,s()}};return s(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,s]),x.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:cc(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),g=d.clientX-p.left,w=d.clientY-p.top;i.onThumbPointerDown({x:g,y:w})}),onPointerUp:cc(e.onPointerUp,i.onThumbPointerUp)})});C8.displayName="@mantine/core/ScrollAreaThumb";const q1=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=w8();return n||o.hasThumb?x.jsx(C8,{ref:t,...r}):null});q1.displayName="@mantine/core/ScrollAreaThumb";const k8=N.forwardRef(({children:e,style:t,...n},r)=>{const o=gi(),i=Fn(r,o.onViewportChange);return x.jsx(Oe,{...n,ref:i,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:x.jsx("div",{style:{minWidth:"100%"},ref:o.onContentChange,children:e})})});k8.displayName="@mantine/core/ScrollAreaViewport";var Fw={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const E8={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},qM=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":_e(t),"--scrollarea-over-scroll-behavior":n}}),aa=Ye((e,t)=>{const n=Ne("ScrollArea",E8,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,scrollbarSize:c,vars:f,type:d,scrollHideDelay:h,viewportProps:p,viewportRef:g,onScrollPositionChange:w,children:S,offsetScrollbars:C,scrollbars:k,onBottomReached:P,onTopReached:y,overscrollBehavior:E,...M}=n,[A,z]=N.useState(!1),[O,V]=N.useState(!1),[B,U]=N.useState(!1),F=ht({name:"ScrollArea",props:n,classes:Fw,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:f,varsResolver:qM}),K=N.useRef(null),ne=yM([g,K]);return N.useEffect(()=>{if(!K.current||C!=="present")return;const G=K.current,X=new ResizeObserver(()=>{const{scrollHeight:Y,clientHeight:$,scrollWidth:q,clientWidth:J}=G;V(Y>$),U(q>J)});return X.observe(G),()=>X.disconnect()},[K,C]),x.jsxs(m8,{type:d==="never"?"always":d,scrollHideDelay:h,ref:t,scrollbars:k,...F("root"),...M,children:[x.jsx(k8,{...p,...F("viewport",{style:p==null?void 0:p.style}),ref:ne,"data-offset-scrollbars":C===!0?"xy":C||void 0,"data-scrollbars":k||void 0,"data-horizontal-hidden":C==="present"&&!B?"true":void 0,"data-vertical-hidden":C==="present"&&!O?"true":void 0,onScroll:G=>{var q;(q=p==null?void 0:p.onScroll)==null||q.call(p,G),w==null||w({x:G.currentTarget.scrollLeft,y:G.currentTarget.scrollTop});const{scrollTop:X,scrollHeight:Y,clientHeight:$}=G.currentTarget;X-(Y-$)>=-.6&&(P==null||P()),X===0&&(y==null||y())},children:S}),(k==="xy"||k==="x")&&x.jsx(Y1,{...F("scrollbar"),orientation:"horizontal","data-hidden":d==="never"||C==="present"&&!B?!0:void 0,forceMount:!0,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:x.jsx(q1,{...F("thumb")})}),(k==="xy"||k==="y")&&x.jsx(Y1,{...F("scrollbar"),orientation:"vertical","data-hidden":d==="never"||C==="present"&&!O?!0:void 0,forceMount:!0,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:x.jsx(q1,{...F("thumb")})}),x.jsx(UM,{...F("corner"),"data-hovered":A||void 0,"data-hidden":d==="never"||void 0})]})});aa.displayName="@mantine/core/ScrollArea";const zw=Ye((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:i,scrollHideDelay:s,type:a,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,variant:g,viewportProps:w,scrollbars:S,style:C,vars:k,onBottomReached:P,onTopReached:y,...E}=Ne("ScrollAreaAutosize",E8,e);return x.jsx(Oe,{...E,ref:t,style:[{display:"flex",overflow:"auto"},C],children:x.jsx(Oe,{style:{display:"flex",flexDirection:"column",flex:1},children:x.jsx(aa,{classNames:r,styles:o,scrollHideDelay:s,scrollbarSize:i,type:a,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,variant:g,viewportProps:w,vars:k,scrollbars:S,onBottomReached:P,onTopReached:y,children:n})})})});aa.classes=Fw;zw.displayName="@mantine/core/ScrollAreaAutosize";zw.classes=Fw;aa.Autosize=zw;var P8={root:"m_87cf2631"};const XM={__staticSelector:"UnstyledButton"},ws=fo((e,t)=>{const n=Ne("UnstyledButton",XM,e),{className:r,component:o="button",__staticSelector:i,unstyled:s,classNames:a,styles:c,style:f,...d}=n,h=ht({name:i,props:n,classes:P8,className:r,style:f,classNames:a,styles:c,unstyled:s});return x.jsx(Oe,{...h("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...d})});ws.classes=P8;ws.displayName="@mantine/core/UnstyledButton";var T8={root:"m_515a97f8"};const QM={},Bw=Ye((e,t)=>{const n=Ne("VisuallyHidden",QM,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,...f}=n,d=ht({name:"VisuallyHidden",classes:T8,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a});return x.jsx(Oe,{component:"span",ref:t,...d("root"),...f})});Bw.classes=T8;Bw.displayName="@mantine/core/VisuallyHidden";var R8={root:"m_1b7284a3"};const ZM={},JM=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Hn(t),"--paper-shadow":gw(n)}}),_n=fo((e,t)=>{const n=Ne("Paper",ZM,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,withBorder:c,vars:f,radius:d,shadow:h,variant:p,mod:g,...w}=n,S=ht({name:"Paper",props:n,classes:R8,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:f,varsResolver:JM});return x.jsx(Oe,{ref:t,mod:[{"data-with-border":c},g],...S("root"),variant:p,...w})});_n.classes=R8;_n.displayName="@mantine/core/Paper";function N8(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}function l_(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function c_(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const eI={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function tI({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:i,arrowY:s,dir:a}){const[c,f="center"]=e.split("-"),d={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[eI[c]]:r},h=-t/2;return c==="left"?{...d,...l_(f,s,n,o),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:c==="right"?{...d,...l_(f,s,n,o),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:c==="top"?{...d,...c_(f,i,n,o,a),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:c==="bottom"?{...d,...c_(f,i,n,o,a),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const $w=N.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:i,arrowX:s,arrowY:a,style:c,...f},d)=>{const{dir:h}=ld();return i?x.jsx("div",{...f,ref:d,style:{...c,...tI({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:h,arrowX:s,arrowY:a})}}):null});$w.displayName="@mantine/core/FloatingArrow";var A8={root:"m_9814e45f"};const nI={zIndex:Vi("modal")},rI=(e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:i,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&cs(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${_e(o)})`:void 0,"--overlay-radius":i===void 0?void 0:Hn(i),"--overlay-z-index":s==null?void 0:s.toString()}}),Lg=fo((e,t)=>{const n=Ne("Overlay",nI,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,fixed:f,center:d,children:h,radius:p,zIndex:g,gradient:w,blur:S,color:C,backgroundOpacity:k,mod:P,...y}=n,E=ht({name:"Overlay",props:n,classes:A8,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:rI});return x.jsx(Oe,{ref:t,...E("root"),mod:[{center:d,fixed:f},P],...y,children:h})});Lg.classes=A8;Lg.displayName="@mantine/core/Overlay";function wy(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function oI({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||wy(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const o=wy(n);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return wy(n)}const iI={},M8=Ye((e,t)=>{const{children:n,target:r,reuseTargetNode:o,...i}=Ne("Portal",iI,e),[s,a]=N.useState(!1),c=N.useRef(null);return xc(()=>(a(!0),c.current=oI({target:r,reuseTargetNode:o,...i}),nh(t,c.current),!r&&!o&&c.current&&document.body.appendChild(c.current),()=>{!r&&!o&&c.current&&document.body.removeChild(c.current)}),[r]),!s||!c.current?null:Cg.createPortal(x.jsx(x.Fragment,{children:n}),c.current)});M8.displayName="@mantine/core/Portal";const Sc=Ye(({withinPortal:e=!0,children:t,...n},r)=>BC()==="test"||!e?x.jsx(x.Fragment,{children:t}):x.jsx(M8,{ref:r,...n,children:t}));Sc.displayName="@mantine/core/OptionalPortal";const lf=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Fp={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...lf("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...lf("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...lf("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...lf("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...lf("top"),common:{transformOrigin:"top right"}}},u_={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function sI({transition:e,state:t,duration:n,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Fp?{transitionProperty:Fp[e].transitionProperty,...o,...Fp[e].common,...Fp[e][u_[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[u_[t]]}}function aI({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:i,onEntered:s,onExited:a,enterDelay:c,exitDelay:f}){const d=Xr(),h=yw(),p=d.respectReducedMotion?h:!1,[g,w]=N.useState(p?0:e),[S,C]=N.useState(r?"entered":"exited"),k=N.useRef(-1),P=N.useRef(-1),y=N.useRef(-1);function E(){window.clearTimeout(k.current),window.clearTimeout(P.current),cancelAnimationFrame(y.current)}const M=z=>{E();const O=z?o:i,V=z?s:a,B=p?0:z?e:t;w(B),B===0?(typeof O=="function"&&O(),typeof V=="function"&&V(),C(z?"entered":"exited")):y.current=requestAnimationFrame(()=>{wf.flushSync(()=>{C(z?"pre-entering":"pre-exiting")}),y.current=requestAnimationFrame(()=>{typeof O=="function"&&O(),C(z?"entering":"exiting"),k.current=window.setTimeout(()=>{typeof V=="function"&&V(),C(z?"entered":"exited")},B)})})},A=z=>{if(E(),typeof(z?c:f)!="number"){M(z);return}P.current=window.setTimeout(()=>{M(z)},z?c:f)};return Ko(()=>{A(r)},[r]),N.useEffect(()=>()=>{E()},[]),{transitionDuration:g,transitionStatus:S,transitionTimingFunction:n||"ease"}}function vl({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:i,timingFunction:s="ease",onExit:a,onEntered:c,onEnter:f,onExited:d,enterDelay:h,exitDelay:p}){const g=BC(),{transitionDuration:w,transitionStatus:S,transitionTimingFunction:C}=aI({mounted:o,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:c,onEnter:f,onExited:d,enterDelay:h,exitDelay:p});return w===0||g==="test"?o?x.jsx(x.Fragment,{children:i({})}):e?i({display:"none"}):null:S==="exited"?e?i({display:"none"}):null:x.jsx(x.Fragment,{children:i(sI({transition:t,duration:w,state:S,timingFunction:C}))})}vl.displayName="@mantine/core/Transition";const[lI,I8]=xs("Popover component was not found in the tree");function Fg({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=IR(t),i=Fn(o,r);return ml(e)?N.cloneElement(e,{[n]:i}):e}function D8(e){return x.jsx(Bw,{tabIndex:-1,"data-autofocus":!0,...e})}Fg.displayName="@mantine/core/FocusTrap";D8.displayName="@mantine/core/FocusTrapInitialFocus";Fg.InitialFocus=D8;var O8={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const cI={},Uw=Ye((e,t)=>{var C,k,P,y;const n=Ne("PopoverDropdown",cI,e),{className:r,style:o,vars:i,children:s,onKeyDownCapture:a,variant:c,classNames:f,styles:d,...h}=n,p=I8(),g=NC({opened:p.opened,shouldReturnFocus:p.returnFocus}),w=p.withRoles?{"aria-labelledby":p.getTargetId(),id:p.getDropdownId(),role:"dialog",tabIndex:-1}:{},S=Fn(t,p.floating);return p.disabled?null:x.jsx(Sc,{...p.portalProps,withinPortal:p.withinPortal,children:x.jsx(vl,{mounted:p.opened,...p.transitionProps,transition:((C=p.transitionProps)==null?void 0:C.transition)||"fade",duration:((k=p.transitionProps)==null?void 0:k.duration)??150,keepMounted:p.keepMounted,exitDuration:typeof((P=p.transitionProps)==null?void 0:P.exitDuration)=="number"?p.transitionProps.exitDuration:(y=p.transitionProps)==null?void 0:y.duration,children:E=>x.jsx(Fg,{active:p.trapFocus&&p.opened,innerRef:S,children:x.jsxs(Oe,{...w,...h,variant:c,onKeyDownCapture:yR(()=>{var M,A;(M=p.onClose)==null||M.call(p),(A=p.onDismiss)==null||A.call(p)},{active:p.closeOnEscape,onTrigger:g,onKeyDown:a}),"data-position":p.placement,"data-fixed":p.floatingStrategy==="fixed"||void 0,...p.getStyles("dropdown",{className:r,props:n,classNames:f,styles:d,style:[{...E,zIndex:p.zIndex,top:p.y??0,left:p.x??0,width:p.width==="target"?void 0:_e(p.width)},p.resolvedStyles.dropdown,d==null?void 0:d.dropdown,o]}),children:[s,x.jsx($w,{ref:p.arrowRef,arrowX:p.arrowX,arrowY:p.arrowY,visible:p.withArrow,position:p.placement,arrowSize:p.arrowSize,arrowRadius:p.arrowRadius,arrowOffset:p.arrowOffset,arrowPosition:p.arrowPosition,...p.getStyles("arrow",{props:n,classNames:f,styles:d})})]})})})})});Uw.classes=O8;Uw.displayName="@mantine/core/PopoverDropdown";const uI={refProp:"ref",popupType:"dialog"},j8=Ye((e,t)=>{const{children:n,refProp:r,popupType:o,...i}=Ne("PopoverTarget",uI,e);if(!ml(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,a=I8(),c=Fn(a.reference,Pg(n),t),f=a.withRoles?{"aria-haspopup":o,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return N.cloneElement(n,{...s,...f,...a.targetProps,className:mr(a.targetProps.className,s.className,n.props.className),[r]:c,...a.controlled?null:{onClick:a.onToggle}})});j8.displayName="@mantine/core/PopoverTarget";function L8({opened:e,floating:t,position:n,positionDependencies:r}){const[o,i]=N.useState(0);N.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return iM(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),Ko(()=>{t.update()},r),Ko(()=>{i(s=>s+1)},[e])}function dI(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function fI(e,t){const n=dI(e.middlewares),r=[u8(e.offset)];return n.shift&&r.push(Mw(typeof n.shift=="boolean"?{limiter:e_(),padding:5}:{limiter:e_(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?Xm():Xm(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?Lf():Lf(n.inline)),r.push(d8({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(vM({...typeof n.size=="boolean"?{}:n.size,apply({rects:o,availableWidth:i,availableHeight:s,...a}){var d;const f=((d=t().refs.floating.current)==null?void 0:d.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:o,availableWidth:i,availableHeight:s,...a}):Object.assign(f,{maxWidth:`${i}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(f,{width:`${o.reference.width}px`})}})),r}function hI(e){const[t,n]=qr({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=N.useRef(t),o=()=>{t&&!e.disabled&&n(!1)},i=()=>!e.disabled&&n(!t),s=jw({strategy:e.strategy,placement:e.position,middleware:fI(e,()=>s)});return L8({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),Ko(()=>{var a;(a=e.onPositionChange)==null||a.call(e,s.placement)},[s.placement]),Ko(()=>{var a,c;t!==r.current&&(t?(c=e.onOpen)==null||c.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:o,onToggle:i}}const pI={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Vi("popover"),__staticSelector:"Popover",width:"max-content"},mI=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Hn(t),"--popover-shadow":gw(n)}});function Dn(e){var at,kt,tn,En,At,Wt;const t=Ne("Popover",pI,e),{children:n,position:r,offset:o,onPositionChange:i,positionDependencies:s,opened:a,transitionProps:c,onExitTransitionEnd:f,onEnterTransitionEnd:d,width:h,middlewares:p,withArrow:g,arrowSize:w,arrowOffset:S,arrowRadius:C,arrowPosition:k,unstyled:P,classNames:y,styles:E,closeOnClickOutside:M,withinPortal:A,portalProps:z,closeOnEscape:O,clickOutsideEvents:V,trapFocus:B,onClose:U,onDismiss:F,onOpen:K,onChange:ne,zIndex:G,radius:X,shadow:Y,id:$,defaultOpened:q,__staticSelector:J,withRoles:ie,disabled:te,returnFocus:de,variant:He,keepMounted:Te,vars:Ee,floatingStrategy:Q,withOverlay:we,overlayProps:ve,...Re}=t,ke=ht({name:J,props:t,classes:O8,classNames:y,styles:E,unstyled:P,rootSelector:"dropdown",vars:Ee,varsResolver:mI}),{resolvedStyles:Ae}=bc({classNames:y,styles:E,props:t}),Me=N.useRef(null),[Ze,Qe]=N.useState(null),[cn,je]=N.useState(null),{dir:qe}=ld(),ot=Hi($),lt=hI({middlewares:p,width:h,position:N8(qe,r),offset:typeof o=="number"?o+(g?w/2:0):o,arrowRef:Me,arrowOffset:S,onPositionChange:i,positionDependencies:s,opened:a,defaultOpened:q,onChange:ne,onOpen:K,onClose:U,onDismiss:F,strategy:Q,disabled:te});_R(()=>{M&&(lt.onClose(),F==null||F())},V,[Ze,cn]);const ft=N.useCallback(qt=>{Qe(qt),lt.floating.refs.setReference(qt)},[lt.floating.refs.setReference]),Ct=N.useCallback(qt=>{je(qt),lt.floating.refs.setFloating(qt)},[lt.floating.refs.setFloating]),xt=N.useCallback(()=>{var qt;(qt=c==null?void 0:c.onExited)==null||qt.call(c),f==null||f()},[c==null?void 0:c.onExited,f]),Be=N.useCallback(()=>{var qt;(qt=c==null?void 0:c.onEntered)==null||qt.call(c),d==null||d()},[c==null?void 0:c.onEntered,d]);return x.jsxs(lI,{value:{returnFocus:de,disabled:te,controlled:lt.controlled,reference:ft,floating:Ct,x:lt.floating.x,y:lt.floating.y,arrowX:(tn=(kt=(at=lt.floating)==null?void 0:at.middlewareData)==null?void 0:kt.arrow)==null?void 0:tn.x,arrowY:(Wt=(At=(En=lt.floating)==null?void 0:En.middlewareData)==null?void 0:At.arrow)==null?void 0:Wt.y,opened:lt.opened,arrowRef:Me,transitionProps:{...c,onExited:xt,onEntered:Be},width:h,withArrow:g,arrowSize:w,arrowOffset:S,arrowRadius:C,arrowPosition:k,placement:lt.floating.placement,trapFocus:B,withinPortal:A,portalProps:z,zIndex:G,radius:X,shadow:Y,closeOnEscape:O,onDismiss:F,onClose:lt.onClose,onToggle:lt.onToggle,getTargetId:()=>`${ot}-target`,getDropdownId:()=>`${ot}-dropdown`,withRoles:ie,targetProps:Re,__staticSelector:J,classNames:y,styles:E,unstyled:P,variant:He,keepMounted:Te,getStyles:ke,resolvedStyles:Ae,floatingStrategy:Q},children:[n,we&&x.jsx(vl,{transition:"fade",mounted:lt.opened,duration:(c==null?void 0:c.duration)||250,exitDuration:(c==null?void 0:c.exitDuration)||250,children:qt=>x.jsx(Sc,{withinPortal:A,children:x.jsx(Lg,{...ve,...ke("overlay",{className:ve==null?void 0:ve.className,style:[qt,ve==null?void 0:ve.style]})})})})]})}Dn.Target=j8;Dn.Dropdown=Uw;Dn.displayName="@mantine/core/Popover";Dn.extend=e=>e;var Oi={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const F8=N.forwardRef(({className:e,...t},n)=>x.jsxs(Oe,{component:"span",className:mr(Oi.barsLoader,e),...t,ref:n,children:[x.jsx("span",{className:Oi.bar}),x.jsx("span",{className:Oi.bar}),x.jsx("span",{className:Oi.bar})]}));F8.displayName="@mantine/core/Bars";const z8=N.forwardRef(({className:e,...t},n)=>x.jsxs(Oe,{component:"span",className:mr(Oi.dotsLoader,e),...t,ref:n,children:[x.jsx("span",{className:Oi.dot}),x.jsx("span",{className:Oi.dot}),x.jsx("span",{className:Oi.dot})]}));z8.displayName="@mantine/core/Dots";const B8=N.forwardRef(({className:e,...t},n)=>x.jsx(Oe,{component:"span",className:mr(Oi.ovalLoader,e),...t,ref:n}));B8.displayName="@mantine/core/Oval";const $8={bars:F8,oval:B8,dots:z8},gI={loaders:$8,type:"oval"},vI=(e,{size:t,color:n})=>({root:{"--loader-size":_t(t,"loader-size"),"--loader-color":n?gr(n,e):void 0}}),dd=Ye((e,t)=>{const n=Ne("Loader",gI,e),{size:r,color:o,type:i,vars:s,className:a,style:c,classNames:f,styles:d,unstyled:h,loaders:p,variant:g,children:w,...S}=n,C=ht({name:"Loader",props:n,classes:Oi,className:a,style:c,classNames:f,styles:d,unstyled:h,vars:s,varsResolver:vI});return w?x.jsx(Oe,{...C("root"),ref:t,...S,children:w}):x.jsx(Oe,{...C("root"),ref:t,component:p[i],variant:g,size:r,...S})});dd.defaultLoaders=$8;dd.classes=Oi;dd.displayName="@mantine/core/Loader";var fd={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const d_={orientation:"horizontal"},yI=(e,{borderWidth:t})=>({group:{"--ai-border-width":_e(t)}}),Gw=Ye((e,t)=>{const n=Ne("ActionIconGroup",d_,e),{className:r,style:o,classNames:i,styles:s,unstyled:a,orientation:c,vars:f,borderWidth:d,variant:h,mod:p,...g}=Ne("ActionIconGroup",d_,e),w=ht({name:"ActionIconGroup",props:n,classes:fd,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:f,varsResolver:yI,rootSelector:"group"});return x.jsx(Oe,{...w("group"),ref:t,variant:h,mod:[{"data-orientation":c},p],role:"group",...g})});Gw.classes=fd;Gw.displayName="@mantine/core/ActionIconGroup";const f_={},wI=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":_t(s,"section-height"),"--section-padding-x":_t(s,"section-padding-x"),"--section-fz":Mr(s),"--section-radius":t===void 0?void 0:Hn(t),"--section-bg":n||o?a.background:void 0,"--section-color":a.color,"--section-bd":n||o?a.border:void 0}}},Vw=Ye((e,t)=>{const n=Ne("ActionIconGroupSection",f_,e),{className:r,style:o,classNames:i,styles:s,unstyled:a,vars:c,variant:f,gradient:d,radius:h,autoContrast:p,...g}=Ne("ActionIconGroupSection",f_,e),w=ht({name:"ActionIconGroupSection",props:n,classes:fd,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:c,varsResolver:wI,rootSelector:"groupSection"});return x.jsx(Oe,{...w("groupSection"),ref:t,variant:f,...g})});Vw.classes=fd;Vw.displayName="@mantine/core/ActionIconGroupSection";const xI={},bI=(e,{size:t,radius:n,variant:r,gradient:o,color:i,autoContrast:s})=>{const a=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":_t(t,"ai-size"),"--ai-radius":n===void 0?void 0:Hn(n),"--ai-bg":i||r?a.background:void 0,"--ai-hover":i||r?a.hover:void 0,"--ai-hover-color":i||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||r?a.border:void 0}}},an=fo((e,t)=>{const n=Ne("ActionIcon",xI,e),{className:r,unstyled:o,variant:i,classNames:s,styles:a,style:c,loading:f,loaderProps:d,size:h,color:p,radius:g,__staticSelector:w,gradient:S,vars:C,children:k,disabled:P,"data-disabled":y,autoContrast:E,mod:M,...A}=n,z=ht({name:["ActionIcon",w],props:n,className:r,style:c,classes:fd,classNames:s,styles:a,unstyled:o,vars:C,varsResolver:bI});return x.jsxs(ws,{...z("root",{active:!P&&!f&&!y}),...A,unstyled:o,variant:i,size:h,disabled:P||f,ref:t,mod:[{loading:f,disabled:P||y},M],children:[x.jsx(vl,{mounted:!!f,transition:"slide-down",duration:150,children:O=>x.jsx(Oe,{component:"span",...z("loader",{style:O}),"aria-hidden":!0,children:x.jsx(dd,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...d})})}),x.jsx(Oe,{component:"span",mod:{loading:f},...z("icon"),children:k})]})});an.classes=fd;an.displayName="@mantine/core/ActionIcon";an.Group=Gw;an.GroupSection=Vw;const U8=N.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:x.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));U8.displayName="@mantine/core/CloseIcon";var G8={root:"m_86a44da5","root--subtle":"m_220c80f2"};const SI={variant:"subtle"},_I=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":_t(t,"cb-size"),"--cb-radius":n===void 0?void 0:Hn(n),"--cb-icon-size":_e(r)}}),hd=fo((e,t)=>{const n=Ne("CloseButton",SI,e),{iconSize:r,children:o,vars:i,radius:s,className:a,classNames:c,style:f,styles:d,unstyled:h,"data-disabled":p,disabled:g,variant:w,icon:S,mod:C,__staticSelector:k,...P}=n,y=ht({name:k||"CloseButton",props:n,className:a,style:f,classes:G8,classNames:c,styles:d,unstyled:h,vars:i,varsResolver:_I});return x.jsxs(ws,{ref:t,...P,unstyled:h,variant:w,disabled:g,mod:[{disabled:g||p},C],...y("root",{variant:w,active:!g&&!p}),children:[S||x.jsx(U8,{}),o]})});hd.classes=G8;hd.displayName="@mantine/core/CloseButton";function CI(e){return N.Children.toArray(e).filter(Boolean)}var V8={root:"m_4081bf90"};const kI={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},EI=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:i,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":ao(r),"--group-align":o,"--group-justify":i,"--group-wrap":s}}),vt=Ye((e,t)=>{const n=Ne("Group",kI,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,children:c,gap:f,align:d,justify:h,wrap:p,grow:g,preventGrowOverflow:w,vars:S,variant:C,__size:k,mod:P,...y}=n,E=CI(c),M=E.length,A=ao(f??"md"),O={childWidth:`calc(${100/M}% - (${A} - ${A} / ${M}))`},V=ht({name:"Group",props:n,stylesCtx:O,className:o,style:i,classes:V8,classNames:r,styles:s,unstyled:a,vars:S,varsResolver:EI});return x.jsx(Oe,{...V("root"),ref:t,variant:C,mod:[{grow:g},P],size:k,...y,children:E})});vt.classes=V8;vt.displayName="@mantine/core/Group";const[PI,la]=xs("ModalBase component was not found in tree");function TI({opened:e,transitionDuration:t}){const[n,r]=N.useState(e),o=N.useRef(-1),s=yw()?0:t;return N.useEffect(()=>(e?(r(!0),window.clearTimeout(o.current)):s===0?r(!1):o.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(o.current)),[e,s]),n}function RI({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:o,onClose:i,returnFocus:s}){const a=Hi(e),[c,f]=N.useState(!1),[d,h]=N.useState(!1),p=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,g=TI({opened:n,transitionDuration:p});return DC("keydown",w=>{var S;w.key==="Escape"&&o&&!w.isComposing&&n&&((S=w.target)==null?void 0:S.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),NC({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:c,bodyMounted:d,shouldLockScroll:g,setTitleMounted:f,setBodyMounted:h}}const H8=N.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:o,onExitTransitionEnd:i,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:c,returnFocus:f,closeOnClickOutside:d,withinPortal:h,portalProps:p,lockScroll:g,children:w,zIndex:S,shadow:C,padding:k,__vars:P,unstyled:y,removeScrollProps:E,...M},A)=>{const{_id:z,titleMounted:O,bodyMounted:V,shouldLockScroll:B,setTitleMounted:U,setBodyMounted:F}=RI({id:r,transitionProps:o,opened:t,trapFocus:a,closeOnEscape:c,onClose:n,returnFocus:f}),{key:K,...ne}=E||{};return x.jsx(Sc,{...p,withinPortal:h,children:x.jsx(PI,{value:{opened:t,onClose:n,closeOnClickOutside:d,onExitTransitionEnd:i,onEnterTransitionEnd:s,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${z}-title`,getBodyId:()=>`${z}-body`,titleMounted:O,bodyMounted:V,setTitleMounted:U,setBodyMounted:F,trapFocus:a,closeOnEscape:c,zIndex:S,unstyled:y},children:x.jsx(qu,{enabled:B&&g,...ne,children:x.jsx(Oe,{ref:A,...M,__vars:{...P,"--mb-z-index":(S||Vi("modal")).toString(),"--mb-shadow":gw(C),"--mb-padding":ao(k)},children:w})},K)})})});H8.displayName="@mantine/core/ModalBase";function NI(){const e=la();return N.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Zu={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const W8=N.forwardRef(({className:e,...t},n)=>{const r=NI(),o=la();return x.jsx(Oe,{ref:n,...t,id:r,className:mr({[Zu.body]:!o.unstyled},e)})});W8.displayName="@mantine/core/ModalBaseBody";const K8=N.forwardRef(({className:e,onClick:t,...n},r)=>{const o=la();return x.jsx(hd,{ref:r,...n,onClick:i=>{o.onClose(),t==null||t(i)},className:mr({[Zu.close]:!o.unstyled},e),unstyled:o.unstyled})});K8.displayName="@mantine/core/ModalBaseCloseButton";const Y8=N.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:o,...i},s)=>{const a=la();return x.jsx(vl,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var c,f,d;(c=a.onExitTransitionEnd)==null||c.call(a),(d=(f=a.transitionProps)==null?void 0:f.onExited)==null||d.call(f)},onEntered:()=>{var c,f,d;(c=a.onEnterTransitionEnd)==null||c.call(a),(d=(f=a.transitionProps)==null?void 0:f.onEntered)==null||d.call(f)},...e,children:c=>x.jsx("div",{...n,className:mr({[Zu.inner]:!a.unstyled},n.className),children:x.jsx(Fg,{active:a.opened&&a.trapFocus,innerRef:s,children:x.jsx(_n,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[o,c],className:mr({[Zu.content]:!a.unstyled},t),unstyled:a.unstyled,children:i.children})})})})});Y8.displayName="@mantine/core/ModalBaseContent";const q8=N.forwardRef(({className:e,...t},n)=>{const r=la();return x.jsx(Oe,{component:"header",ref:n,className:mr({[Zu.header]:!r.unstyled},e),...t})});q8.displayName="@mantine/core/ModalBaseHeader";const AI={duration:200,timingFunction:"ease",transition:"fade"};function MI(e){const t=la();return{...AI,...t.transitionProps,...e}}const X8=N.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...o},i)=>{const s=la(),a=MI(t);return x.jsx(vl,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:c=>x.jsx(Lg,{ref:i,fixed:!0,style:[n,c],zIndex:s.zIndex,unstyled:s.unstyled,onClick:f=>{e==null||e(f),s.closeOnClickOutside&&s.onClose()},...o})})});X8.displayName="@mantine/core/ModalBaseOverlay";function II(){const e=la();return N.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Q8=N.forwardRef(({className:e,...t},n)=>{const r=II(),o=la();return x.jsx(Oe,{component:"h2",ref:n,className:mr({[Zu.title]:!o.unstyled},e),...t,id:r})});Q8.displayName="@mantine/core/ModalBaseTitle";function DI({children:e}){return x.jsx(x.Fragment,{children:e})}const[OI,jI]=wc({size:"sm"}),LI={},Z8=Ye((e,t)=>{const n=Ne("InputClearButton",LI,e),{size:r,variant:o,vars:i,classNames:s,styles:a,...c}=n,f=jI(),{resolvedClassNames:d,resolvedStyles:h}=bc({classNames:s,styles:a,props:n});return x.jsx(hd,{variant:o||"transparent",ref:t,size:r||(f==null?void 0:f.size)||"sm",classNames:d,styles:h,__staticSelector:"InputClearButton",...c})});Z8.displayName="@mantine/core/InputClearButton";const[FI,pd]=wc({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var vi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const h_={},zI=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Mr(t)} - ${_e(2)})`}}),zg=Ye((e,t)=>{const n=Ne("InputDescription",h_,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,size:f,__staticSelector:d,__inheritStyles:h=!0,variant:p,...g}=Ne("InputDescription",h_,n),w=pd(),S=ht({name:["InputWrapper",d],props:n,classes:vi,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:c,varsResolver:zI}),C=h&&(w==null?void 0:w.getStyles)||S;return x.jsx(Oe,{component:"p",ref:t,variant:p,size:f,...C("description",w!=null&&w.getStyles?{className:o,style:i}:void 0),...g})});zg.classes=vi;zg.displayName="@mantine/core/InputDescription";const BI={},$I=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Mr(t)} - ${_e(2)})`}}),Bg=Ye((e,t)=>{const n=Ne("InputError",BI,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,size:f,__staticSelector:d,__inheritStyles:h=!0,variant:p,...g}=n,w=ht({name:["InputWrapper",d],props:n,classes:vi,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:c,varsResolver:$I}),S=pd(),C=h&&(S==null?void 0:S.getStyles)||w;return x.jsx(Oe,{component:"p",ref:t,variant:p,size:f,...C("error",S!=null&&S.getStyles?{className:o,style:i}:void 0),...g})});Bg.classes=vi;Bg.displayName="@mantine/core/InputError";const p_={labelElement:"label"},UI=(e,{size:t})=>({label:{"--input-label-size":Mr(t),"--input-asterisk-color":void 0}}),$g=Ye((e,t)=>{const n=Ne("InputLabel",p_,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,labelElement:f,size:d,required:h,htmlFor:p,onMouseDown:g,children:w,__staticSelector:S,variant:C,mod:k,...P}=Ne("InputLabel",p_,n),y=ht({name:["InputWrapper",S],props:n,classes:vi,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:c,varsResolver:UI}),E=pd(),M=(E==null?void 0:E.getStyles)||y;return x.jsxs(Oe,{...M("label",E!=null&&E.getStyles?{className:o,style:i}:void 0),component:f,variant:C,size:d,ref:t,htmlFor:f==="label"?p:void 0,mod:[{required:h},k],onMouseDown:A=>{g==null||g(A),!A.defaultPrevented&&A.detail>1&&A.preventDefault()},...P,children:[w,h&&x.jsx("span",{...M("required"),"aria-hidden":!0,children:" *"})]})});$g.classes=vi;$g.displayName="@mantine/core/InputLabel";const m_={},Hw=Ye((e,t)=>{const n=Ne("InputPlaceholder",m_,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,__staticSelector:f,variant:d,error:h,mod:p,...g}=Ne("InputPlaceholder",m_,n),w=ht({name:["InputPlaceholder",f],props:n,classes:vi,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return x.jsx(Oe,{...w("placeholder"),mod:[{error:!!h},p],component:"span",variant:d,ref:t,...g})});Hw.classes=vi;Hw.displayName="@mantine/core/InputPlaceholder";function GI(e,{hasDescription:t,hasError:n}){const r=e.findIndex(c=>c==="input"),o=e.slice(0,r),i=e.slice(r+1),s=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:s}}const VI={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},HI=(e,{size:t})=>({label:{"--input-label-size":Mr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Mr(t)} - ${_e(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Mr(t)} - ${_e(2)})`}}),Ww=Ye((e,t)=>{const n=Ne("InputWrapper",VI,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,size:f,variant:d,__staticSelector:h,inputContainer:p,inputWrapperOrder:g,label:w,error:S,description:C,labelProps:k,descriptionProps:P,errorProps:y,labelElement:E,children:M,withAsterisk:A,id:z,required:O,__stylesApiProps:V,mod:B,...U}=n,F=ht({name:["InputWrapper",h],props:V||n,classes:vi,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:HI}),K={size:f,variant:d,__staticSelector:h},ne=Hi(z),G=typeof A=="boolean"?A:O,X=(y==null?void 0:y.id)||`${ne}-error`,Y=(P==null?void 0:P.id)||`${ne}-description`,$=ne,q=!!S&&typeof S!="boolean",J=!!C,ie=`${q?X:""} ${J?Y:""}`,te=ie.trim().length>0?ie.trim():void 0,de=(k==null?void 0:k.id)||`${ne}-label`,He=w&&x.jsx($g,{labelElement:E,id:de,htmlFor:$,required:G,...K,...k,children:w},"label"),Te=J&&x.jsx(zg,{...P,...K,size:(P==null?void 0:P.size)||K.size,id:(P==null?void 0:P.id)||Y,children:C},"description"),Ee=x.jsx(N.Fragment,{children:p(M)},"input"),Q=q&&N.createElement(Bg,{...y,...K,size:(y==null?void 0:y.size)||K.size,key:"error",id:(y==null?void 0:y.id)||X},S),we=g.map(ve=>{switch(ve){case"label":return He;case"input":return Ee;case"description":return Te;case"error":return Q;default:return null}});return x.jsx(FI,{value:{getStyles:F,describedBy:te,inputId:$,labelId:de,...GI(g,{hasDescription:J,hasError:q})},children:x.jsx(Oe,{ref:t,variant:d,size:f,mod:[{error:!!S},B],...F("root"),...U,children:we})})});Ww.classes=vi;Ww.displayName="@mantine/core/InputWrapper";const WI={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},KI=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":_t(t.size,"input-height"),"--input-fz":Mr(t.size),"--input-radius":t.radius===void 0?void 0:Hn(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?_e(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?_e(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?_t(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Vn=fo((e,t)=>{const n=Ne("Input",WI,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,required:c,__staticSelector:f,__stylesApiProps:d,size:h,wrapperProps:p,error:g,disabled:w,leftSection:S,leftSectionProps:C,leftSectionWidth:k,rightSection:P,rightSectionProps:y,rightSectionWidth:E,rightSectionPointerEvents:M,leftSectionPointerEvents:A,variant:z,vars:O,pointer:V,multiline:B,radius:U,id:F,withAria:K,withErrorStyles:ne,mod:G,inputSize:X,__clearSection:Y,__clearable:$,__defaultRightSection:q,...J}=n,{styleProps:ie,rest:te}=ad(J),de=pd(),He={offsetBottom:de==null?void 0:de.offsetBottom,offsetTop:de==null?void 0:de.offsetTop},Te=ht({name:["Input",f],props:d||n,classes:vi,className:o,style:i,classNames:r,styles:s,unstyled:a,stylesCtx:He,rootSelector:"wrapper",vars:O,varsResolver:KI}),Ee=K?{required:c,disabled:w,"aria-invalid":!!g,"aria-describedby":de==null?void 0:de.describedBy,id:(de==null?void 0:de.inputId)||F}:{},Q=P||$&&Y||q;return x.jsx(OI,{value:{size:h||"sm"},children:x.jsxs(Oe,{...Te("wrapper"),...ie,...p,mod:[{error:!!g&&ne,pointer:V,disabled:w,multiline:B,"data-with-right-section":!!Q,"data-with-left-section":!!S},G],variant:z,size:h,children:[S&&x.jsx("div",{...C,"data-position":"left",...Te("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:S}),x.jsx(Oe,{component:"input",...te,...Ee,ref:t,required:c,mod:{disabled:w,error:!!g&&ne},variant:z,__size:X,...Te("input")}),Q&&x.jsx("div",{...y,"data-position":"right",...Te("section",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),children:Q})]})})});Vn.classes=vi;Vn.Wrapper=Ww;Vn.Label=$g;Vn.Error=Bg;Vn.Description=zg;Vn.Placeholder=Hw;Vn.ClearButton=Z8;Vn.displayName="@mantine/core/Input";function J8(e,t,n){const r=Ne(e,t,n),{label:o,description:i,error:s,required:a,classNames:c,styles:f,className:d,unstyled:h,__staticSelector:p,__stylesApiProps:g,errorProps:w,labelProps:S,descriptionProps:C,wrapperProps:k,id:P,size:y,style:E,inputContainer:M,inputWrapperOrder:A,withAsterisk:z,variant:O,vars:V,mod:B,...U}=r,{styleProps:F,rest:K}=ad(U),ne={label:o,description:i,error:s,required:a,classNames:c,className:d,__staticSelector:p,__stylesApiProps:g||r,errorProps:w,labelProps:S,descriptionProps:C,unstyled:h,styles:f,size:y,style:E,inputContainer:M,inputWrapperOrder:A,withAsterisk:z,variant:O,id:P,mod:B,...k};return{...K,classNames:c,styles:f,unstyled:h,wrapperProps:{...ne,...F},inputProps:{required:a,classNames:c,styles:f,unstyled:h,size:y,__staticSelector:p,__stylesApiProps:g||r,error:s,variant:O,id:P}}}const YI={__staticSelector:"InputBase",withAria:!0},Qo=fo((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=J8("InputBase",YI,e);return x.jsx(Vn.Wrapper,{...r,children:x.jsx(Vn,{...n,...o,ref:t})})});Qo.classes={...Vn.classes,...Vn.Wrapper.classes};Qo.displayName="@mantine/core/InputBase";function qI(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function XI({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const o=N.useRef(-1),[i,s]=N.useState(!1),[a,c]=N.useState(typeof r=="boolean"?r:!1),f=()=>{if(!e||!t||!n.current)return;const g=e.getBoundingClientRect(),w=t.getBoundingClientRect(),S=window.getComputedStyle(e),C=window.getComputedStyle(t),k=Qa(S.borderTopWidth)+Qa(C.borderTopWidth),P=Qa(S.borderLeftWidth)+Qa(C.borderLeftWidth),y={top:g.top-w.top-k,left:g.left-w.left-P,width:g.width,height:g.height};n.current.style.transform=`translateY(${y.top}px) translateX(${y.left}px)`,n.current.style.width=`${y.width}px`,n.current.style.height=`${y.height}px`},d=()=>{window.clearTimeout(o.current),n.current&&(n.current.style.transitionDuration="0ms"),f(),o.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=N.useRef(null),p=N.useRef(null);return N.useEffect(()=>{if(f(),e)return h.current=new ResizeObserver(d),h.current.observe(e),t&&(p.current=new ResizeObserver(d),p.current.observe(t)),()=>{var g,w;(g=h.current)==null||g.disconnect(),(w=p.current)==null||w.disconnect()}},[t,e]),N.useEffect(()=>{if(t){const g=w=>{qI(w.target,t)&&(d(),c(!1))};return t.addEventListener("transitionend",g),()=>{t.removeEventListener("transitionend",g)}}},[t]),UR(()=>{LC()!=="test"&&s(!0)},20,{autoInvoke:!0}),WR(g=>{g.forEach(w=>{w.type==="attributes"&&w.attributeName==="dir"&&d()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:a}}var e9={root:"m_96b553a6"};const QI={},ZI=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),Kw=Ye((e,t)=>{const n=Ne("FloatingIndicator",QI,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,target:f,parent:d,transitionDuration:h,mod:p,displayAfterTransitionEnd:g,...w}=n,S=ht({name:"FloatingIndicator",classes:e9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:ZI}),C=N.useRef(null),{initialized:k,hidden:P}=XI({target:f,parent:d,ref:C,displayAfterTransitionEnd:g}),y=Fn(t,C);return!f||!d?null:x.jsx(Oe,{ref:y,mod:[{initialized:k,hidden:P},p],...S("root"),...w})});Kw.displayName="@mantine/core/FloatingIndicator";Kw.classes=e9;var t9={root:"m_b6d8b162"};function JI(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const eD={inherit:!1},tD=(e,{variant:t,lineClamp:n,gradient:r,size:o,color:i})=>({root:{"--text-fz":Mr(o),"--text-lh":wR(o),"--text-gradient":t==="gradient"?z1(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?gr(i,e):void 0}}),mt=fo((e,t)=>{const n=Ne("Text",eD,e),{lineClamp:r,truncate:o,inline:i,inherit:s,gradient:a,span:c,__staticSelector:f,vars:d,className:h,style:p,classNames:g,styles:w,unstyled:S,variant:C,mod:k,size:P,...y}=n,E=ht({name:["Text",f],props:n,classes:t9,className:h,style:p,classNames:g,styles:w,unstyled:S,vars:d,varsResolver:tD});return x.jsx(Oe,{...E("root",{focusable:!0}),ref:t,component:c?"span":"p",variant:C,mod:[{"data-truncate":JI(o),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":s},k],size:P,...y})});mt.classes=t9;mt.displayName="@mantine/core/Text";const[nD,md]=xs("AppShell was not found in tree");var yl={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const rD={},Yw=Ye((e,t)=>{const n=Ne("AppShellAside",rD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,withBorder:f,zIndex:d,mod:h,...p}=n,g=md();return g.disabled?null:x.jsx(Oe,{component:"aside",ref:t,mod:[{"with-border":f??g.withBorder},h],...g.getStyles("aside",{className:o,classNames:r,styles:s,style:i}),...p,__vars:{"--app-shell-aside-z-index":`calc(${d??g.zIndex} + 1)`}})});Yw.classes=yl;Yw.displayName="@mantine/core/AppShellAside";const oD={},qw=Ye((e,t)=>{var w;const n=Ne("AppShellFooter",oD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,withBorder:f,zIndex:d,mod:h,...p}=n,g=md();return g.disabled?null:x.jsx(Oe,{component:"footer",ref:t,mod:[{"with-border":f??g.withBorder},h],...g.getStyles("footer",{className:mr({[qu.classNames.zeroRight]:g.offsetScrollbars},o),classNames:r,styles:s,style:i}),...p,__vars:{"--app-shell-footer-z-index":(w=d??g.zIndex)==null?void 0:w.toString()}})});qw.classes=yl;qw.displayName="@mantine/core/AppShellFooter";const iD={},Xw=Ye((e,t)=>{var w;const n=Ne("AppShellHeader",iD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,withBorder:f,zIndex:d,mod:h,...p}=n,g=md();return g.disabled?null:x.jsx(Oe,{component:"header",ref:t,mod:[{"with-border":f??g.withBorder},h],...g.getStyles("header",{className:mr({[qu.classNames.zeroRight]:g.offsetScrollbars},o),classNames:r,styles:s,style:i}),...p,__vars:{"--app-shell-header-z-index":(w=d??g.zIndex)==null?void 0:w.toString()}})});Xw.classes=yl;Xw.displayName="@mantine/core/AppShellHeader";const sD={},Qw=Ye((e,t)=>{const n=Ne("AppShellMain",sD,e),{classNames:r,className:o,style:i,styles:s,vars:a,...c}=n,f=md();return x.jsx(Oe,{component:"main",ref:t,...f.getStyles("main",{className:o,style:i,classNames:r,styles:s}),...c})});Qw.classes=yl;Qw.displayName="@mantine/core/AppShellMain";function _h(e){return typeof e=="object"?e.base:e}function Ch(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function kh(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function aD({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:o}){var c,f,d;const i=r==null?void 0:r.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((c=r==null?void 0:r.collapsed)!=null&&c.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),Ch(i)){const h=_e(_h(i));e["--app-shell-aside-width"]=h,e["--app-shell-aside-offset"]=h}if(kh(i)&&(typeof i.base<"u"&&(e["--app-shell-aside-width"]=_e(i.base),e["--app-shell-aside-offset"]=_e(i.base)),er(i).forEach(h=>{h!=="base"&&(t[h]=t[h]||{},t[h]["--app-shell-aside-width"]=_e(i[h]),t[h]["--app-shell-aside-offset"]=_e(i[h]))})),(f=r==null?void 0:r.collapsed)!=null&&f.desktop){const h=r.breakpoint;t[h]=t[h]||{},t[h]["--app-shell-aside-transform"]=s,t[h]["--app-shell-aside-transform-rtl"]=a,t[h]["--app-shell-aside-offset"]="0px !important"}if((d=r==null?void 0:r.collapsed)!=null&&d.mobile){const h=vw(r.breakpoint,o.breakpoints)-.1;n[h]=n[h]||{},n[h]["--app-shell-aside-width"]="100%",n[h]["--app-shell-aside-offset"]="0px",n[h]["--app-shell-aside-transform"]=s,n[h]["--app-shell-aside-transform-rtl"]=a}}function lD({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,o="translateY(var(--app-shell-footer-height))",i=(n==null?void 0:n.offset)??!0;if(Ch(r)){const s=_e(_h(r));e["--app-shell-footer-height"]=s,i&&(e["--app-shell-footer-offset"]=s)}kh(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=_e(r.base),i&&(e["--app-shell-footer-offset"]=_e(r.base))),er(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=_e(r[s]),i&&(t[s]["--app-shell-footer-offset"]=_e(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=o,e["--app-shell-footer-offset"]="0px !important")}function cD({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,o="translateY(calc(var(--app-shell-header-height) * -1))",i=(n==null?void 0:n.offset)??!0;if(Ch(r)){const s=_e(_h(r));e["--app-shell-header-height"]=s,i&&(e["--app-shell-header-offset"]=s)}kh(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=_e(r.base),i&&(e["--app-shell-header-offset"]=_e(r.base))),er(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=_e(r[s]),i&&(t[s]["--app-shell-header-offset"]=_e(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=o,e["--app-shell-header-offset"]="0px !important")}function uD({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:o}){var c,f,d;const i=r==null?void 0:r.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((c=r==null?void 0:r.collapsed)!=null&&c.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),Ch(i)){const h=_e(_h(i));e["--app-shell-navbar-width"]=h,e["--app-shell-navbar-offset"]=h}if(kh(i)&&(typeof i.base<"u"&&(e["--app-shell-navbar-width"]=_e(i.base),e["--app-shell-navbar-offset"]=_e(i.base)),er(i).forEach(h=>{h!=="base"&&(t[h]=t[h]||{},t[h]["--app-shell-navbar-width"]=_e(i[h]),t[h]["--app-shell-navbar-offset"]=_e(i[h]))})),(f=r==null?void 0:r.collapsed)!=null&&f.desktop){const h=r.breakpoint;t[h]=t[h]||{},t[h]["--app-shell-navbar-transform"]=s,t[h]["--app-shell-navbar-transform-rtl"]=a,t[h]["--app-shell-navbar-offset"]="0px !important"}if((d=r==null?void 0:r.collapsed)!=null&&d.mobile){const h=vw(r.breakpoint,o.breakpoints)-.1;n[h]=n[h]||{},n[h]["--app-shell-navbar-width"]="100%",n[h]["--app-shell-navbar-offset"]="0px",n[h]["--app-shell-navbar-transform"]=s,n[h]["--app-shell-navbar-transform-rtl"]=a}}function xy(e){return Number(e)===0?"0px":ao(e)}function dD({padding:e,baseStyles:t,minMediaStyles:n}){Ch(e)&&(t["--app-shell-padding"]=xy(_h(e))),kh(e)&&(e.base&&(t["--app-shell-padding"]=xy(e.base)),er(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=xy(e[r]))}))}function fD({navbar:e,header:t,footer:n,aside:r,padding:o,theme:i}){const s={},a={},c={};uD({baseStyles:c,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:i}),aD({baseStyles:c,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:i}),cD({baseStyles:c,minMediaStyles:s,header:t}),lD({baseStyles:c,minMediaStyles:s,footer:n}),dD({baseStyles:c,minMediaStyles:s,padding:o});const f=L1(er(s),i.breakpoints).map(p=>({query:`(min-width: ${Gm(p.px)})`,styles:s[p.value]})),d=L1(er(a),i.breakpoints).map(p=>({query:`(max-width: ${Gm(p.px)})`,styles:a[p.value]})),h=[...f,...d];return{baseStyles:c,media:h}}function hD({navbar:e,header:t,aside:n,footer:r,padding:o}){const i=Xr(),s=sa(),{media:a,baseStyles:c}=fD({navbar:e,header:t,footer:r,aside:n,padding:o,theme:i});return x.jsx(Rg,{media:a,styles:c,selector:s.cssVariablesSelector})}const pD={},Zw=Ye((e,t)=>{const n=Ne("AppShellNavbar",pD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,withBorder:f,zIndex:d,mod:h,...p}=n,g=md();return g.disabled?null:x.jsx(Oe,{component:"nav",ref:t,mod:[{"with-border":f??g.withBorder},h],...g.getStyles("navbar",{className:o,classNames:r,styles:s,style:i}),...p,__vars:{"--app-shell-navbar-z-index":`calc(${d??g.zIndex} + 1)`}})});Zw.classes=yl;Zw.displayName="@mantine/core/AppShellNavbar";const mD={},Jw=fo((e,t)=>{const n=Ne("AppShellSection",mD,e),{classNames:r,className:o,style:i,styles:s,vars:a,grow:c,mod:f,...d}=n,h=md();return x.jsx(Oe,{ref:t,mod:[{grow:c},f],...h.getStyles("section",{className:o,style:i,classNames:r,styles:s}),...d})});Jw.classes=yl;Jw.displayName="@mantine/core/AppShellSection";function gD({transitionDuration:e,disabled:t}){const[n,r]=N.useState(!0),o=N.useRef(-1),i=N.useRef(-1);return DC("resize",()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>N.startTransition(()=>{r(!1)}),200)}),xc(()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>N.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const vD={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Vi("app")},yD=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),ui=Ye((e,t)=>{const n=Ne("AppShell",vD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,navbar:f,withBorder:d,padding:h,transitionDuration:p,transitionTimingFunction:g,header:w,zIndex:S,layout:C,disabled:k,aside:P,footer:y,offsetScrollbars:E=C!=="alt",mod:M,...A}=n,z=ht({name:"AppShell",classes:yl,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:yD}),O=gD({disabled:k,transitionDuration:p});return x.jsxs(nD,{value:{getStyles:z,withBorder:d,zIndex:S,disabled:k,offsetScrollbars:E},children:[x.jsx(hD,{navbar:f,header:w,aside:P,footer:y,padding:h}),x.jsx(Oe,{ref:t,...z("root"),mod:[{resizing:O,layout:C,disabled:k},M],...A})]})});ui.classes=yl;ui.displayName="@mantine/core/AppShell";ui.Navbar=Zw;ui.Header=Xw;ui.Main=Qw;ui.Aside=Yw;ui.Footer=qw;ui.Section=Jw;function n9(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>n9(t))}:e}function r9(e){return e?e.map(t=>n9(t)):[]}function ex(e){return e.reduce((t,n)=>"group"in n?{...t,...ex(n.items)}:(t[n.value]=n,t),{})}var Oo={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const wD={error:null},xD=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":_t(t,"combobox-chevron-size"),"--combobox-chevron-color":n?gr(n,e):void 0}}),tx=Ye((e,t)=>{const n=Ne("ComboboxChevron",wD,e),{size:r,error:o,style:i,className:s,classNames:a,styles:c,unstyled:f,vars:d,mod:h,...p}=n,g=ht({name:"ComboboxChevron",classes:Oo,props:n,style:i,className:s,classNames:a,styles:c,unstyled:f,vars:d,varsResolver:xD,rootSelector:"chevron"});return x.jsx(Oe,{component:"svg",...p,...g("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},h],ref:t,children:x.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});tx.classes=Oo;tx.displayName="@mantine/core/ComboboxChevron";const[bD,yi]=xs("Combobox component was not found in tree"),o9=N.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},i)=>x.jsx(Vn.ClearButton,{ref:i,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:s=>{s.preventDefault(),t==null||t(s)},onClick:s=>{r(),n==null||n(s)}}));o9.displayName="@mantine/core/ComboboxClearButton";const SD={},nx=Ye((e,t)=>{const{classNames:n,styles:r,className:o,style:i,hidden:s,...a}=Ne("ComboboxDropdown",SD,e),c=yi();return x.jsx(Dn.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...c.getStyles("dropdown",{className:o,style:i,classNames:n,styles:r})})});nx.classes=Oo;nx.displayName="@mantine/core/ComboboxDropdown";const _D={refProp:"ref"},i9=Ye((e,t)=>{const{children:n,refProp:r}=Ne("ComboboxDropdownTarget",_D,e);if(yi(),!ml(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return x.jsx(Dn.Target,{ref:t,refProp:r,children:n})});i9.displayName="@mantine/core/ComboboxDropdownTarget";const CD={},rx=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Ne("ComboboxEmpty",CD,e),c=yi();return x.jsx(Oe,{ref:t,...c.getStyles("empty",{className:r,classNames:n,styles:i,style:o}),...a})});rx.classes=Oo;rx.displayName="@mantine/core/ComboboxEmpty";function ox({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:i}){const s=yi(),[a,c]=N.useState(null),f=h=>{if(e==null||e(h),!s.readOnly&&t){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),s.store.dropdownOpened?c(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),c(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),s.store.dropdownOpened?c(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),c(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const p=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&p!==-1?(h.preventDefault(),s.store.clickSelectedOption()):o==="button"&&(h.preventDefault(),s.store.openDropdown("keyboard"))}h.key==="Escape"&&s.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&o==="button"&&(h.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:i,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:f}}const kD={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},s9=Ye((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:i,withExpandedAttribute:s,targetType:a,autoComplete:c,...f}=Ne("ComboboxEventsTarget",kD,e);if(!ml(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=yi(),h=ox({targetType:a,withAriaAttributes:i,withKeyboardNavigation:o,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:c});return N.cloneElement(n,{...h,...f,[r]:Fn(t,d.store.targetRef,Pg(n))})});s9.displayName="@mantine/core/ComboboxEventsTarget";const ED={},ix=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Ne("ComboboxFooter",ED,e),c=yi();return x.jsx(Oe,{ref:t,...c.getStyles("footer",{className:r,classNames:n,style:o,styles:i}),...a,onMouseDown:f=>{f.preventDefault()}})});ix.classes=Oo;ix.displayName="@mantine/core/ComboboxFooter";const PD={},sx=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,children:a,label:c,...f}=Ne("ComboboxGroup",PD,e),d=yi();return x.jsxs(Oe,{ref:t,...d.getStyles("group",{className:r,classNames:n,style:o,styles:i}),...f,children:[c&&x.jsx("div",{...d.getStyles("groupLabel",{classNames:n,styles:i}),children:c}),a]})});sx.classes=Oo;sx.displayName="@mantine/core/ComboboxGroup";const TD={},ax=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Ne("ComboboxHeader",TD,e),c=yi();return x.jsx(Oe,{ref:t,...c.getStyles("header",{className:r,classNames:n,style:o,styles:i}),...a,onMouseDown:f=>{f.preventDefault()}})});ax.classes=Oo;ax.displayName="@mantine/core/ComboboxHeader";function a9({value:e,valuesDivider:t=",",...n}){return x.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}a9.displayName="@mantine/core/ComboboxHiddenInput";const RD={},lx=Ye((e,t)=>{const n=Ne("ComboboxOption",RD,e),{classNames:r,className:o,style:i,styles:s,vars:a,onClick:c,id:f,active:d,onMouseDown:h,onMouseOver:p,disabled:g,selected:w,mod:S,...C}=n,k=yi(),P=N.useId(),y=f||P;return x.jsx(Oe,{...k.getStyles("option",{className:o,classNames:r,styles:s,style:i}),...C,ref:t,id:y,mod:["combobox-option",{"combobox-active":d,"combobox-disabled":g,"combobox-selected":w},S],role:"option",onClick:E=>{var M;g?E.preventDefault():((M=k.onOptionSubmit)==null||M.call(k,n.value,n),c==null||c(E))},onMouseDown:E=>{E.preventDefault(),h==null||h(E)},onMouseOver:E=>{k.resetSelectionOnOptionHover&&k.store.resetSelectedOption(),p==null||p(E)}})});lx.classes=Oo;lx.displayName="@mantine/core/ComboboxOption";const ND={},cx=Ye((e,t)=>{const n=Ne("ComboboxOptions",ND,e),{classNames:r,className:o,style:i,styles:s,id:a,onMouseDown:c,labelledBy:f,...d}=n,h=yi(),p=Hi(a);return N.useEffect(()=>{h.store.setListId(p)},[p]),x.jsx(Oe,{ref:t,...h.getStyles("options",{className:o,style:i,classNames:r,styles:s}),...d,id:p,role:"listbox","aria-labelledby":f,onMouseDown:g=>{g.preventDefault(),c==null||c(g)}})});cx.classes=Oo;cx.displayName="@mantine/core/ComboboxOptions";const AD={withAriaAttributes:!0,withKeyboardNavigation:!0},ux=Ye((e,t)=>{const n=Ne("ComboboxSearch",AD,e),{classNames:r,styles:o,unstyled:i,vars:s,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:f,size:d,...h}=n,p=yi(),g=p.getStyles("search"),w=ox({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:f,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return x.jsx(Vn,{ref:Fn(t,p.store.searchRef),classNames:[{input:g.className},r],styles:[{input:g.style},o],size:d||p.size,...w,...h,__staticSelector:"Combobox"})});ux.classes=Oo;ux.displayName="@mantine/core/ComboboxSearch";const MD={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},l9=Ye((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:i,withExpandedAttribute:s,targetType:a,autoComplete:c,...f}=Ne("ComboboxTarget",MD,e);if(!ml(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=yi(),h=ox({targetType:a,withAriaAttributes:i,withKeyboardNavigation:o,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:c}),p=N.cloneElement(n,{...h,...f});return x.jsx(Dn.Target,{ref:Fn(t,d.store.targetRef),children:p})});l9.displayName="@mantine/core/ComboboxTarget";function ID(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function DD(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function OD(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function dx({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:i=!0,scrollBehavior:s="instant"}={}){const[a,c]=qr({value:t,defaultValue:e,finalValue:!1,onChange:n}),f=N.useRef(null),d=N.useRef(-1),h=N.useRef(null),p=N.useRef(null),g=N.useRef(-1),w=N.useRef(-1),S=N.useRef(-1),C=N.useCallback((X="unknown")=>{a||(c(!0),o==null||o(X))},[c,o,a]),k=N.useCallback((X="unknown")=>{a&&(c(!1),r==null||r(X))},[c,r,a]),P=N.useCallback((X="unknown")=>{a?k(X):C(X)},[k,C,a]),y=N.useCallback(()=>{const X=document.querySelector(`#${f.current} [data-combobox-selected]`);X==null||X.removeAttribute("data-combobox-selected"),X==null||X.removeAttribute("aria-selected")},[]),E=N.useCallback(X=>{const Y=document.getElementById(f.current),$=Y==null?void 0:Y.querySelectorAll("[data-combobox-option]");if(!$)return null;const q=X>=$.length?0:X<0?$.length-1:X;return d.current=q,$!=null&&$[q]&&!$[q].hasAttribute("data-combobox-disabled")?(y(),$[q].setAttribute("data-combobox-selected","true"),$[q].setAttribute("aria-selected","true"),$[q].scrollIntoView({block:"nearest",behavior:s}),$[q].id):null},[s,y]),M=N.useCallback(()=>{const X=document.querySelector(`#${f.current} [data-combobox-active]`);if(X){const Y=document.querySelectorAll(`#${f.current} [data-combobox-option]`),$=Array.from(Y).findIndex(q=>q===X);return E($)}return E(0)},[E]),A=N.useCallback(()=>E(DD(d.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),i)),[E,i]),z=N.useCallback(()=>E(ID(d.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),i)),[E,i]),O=N.useCallback(()=>E(OD(document.querySelectorAll(`#${f.current} [data-combobox-option]`))),[E]),V=N.useCallback((X="selected",Y)=>{S.current=window.setTimeout(()=>{var J;const $=document.querySelectorAll(`#${f.current} [data-combobox-option]`),q=Array.from($).findIndex(ie=>ie.hasAttribute(`data-combobox-${X}`));d.current=q,Y!=null&&Y.scrollIntoView&&((J=$[q])==null||J.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),B=N.useCallback(()=>{d.current=-1,y()},[y]),U=N.useCallback(()=>{const X=document.querySelectorAll(`#${f.current} [data-combobox-option]`),Y=X==null?void 0:X[d.current];Y==null||Y.click()},[]),F=N.useCallback(X=>{f.current=X},[]),K=N.useCallback(()=>{g.current=window.setTimeout(()=>h.current.focus(),0)},[]),ne=N.useCallback(()=>{w.current=window.setTimeout(()=>p.current.focus(),0)},[]),G=N.useCallback(()=>d.current,[]);return N.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(w.current),window.clearTimeout(S.current)},[]),{dropdownOpened:a,openDropdown:C,closeDropdown:k,toggleDropdown:P,selectedOptionIndex:d.current,getSelectedOptionIndex:G,selectOption:E,selectFirstOption:O,selectActiveOption:M,selectNextOption:A,selectPreviousOption:z,resetSelectedOption:B,updateSelectedOptionIndex:V,listId:f.current,setListId:F,clickSelectedOption:U,searchRef:h,focusSearchInput:K,targetRef:p,focusTarget:ne}}const jD={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},LD=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Mr(t),"--combobox-option-padding":_t(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:_e(n),"--combobox-option-fz":Mr(t),"--combobox-option-padding":_t(t,"combobox-option-padding")}});function Yt(e){const t=Ne("Combobox",jD,e),{classNames:n,styles:r,unstyled:o,children:i,store:s,vars:a,onOptionSubmit:c,onClose:f,size:d,dropdownPadding:h,resetSelectionOnOptionHover:p,__staticSelector:g,readOnly:w,...S}=t,C=dx(),k=s||C,P=ht({name:g||"Combobox",classes:Oo,props:t,classNames:n,styles:r,unstyled:o,vars:a,varsResolver:LD}),y=()=>{f==null||f(),k.closeDropdown()};return x.jsx(bD,{value:{getStyles:P,store:k,onOptionSubmit:c,size:d,resetSelectionOnOptionHover:p,readOnly:w},children:x.jsx(Dn,{opened:k.dropdownOpened,...S,onChange:E=>!E&&y(),withRoles:!1,unstyled:o,children:i})})}const FD=e=>e;Yt.extend=FD;Yt.classes=Oo;Yt.displayName="@mantine/core/Combobox";Yt.Target=l9;Yt.Dropdown=nx;Yt.Options=cx;Yt.Option=lx;Yt.Search=ux;Yt.Empty=rx;Yt.Chevron=tx;Yt.Footer=ix;Yt.Header=ax;Yt.EventsTarget=s9;Yt.DropdownTarget=i9;Yt.Group=sx;Yt.ClearButton=o9;Yt.HiddenInput=a9;var c9={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const u9=c9,fx=N.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:i,children:s,label:a,description:c,id:f,disabled:d,error:h,size:p,labelPosition:g="left",bodyElement:w="div",labelElement:S="label",variant:C,style:k,vars:P,mod:y,...E},M)=>{const A=ht({name:e,props:t,className:n,style:k,classes:c9,classNames:r,styles:o,unstyled:i});return x.jsx(Oe,{...A("root"),ref:M,__vars:{"--label-fz":Mr(p),"--label-lh":_t(p,"label-lh")},mod:[{"label-position":g},y],variant:C,size:p,...E,children:x.jsxs(Oe,{component:w,htmlFor:w==="label"?f:void 0,...A("body"),children:[s,x.jsxs("div",{...A("labelWrapper"),"data-disabled":d||void 0,children:[a&&x.jsx(Oe,{component:S,htmlFor:S==="label"?f:void 0,...A("label"),"data-disabled":d||void 0,children:a}),c&&x.jsx(Vn.Description,{size:p,__inheritStyles:!1,...A("description"),children:c}),h&&typeof h!="boolean"&&x.jsx(Vn.Error,{size:p,__inheritStyles:!1,...A("error"),children:h})]})]})})});fx.displayName="@mantine/core/InlineInput";const d9=N.createContext(null),zD=d9.Provider,f9=()=>N.useContext(d9),[BD,$D]=wc();var h9={card:"m_26775b0a"};const UD={withBorder:!0},GD=(e,{radius:t})=>({card:{"--card-radius":Hn(t)}}),hx=Ye((e,t)=>{const n=Ne("CheckboxCard",UD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,checked:f,mod:d,withBorder:h,value:p,onClick:g,defaultChecked:w,onChange:S,...C}=n,k=ht({name:"CheckboxCard",classes:h9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:GD,rootSelector:"card"}),P=f9(),y=typeof f=="boolean"?f:P?P.value.includes(p||""):void 0,[E,M]=qr({value:y,defaultValue:w,finalValue:!1,onChange:S});return x.jsx(BD,{value:{checked:E},children:x.jsx(ws,{ref:t,mod:[{"with-border":h,checked:E},d],...k("card"),...C,role:"checkbox","aria-checked":E,onClick:A=>{g==null||g(A),P==null||P.onChange(p||""),M(!E)}})})});hx.displayName="@mantine/core/CheckboxCard";hx.classes=h9;function p9({children:e,role:t}){const n=pd();return n?x.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):x.jsx(x.Fragment,{children:e})}const VD={},px=Ye((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:i,wrapperProps:s,children:a,readOnly:c,...f}=Ne("CheckboxGroup",VD,e),[d,h]=qr({value:n,defaultValue:r,finalValue:[],onChange:o}),p=g=>{const w=typeof g=="string"?g:g.currentTarget.value;!c&&h(d.includes(w)?d.filter(S=>S!==w):[...d,w])};return x.jsx(zD,{value:{value:d,onChange:p,size:i},children:x.jsx(Vn.Wrapper,{size:i,ref:t,...s,...f,labelElement:"div",__staticSelector:"CheckboxGroup",children:x.jsx(p9,{role:"group",children:a})})})});px.classes=Vn.Wrapper.classes;px.displayName="@mantine/core/CheckboxGroup";function m9({size:e,style:t,...n}){const r=e!==void 0?{width:_e(e),height:_e(e),...t}:t;return x.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:x.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function g9({indeterminate:e,...t}){return e?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:x.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):x.jsx(m9,{...t})}var v9={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const HD={icon:g9},WD=(e,{radius:t,color:n,size:r,iconColor:o,variant:i,autoContrast:s})=>{const a=gl({color:n||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":_t(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Hn(t),"--checkbox-color":i==="outline"?c:gr(n,e),"--checkbox-icon-color":o?gr(o,e):_w(s,e)?bh({color:n,theme:e,autoContrast:s}):void 0}}},mx=Ye((e,t)=>{const n=Ne("CheckboxIndicator",HD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,icon:f,indeterminate:d,radius:h,color:p,iconColor:g,autoContrast:w,checked:S,mod:C,variant:k,disabled:P,...y}=n,E=f,M=ht({name:"CheckboxIndicator",classes:v9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:WD,rootSelector:"indicator"}),A=$D(),z=typeof S=="boolean"||typeof d=="boolean"?S||d:(A==null?void 0:A.checked)||!1;return x.jsx(Oe,{ref:t,...M("indicator",{variant:k}),variant:k,mod:[{checked:z,disabled:P},C],...y,children:x.jsx(E,{indeterminate:d,...M("icon")})})});mx.displayName="@mantine/core/CheckboxIndicator";mx.classes=v9;var y9={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const KD={labelPosition:"right",icon:g9},YD=(e,{radius:t,color:n,size:r,iconColor:o,variant:i,autoContrast:s})=>{const a=gl({color:n||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":_t(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Hn(t),"--checkbox-color":i==="outline"?c:gr(n,e),"--checkbox-icon-color":o?gr(o,e):_w(s,e)?bh({color:n,theme:e,autoContrast:s}):void 0}}},so=Ye((e,t)=>{const n=Ne("Checkbox",KD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,color:f,label:d,id:h,size:p,radius:g,wrapperProps:w,checked:S,labelPosition:C,description:k,error:P,disabled:y,variant:E,indeterminate:M,icon:A,rootRef:z,iconColor:O,onChange:V,autoContrast:B,mod:U,...F}=n,K=f9(),ne=p||(K==null?void 0:K.size),G=A,X=ht({name:"Checkbox",props:n,classes:y9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:YD}),{styleProps:Y,rest:$}=ad(F),q=Hi(h),J=K?{checked:K.value.includes($.value),onChange:de=>{K.onChange(de),V==null||V(de)}}:{},ie=N.useRef(null),te=t||ie;return N.useEffect(()=>{te&&"current"in te&&te.current&&(te.current.indeterminate=M||!1)},[M,te]),x.jsx(fx,{...X("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:q,size:ne,labelPosition:C,label:d,description:k,error:P,disabled:y,classNames:r,styles:s,unstyled:a,"data-checked":J.checked||S||void 0,variant:E,ref:z,mod:U,...Y,...w,children:x.jsxs(Oe,{...X("inner"),mod:{"data-label-position":C},children:[x.jsx(Oe,{component:"input",id:q,ref:te,checked:S,disabled:y,mod:{error:!!P,indeterminate:M},...X("input",{focusable:!0,variant:E}),onChange:V,...$,...J,type:"checkbox"}),x.jsx(G,{indeterminate:M,...X("icon")})]})})});so.classes={...y9,...u9};so.displayName="@mantine/core/Checkbox";so.Group=px;so.Indicator=mx;so.Card=hx;function Ju(e){return"group"in e}function w9({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let i=0;i<e.length;i+=1){const s=e[i];if(o.length===n)return o;Ju(s)&&o.push({group:s.group,items:w9({options:s.items,search:t,limit:n-o.length})}),Ju(s)||s.label.toLowerCase().includes(r)&&o.push(s)}return o}function qD(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function x9(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Ju(n))x9(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function XD(e,t){return Array.isArray(e)?e.includes(t):e===t}function b9({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:i}){if(!Ju(e)){const a=XD(n,e.value),c=t&&a&&x.jsx(m9,{className:Oo.optionsDropdownCheckIcon}),f=x.jsxs(x.Fragment,{children:[r==="left"&&c,x.jsx("span",{children:e.label}),r==="right"&&c]});return x.jsx(Yt.Option,{value:e.value,disabled:e.disabled,className:mr({[Oo.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof i=="function"?i({option:e,checked:a}):f})}const s=e.items.map(a=>x.jsx(b9,{data:a,value:n,unstyled:o,withCheckIcon:t,checkIconPosition:r,renderOption:i},a.value));return x.jsx(Yt.Group,{label:e.group,children:s})}function S9({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:i,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:f=!1,value:d,checkIconPosition:h,nothingFoundMessage:p,unstyled:g,labelId:w,renderOption:S,scrollAreaProps:C,"aria-label":k}){x9(e);const y=typeof o=="string"?(r||w9)({options:e,search:c?o:"",limit:i??1/0}):e,E=qD(y),M=y.map(A=>x.jsx(b9,{data:A,withCheckIcon:f,value:d,checkIconPosition:h,unstyled:g,renderOption:S},Ju(A)?A.group:A.value));return x.jsx(Yt.Dropdown,{hidden:t||n&&E,"data-composed":!0,children:x.jsxs(Yt.Options,{labelledBy:w,"aria-label":k,children:[a?x.jsx(aa.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:M}):M,E&&p&&x.jsx(Yt.Empty,{children:p})]})})}var _9={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const QD={},ZD=(e,{radius:t,color:n,gradient:r,variant:o,size:i,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--badge-height":_t(i,"badge-height"),"--badge-padding-x":_t(i,"badge-padding-x"),"--badge-fz":_t(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Hn(t),"--badge-bg":n||o?a.background:void 0,"--badge-color":n||o?a.color:void 0,"--badge-bd":n||o?a.border:void 0,"--badge-dot-color":o==="dot"?gr(n,e):void 0}}},Do=fo((e,t)=>{const n=Ne("Badge",QD,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,radius:f,color:d,gradient:h,leftSection:p,rightSection:g,children:w,variant:S,fullWidth:C,autoContrast:k,circle:P,mod:y,...E}=n,M=ht({name:"Badge",props:n,classes:_9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:ZD});return x.jsxs(Oe,{variant:S,mod:[{block:C,circle:P,"with-right-section":!!g,"with-left-section":!!p},y],...M("root",{variant:S}),ref:t,...E,children:[p&&x.jsx("span",{...M("section"),"data-position":"left",children:p}),x.jsx("span",{...M("label"),children:w}),g&&x.jsx("span",{...M("section"),"data-position":"right",children:g})]})});Do.classes=_9;Do.displayName="@mantine/core/Badge";var gd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const g_={orientation:"horizontal"},JD=(e,{borderWidth:t})=>({group:{"--button-border-width":_e(t)}}),gx=Ye((e,t)=>{const n=Ne("ButtonGroup",g_,e),{className:r,style:o,classNames:i,styles:s,unstyled:a,orientation:c,vars:f,borderWidth:d,variant:h,mod:p,...g}=Ne("ButtonGroup",g_,e),w=ht({name:"ButtonGroup",props:n,classes:gd,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:f,varsResolver:JD,rootSelector:"group"});return x.jsx(Oe,{...w("group"),ref:t,variant:h,mod:[{"data-orientation":c},p],role:"group",...g})});gx.classes=gd;gx.displayName="@mantine/core/ButtonGroup";const v_={},eO=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":_t(s,"section-height"),"--section-padding-x":_t(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?Mr(s.replace("compact-","")):Mr(s),"--section-radius":t===void 0?void 0:Hn(t),"--section-bg":n||o?a.background:void 0,"--section-color":a.color,"--section-bd":n||o?a.border:void 0}}},vx=Ye((e,t)=>{const n=Ne("ButtonGroupSection",v_,e),{className:r,style:o,classNames:i,styles:s,unstyled:a,vars:c,variant:f,gradient:d,radius:h,autoContrast:p,...g}=Ne("ButtonGroupSection",v_,e),w=ht({name:"ButtonGroupSection",props:n,classes:gd,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:c,varsResolver:eO,rootSelector:"groupSection"});return x.jsx(Oe,{...w("groupSection"),ref:t,variant:f,...g})});vx.classes=gd;vx.displayName="@mantine/core/ButtonGroupSection";const tO={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${_e(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},nO={},rO=(e,{radius:t,color:n,gradient:r,variant:o,size:i,justify:s,autoContrast:a})=>{const c=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":_t(i,"button-height"),"--button-padding-x":_t(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?Mr(i.replace("compact-","")):Mr(i),"--button-radius":t===void 0?void 0:Hn(t),"--button-bg":n||o?c.background:void 0,"--button-hover":n||o?c.hover:void 0,"--button-color":c.color,"--button-bd":n||o?c.border:void 0,"--button-hover-color":n||o?c.hoverColor:void 0}}},Kt=fo((e,t)=>{const n=Ne("Button",nO,e),{style:r,vars:o,className:i,color:s,disabled:a,children:c,leftSection:f,rightSection:d,fullWidth:h,variant:p,radius:g,loading:w,loaderProps:S,gradient:C,classNames:k,styles:P,unstyled:y,"data-disabled":E,autoContrast:M,mod:A,...z}=n,O=ht({name:"Button",props:n,classes:gd,className:i,style:r,classNames:k,styles:P,unstyled:y,vars:o,varsResolver:rO}),V=!!f,B=!!d;return x.jsxs(ws,{ref:t,...O("root",{active:!a&&!w&&!E}),unstyled:y,variant:p,disabled:a||w,mod:[{disabled:a||E,loading:w,block:h,"with-left-section":V,"with-right-section":B},A],...z,children:[x.jsx(vl,{mounted:!!w,transition:tO,duration:150,children:U=>x.jsx(Oe,{component:"span",...O("loader",{style:U}),"aria-hidden":!0,children:x.jsx(dd,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...S})})}),x.jsxs("span",{...O("inner"),children:[f&&x.jsx(Oe,{component:"span",...O("section"),mod:{position:"left"},children:f}),x.jsx(Oe,{component:"span",mod:{loading:w},...O("label"),children:c}),d&&x.jsx(Oe,{component:"span",...O("section"),mod:{position:"right"},children:d})]})]})});Kt.classes=gd;Kt.displayName="@mantine/core/Button";Kt.Group=gx;Kt.GroupSection=vx;const[oO,iO]=xs("Card component was not found in tree");var yx={root:"m_e615b15f",section:"m_599a2148"};const sO={},Ug=fo((e,t)=>{const n=Ne("CardSection",sO,e),{classNames:r,className:o,style:i,styles:s,vars:a,withBorder:c,inheritPadding:f,mod:d,...h}=n,p=iO();return x.jsx(Oe,{ref:t,mod:[{"with-border":c,"inherit-padding":f},d],...p.getStyles("section",{className:o,style:i,styles:s,classNames:r}),...h})});Ug.classes=yx;Ug.displayName="@mantine/core/CardSection";const aO={},lO=(e,{padding:t})=>({root:{"--card-padding":ao(t)}}),Gg=fo((e,t)=>{const n=Ne("Card",aO,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,children:f,padding:d,...h}=n,p=ht({name:"Card",props:n,classes:yx,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:lO}),g=N.Children.toArray(f),w=g.map((S,C)=>typeof S=="object"&&S&&"type"in S&&S.type===Ug?N.cloneElement(S,{"data-first-section":C===0||void 0,"data-last-section":C===g.length-1||void 0}):S);return x.jsx(oO,{value:{getStyles:p},children:x.jsx(_n,{ref:t,unstyled:a,...p("root"),...h,children:w})})});Gg.classes=yx;Gg.displayName="@mantine/core/Card";Gg.Section=Ug;var C9={root:"m_b183c0a2"};const cO={},uO=(e,{color:t})=>({root:{"--code-bg":t?gr(t,e):void 0}}),wx=Ye((e,t)=>{const n=Ne("Code",cO,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,color:f,block:d,variant:h,mod:p,...g}=n,w=ht({name:"Code",props:n,classes:C9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:uO});return x.jsx(Oe,{component:d?"pre":"code",variant:h,ref:t,mod:[{block:d},p],...w("root"),...g,dir:"ltr"})});wx.classes=C9;wx.displayName="@mantine/core/Code";var k9={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const y_={withShadow:!0},dO=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:Hn(t),"--cs-size":_e(n)}}),Eh=fo((e,t)=>{const n=Ne("ColorSwatch",y_,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,color:f,size:d,radius:h,withShadow:p,children:g,variant:w,...S}=Ne("ColorSwatch",y_,n),C=ht({name:"ColorSwatch",props:n,classes:k9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:dO});return x.jsxs(Oe,{ref:t,variant:w,size:d,...C("root",{focusable:!0}),...S,children:[x.jsx("span",{...C("alphaOverlay")}),p&&x.jsx("span",{...C("shadowOverlay")}),x.jsx("span",{...C("colorOverlay",{style:{backgroundColor:f}})}),x.jsx("span",{...C("childrenOverlay"),children:g})]})});Eh.classes=k9;Eh.displayName="@mantine/core/ColorSwatch";const[fO,xx]=wc(null),bx=N.forwardRef(({position:e,...t},n)=>x.jsx(Oe,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));bx.displayName="@mantine/core/ColorPickerThumb";var Sx={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const hO={},_x=Ye((e,t)=>{var $;const n=Ne("ColorSlider",hO,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,onChange:f,onChangeEnd:d,maxValue:h,round:p,size:g="md",focusable:w=!0,value:S,overlays:C,thumbColor:k="transparent",onScrubStart:P,onScrubEnd:y,__staticSelector:E="ColorPicker",...M}=n,A=ht({name:E,classes:Sx,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a}),O=(($=xx())==null?void 0:$.getStyles)||A,V=Xr(),[B,U]=N.useState({y:0,x:S/h}),F=N.useRef(B),K=q=>p?Math.round(q*h):q*h,{ref:ne}=jC(({x:q,y:J})=>{F.current={x:q,y:J},f==null||f(K(q))},{onScrubEnd:()=>{const{x:q}=F.current;d==null||d(K(q)),y==null||y()},onScrubStart:P});Ko(()=>{U({y:0,x:S/h})},[S]);const G=(q,J)=>{q.preventDefault();const ie=OC(J);f==null||f(K(ie.x)),d==null||d(K(ie.x))},X=q=>{switch(q.key){case"ArrowRight":{G(q,{x:B.x+.05,y:B.y});break}case"ArrowLeft":{G(q,{x:B.x-.05,y:B.y});break}}},Y=C.map((q,J)=>N.createElement("div",{...O("sliderOverlay"),style:q,key:J}));return x.jsxs(Oe,{...M,ref:Fn(ne,t),...O("slider"),role:"slider","aria-valuenow":S,"aria-valuemax":h,"aria-valuemin":0,tabIndex:w?0:-1,onKeyDown:X,"data-focus-ring":V.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${g})`},children:[Y,x.jsx(bx,{position:B,...O("thumb",{style:{top:_e(1),background:k}})})]})});_x.displayName="@mantine/core/ColorSlider";function di(e,t=0,n=10**t){return Math.round(n*e)/n}function pO({h:e,s:t,l:n,a:r}){const o=t*((n<50?n:100-n)/100);return{h:e,s:o>0?2*o/(n+o)*100:0,v:n+o,a:r}}const mO={grad:360/400,turn:360,rad:360/(Math.PI*2)};function gO(e,t="deg"){return Number(e)*(mO[t]||1)}const vO=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function w_(e){const t=vO.exec(e);return t?pO({h:gO(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function X1({r:e,g:t,b:n,a:r}){const o=Math.max(e,t,n),i=o-Math.min(e,t,n),s=i?o===e?(t-n)/i:o===t?2+(n-e)/i:4+(e-t)/i:0;return{h:di(60*(s<0?s+6:s),3),s:di(o?i/o*100:0,3),v:di(o/255*100,3),a:r}}function Q1(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?X1({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):X1({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function yO(e){const t=e[0]==="#"?e.slice(1):e,n=s=>di(parseInt(s,16)/255,3);if(t.length===4){const s=t.slice(0,3),a=n(t[3]+t[3]);return{...Q1(s),a}}const r=t.slice(0,6),o=n(t.slice(6,8));return{...Q1(r),a:o}}const wO=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function x_(e){const t=wO.exec(e);return t?X1({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const E9={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},xO={hex:Q1,hexa:yO,rgb:x_,rgba:x_,hsl:w_,hsla:w_};function xf(e){for(const[,t]of Object.entries(E9))if(t.test(e))return!0;return!1}function ic(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(E9))if(r.test(t))return xO[n](t);return{h:0,s:0,v:0,a:1}}const bO={},P9=N.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:o,color:i,...s}=Ne("AlphaSlider",bO,e);return x.jsx(_x,{...s,ref:t,value:n,onChange:a=>r==null?void 0:r(di(a,2)),onChangeEnd:a=>o==null?void 0:o(di(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${_e(8)} ${_e(8)}`,backgroundPosition:`0 0, 0 ${_e(4)}, ${_e(4)} ${_e(-4)}, ${_e(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${i})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${_e(1)} inset, rgb(0, 0, 0, .15) 0 0 ${_e(4)} inset`}]})});P9.displayName="@mantine/core/AlphaSlider";function T9({h:e,s:t,v:n,a:r}){const o=e/360*6,i=t/100,s=n/100,a=Math.floor(o),c=s*(1-i),f=s*(1-(o-a)*i),d=s*(1-(1-o+a)*i),h=a%6;return{r:di([s,f,c,c,d,s][h]*255),g:di([d,s,s,f,c,c][h]*255),b:di([c,c,d,s,s,f][h]*255),a:di(r,2)}}function b_(e,t){const{r:n,g:r,b:o,a:i}=T9(e);return t?`rgba(${n}, ${r}, ${o}, ${di(i,2)})`:`rgb(${n}, ${r}, ${o})`}function S_({h:e,s:t,v:n,a:r},o){const i=(200-t)*n/100,s={h:Math.round(e),s:Math.round(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Math.round(i/2)};return o?`hsla(${s.h}, ${s.s}%, ${s.l}%, ${di(r,2)})`:`hsl(${s.h}, ${s.s}%, ${s.l}%)`}function um(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function R9(e){const{r:t,g:n,b:r}=T9(e);return`#${um(t)}${um(n)}${um(r)}`}function SO(e){const t=Math.round(e.a*255);return`${R9(e)}${um(t)}`}const by={hex:R9,hexa:e=>SO(e),rgb:e=>b_(e,!1),rgba:e=>b_(e,!0),hsl:e=>S_(e,!1),hsla:e=>S_(e,!0)};function Ai(e,t){return t?e in by?by[e](t):by.hex(t):"#000000"}const N9=N.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:o,color:i,...s}=Ne("HueSlider",{},e);return x.jsx(_x,{...s,ref:t,value:n,onChange:r,onChangeEnd:o,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${_e(1)} inset, rgb(0, 0, 0, .15) 0 0 ${_e(4)} inset`}]})});N9.displayName="@mantine/core/HueSlider";function A9({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:o,focusable:i=!0,size:s,color:a,onScrubStart:c,onScrubEnd:f,...d}){const{getStyles:h}=xx(),[p,g]=N.useState({x:r.s/100,y:1-r.v/100}),w=N.useRef(p),{ref:S}=jC(({x:P,y})=>{w.current={x:P,y},t({s:Math.round(P*100),v:Math.round((1-y)*100)})},{onScrubEnd:()=>{const{x:P,y}=w.current;n({s:Math.round(P*100),v:Math.round((1-y)*100)}),f==null||f()},onScrubStart:c});N.useEffect(()=>{g({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const C=(P,y)=>{P.preventDefault();const E=OC(y);t({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)}),n({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)})},k=P=>{switch(P.key){case"ArrowUp":{C(P,{y:p.y-.05,x:p.x});break}case"ArrowDown":{C(P,{y:p.y+.05,x:p.x});break}case"ArrowRight":{C(P,{x:p.x+.05,y:p.y});break}case"ArrowLeft":{C(P,{x:p.x-.05,y:p.y});break}}};return x.jsxs(Oe,{...h("saturation"),ref:S,...d,role:"slider","aria-label":o,"aria-valuenow":p.x,"aria-valuetext":Ai("rgba",r),tabIndex:i?0:-1,onKeyDown:k,children:[x.jsx("div",{...h("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),x.jsx("div",{...h("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),x.jsx("div",{...h("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),x.jsx(bx,{position:p,...h("thumb",{style:{backgroundColor:a}})})]})}A9.displayName="@mantine/core/Saturation";const M9=N.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:o,focusable:i,data:s,swatchesPerRow:a,...c},f)=>{const d=xx(),h=s.map((p,g)=>N.createElement(Eh,{...d.getStyles("swatch"),unstyled:d.unstyled,component:"button",type:"button",color:p,key:g,radius:"sm",onClick:()=>{n(p),r==null||r(p)},"aria-label":p,tabIndex:i?0:-1,"data-swatch":!0}));return x.jsx(Oe,{...d.getStyles("swatches"),ref:f,...c,children:h})});M9.displayName="@mantine/core/Swatches";const _O={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},CO=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":_t(t,"cp-preview-size"),"--cp-width":_t(t,"cp-width"),"--cp-body-spacing":ao(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":_t(t,"cp-thumb-size"),"--cp-saturation-height":_t(t,"cp-saturation-height")}}),Cx=Ye((e,t)=>{const n=Ne("ColorPicker",_O,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,format:f,value:d,defaultValue:h,onChange:p,onChangeEnd:g,withPicker:w,size:S,saturationLabel:C,hueLabel:k,alphaLabel:P,focusable:y,swatches:E,swatchesPerRow:M,fullWidth:A,onColorSwatchClick:z,__staticSelector:O,mod:V,...B}=n,U=ht({name:O,props:n,classes:Sx,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"wrapper",vars:c,varsResolver:CO}),F=N.useRef(f),K=N.useRef(""),ne=N.useRef(-1),G=N.useRef(!1),X=f==="hexa"||f==="rgba"||f==="hsla",[Y,$,q]=qr({value:d,defaultValue:h,finalValue:"#FFFFFF",onChange:p}),[J,ie]=N.useState(ic(Y)),te=()=>{window.clearTimeout(ne.current),G.current=!0},de=()=>{window.clearTimeout(ne.current),ne.current=window.setTimeout(()=>{G.current=!1},200)},He=Te=>{ie(Ee=>{const Q={...Ee,...Te};return K.current=Ai(F.current,Q),Q}),$(K.current)};return Ko(()=>{xf(d)&&!G.current&&ie(ic(d))},[d]),Ko(()=>{F.current=f,$(Ai(f,J))},[f]),x.jsx(fO,{value:{getStyles:U,unstyled:a},children:x.jsxs(Oe,{ref:t,...U("wrapper"),size:S,mod:[{"full-width":A},V],...B,children:[w&&x.jsxs(x.Fragment,{children:[x.jsx(A9,{value:J,onChange:He,onChangeEnd:({s:Te,v:Ee})=>g==null?void 0:g(Ai(F.current,{...J,s:Te,v:Ee})),color:Y,size:S,focusable:y,saturationLabel:C,onScrubStart:te,onScrubEnd:de}),x.jsxs("div",{...U("body"),children:[x.jsxs("div",{...U("sliders"),children:[x.jsx(N9,{value:J.h,onChange:Te=>He({h:Te}),onChangeEnd:Te=>g==null?void 0:g(Ai(F.current,{...J,h:Te})),size:S,focusable:y,"aria-label":k,onScrubStart:te,onScrubEnd:de}),X&&x.jsx(P9,{value:J.a,onChange:Te=>He({a:Te}),onChangeEnd:Te=>{g==null||g(Ai(F.current,{...J,a:Te}))},size:S,color:Ai("hex",J),focusable:y,"aria-label":P,onScrubStart:te,onScrubEnd:de})]}),X&&x.jsx(Eh,{color:Y,radius:"sm",size:"var(--cp-preview-size)",...U("preview")})]})]}),Array.isArray(E)&&x.jsx(M9,{data:E,swatchesPerRow:M,focusable:y,setValue:$,onChangeEnd:Te=>{const Ee=Ai(f,ic(Te));z==null||z(Ee),g==null||g(Ee),q||ie(ic(Te))}})]})})});Cx.classes=Sx;Cx.displayName="@mantine/core/ColorPicker";function kO({style:e,...t}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),x.jsx("path",{d:"M11 7l6 6"}),x.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var __={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const C_={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},EO=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":_t(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":_t(t,"ci-preview-size")}}),ji=Ye((e,t)=>{const n=Ne("ColorInput",C_,e),{classNames:r,styles:o,unstyled:i,disallowInput:s,fixOnBlur:a,popoverProps:c,withPreview:f,withEyeDropper:d,eyeDropperIcon:h,closeOnColorSwatchClick:p,eyeDropperButtonProps:g,value:w,defaultValue:S,onChange:C,onChangeEnd:k,onClick:P,onFocus:y,onBlur:E,inputProps:M,format:A,wrapperProps:z,readOnly:O,withPicker:V,swatches:B,disabled:U,leftSection:F,rightSection:K,swatchesPerRow:ne,...G}=J8("ColorInput",C_,e),X=ht({name:"ColorInput",props:n,classes:__,classNames:r,styles:o,unstyled:i,rootSelector:"wrapper",vars:n.vars,varsResolver:EO}),{resolvedClassNames:Y,resolvedStyles:$}=bc({classNames:r,styles:o,props:n}),[q,J]=N.useState(!1),[ie,te]=N.useState(""),[de,He]=qr({value:w,defaultValue:S,finalValue:"",onChange:C}),{supported:Te,open:Ee}=HR(),Q=x.jsx(an,{...g,...X("eyeDropperButton",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),variant:"subtle",color:"gray",size:M.size,unstyled:i,onClick:()=>Ee().then(ke=>{if(ke!=null&&ke.sRGBHex){const Ae=Ai(A,ic(ke.sRGBHex));He(Ae),k==null||k(Ae)}}).catch(()=>{}),children:h||x.jsx(kO,{...X("eyeDropperIcon")})}),we=ke=>{y==null||y(ke),J(!0)},ve=ke=>{a&&He(ie),E==null||E(ke),J(!1)},Re=ke=>{P==null||P(ke),J(!0)};return N.useEffect(()=>{(xf(de)||de.trim()==="")&&te(de)},[de]),Ko(()=>{xf(de)&&He(Ai(A,ic(de)))},[A]),x.jsx(Vn.Wrapper,{...z,classNames:Y,styles:$,__staticSelector:"ColorInput",children:x.jsxs(Dn,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:q,...c,classNames:Y,styles:$,unstyled:i,withRoles:!1,disabled:O||V===!1&&(!Array.isArray(B)||B.length===0),children:[x.jsx(Dn.Target,{children:x.jsx(Vn,{autoComplete:"off",...G,...M,classNames:Y,styles:$,disabled:U,ref:t,__staticSelector:"ColorInput",onFocus:we,onBlur:ve,onClick:Re,spellCheck:!1,value:de,onChange:ke=>{const Ae=ke.currentTarget.value;He(Ae),xf(Ae)&&(k==null||k(Ai(A,ic(Ae))))},leftSection:F||(f?x.jsx(Eh,{color:xf(de)?de:"#fff",size:"var(--ci-preview-size)",...X("colorPreview")}):null),readOnly:s||O,pointer:s,unstyled:i,rightSection:K||(d&&!U&&!O&&Te?Q:null)})}),x.jsx(Dn.Dropdown,{onMouseDown:ke=>ke.preventDefault(),className:__.dropdown,children:x.jsx(Cx,{__staticSelector:"ColorInput",value:de,onChange:He,onChangeEnd:k,format:A,swatches:B,swatchesPerRow:ne,withPicker:V,size:M.size,focusable:!1,unstyled:i,styles:$,classNames:Y,onColorSwatchClick:()=>p&&J(!1)})})]})})});ji.classes=Qo.classes;ji.displayName="@mantine/core/ColorInput";var I9={root:"m_7485cace"};const PO={},TO=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:_t(t,"container-size")}}),kx=Ye((e,t)=>{const n=Ne("Container",PO,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,fluid:f,mod:d,...h}=n,p=ht({name:"Container",classes:I9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:TO});return x.jsx(Oe,{ref:t,mod:[{fluid:f},d],...p("root"),...h})});kx.classes=I9;kx.displayName="@mantine/core/Container";const RO={timeout:1e3};function Z1(e){const{children:t,timeout:n,value:r,...o}=Ne("CopyButton",RO,e),i=CR({timeout:n}),s=()=>i.copy(r);return x.jsx(x.Fragment,{children:t({copy:s,copied:i.copied,...o})})}Z1.displayName="@mantine/core/CopyButton";var D9={root:"m_3eebeb36",label:"m_9e365f20"};const NO={orientation:"horizontal"},AO=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?gr(t,e):void 0,"--divider-border-style":n,"--divider-size":_t(r,"divider-size")}}),fr=Ye((e,t)=>{const n=Ne("Divider",NO,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,color:f,orientation:d,label:h,labelPosition:p,mod:g,...w}=n,S=ht({name:"Divider",classes:D9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:AO});return x.jsx(Oe,{ref:t,mod:[{orientation:d,"with-label":!!h},g],...S("root"),...w,role:"separator",children:h&&x.jsx(Oe,{component:"span",mod:{position:p},...S("label"),children:h})})});fr.classes=D9;fr.displayName="@mantine/core/Divider";const MO={multiple:!1},O9=N.forwardRef((e,t)=>{const{onChange:n,children:r,multiple:o,accept:i,name:s,form:a,resetRef:c,disabled:f,capture:d,inputProps:h,...p}=Ne("FileButton",MO,e),g=N.useRef(null),w=()=>{var k;!f&&((k=g.current)==null||k.click())},S=k=>{n(o?Array.from(k.currentTarget.files):k.currentTarget.files[0]||null)};return nh(c,()=>{g.current&&(g.current.value="")}),x.jsxs(x.Fragment,{children:[x.jsx("input",{style:{display:"none"},type:"file",accept:i,multiple:o,onChange:S,ref:Fn(t,g),name:s,form:a,capture:d,...h}),r({onClick:w,...p})]})});O9.displayName="@mantine/core/FileButton";function IO({open:e,close:t,openDelay:n,closeDelay:r}){const o=N.useRef(-1),i=N.useRef(-1),s=()=>{window.clearTimeout(o.current),window.clearTimeout(i.current)},a=()=>{s(),n===0||n===void 0?e():o.current=window.setTimeout(e,n)},c=()=>{s(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)};return N.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:c}}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(null,arguments)}function Ex(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DO=N.useLayoutEffect,OO=function(t){var n=Rt.useRef(t);return DO(function(){n.current=t}),n},k_=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},jO=function(t,n){var r=Rt.useRef();return Rt.useCallback(function(o){t.current=o,r.current&&k_(r.current,null),r.current=n,n&&k_(n,o)},[n])},E_={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},LO=function(t){Object.keys(E_).forEach(function(n){t.style.setProperty(n,E_[n],"important")})},P_=LO,oo=null,T_=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function FO(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),oo||(oo=document.createElement("textarea"),oo.setAttribute("tabindex","-1"),oo.setAttribute("aria-hidden","true"),P_(oo)),oo.parentNode===null&&document.body.appendChild(oo);var o=e.paddingSize,i=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(p){var g=p;oo.style[g]=s[g]}),P_(oo),oo.value=t;var c=T_(oo,e);oo.value=t,c=T_(oo,e),oo.value="x";var f=oo.scrollHeight-o,d=f*n;a==="border-box"&&(d=d+o+i),c=Math.max(d,c);var h=f*r;return a==="border-box"&&(h=h+o+i),c=Math.min(h,c),[c,f]}var R_=function(){},zO=function(t,n){return t.reduce(function(r,o){return r[o]=n[o],r},{})},BO=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],$O=!!document.documentElement.currentStyle,UO=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=zO(BO,n),o=r.boxSizing;if(o==="")return null;$O&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:s}},GO=UO;function Px(e,t,n){var r=OO(n);N.useLayoutEffect(function(){var o=function(s){return r.current(s)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var VO=function(t,n){Px(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},HO=function(t){Px(window,"resize",t)},WO=function(t){Px(document.fonts,"loadingdone",t)},KO=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],YO=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,i=t.minRows,s=t.onChange,a=s===void 0?R_:s,c=t.onHeightChange,f=c===void 0?R_:c,d=Ex(t,KO),h=d.value!==void 0,p=N.useRef(null),g=jO(p,n),w=N.useRef(0),S=N.useRef(),C=function(){var y=p.current,E=r&&S.current?S.current:GO(y);if(E){S.current=E;var M=FO(E,y.value||y.placeholder||"x",i,o),A=M[0],z=M[1];w.current!==A&&(w.current=A,y.style.setProperty("height",A+"px","important"),f(A,{rowHeight:z}))}},k=function(y){h||C(),a(y)};return N.useLayoutEffect(C),VO(p,function(){if(!h){var P=p.current.value;requestAnimationFrame(function(){var y=p.current;y&&P!==y.value&&C()})}}),HO(C),WO(C),N.createElement("textarea",Qm({},d,{onChange:k,ref:g}))},qO=N.forwardRef(YO);const XO={},Ph=Ye((e,t)=>{const{autosize:n,maxRows:r,minRows:o,__staticSelector:i,resize:s,...a}=Ne("Textarea",XO,e),c=n&&LC()!=="test",f=c?{maxRows:r,minRows:o}:{};return x.jsx(Qo,{component:c?qO:"textarea",ref:t,...a,__staticSelector:i||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...f})});Ph.classes=Qo.classes;Ph.displayName="@mantine/core/Textarea";const[QO,Th]=xs("Menu component was not found in the tree");var vd={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const ZO={},Tx=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Ne("MenuDivider",ZO,e),c=Th();return x.jsx(Oe,{ref:t,...c.getStyles("divider",{className:r,style:o,styles:i,classNames:n}),...a})});Tx.classes=vd;Tx.displayName="@mantine/core/MenuDivider";const JO={},Rx=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,onMouseEnter:a,onMouseLeave:c,onKeyDown:f,children:d,...h}=Ne("MenuDropdown",JO,e),p=N.useRef(null),g=Th(),w=ps(f,k=>{var P,y;(k.key==="ArrowUp"||k.key==="ArrowDown")&&(k.preventDefault(),(y=(P=p.current)==null?void 0:P.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||y.focus())}),S=ps(a,()=>(g.trigger==="hover"||g.trigger==="click-hover")&&g.openDropdown()),C=ps(c,()=>(g.trigger==="hover"||g.trigger==="click-hover")&&g.closeDropdown());return x.jsxs(Dn.Dropdown,{...h,onMouseEnter:S,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:Fn(t,p),...g.getStyles("dropdown",{className:r,style:o,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:w,children:[g.withInitialFocusPlaceholder&&x.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),d]})});Rx.classes=vd;Rx.displayName="@mantine/core/MenuDropdown";const ej={},Nx=fo((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,color:a,closeMenuOnClick:c,leftSection:f,rightSection:d,children:h,disabled:p,"data-disabled":g,...w}=Ne("MenuItem",ej,e),S=Th(),C=Xr(),{dir:k}=ld(),P=N.useRef(null),y=S.getItemIndex(P.current),E=w,M=ps(E.onMouseLeave,()=>S.setHovered(-1)),A=ps(E.onMouseEnter,()=>S.setHovered(S.getItemIndex(P.current))),z=ps(E.onClick,()=>{g||(typeof c=="boolean"?c&&S.closeDropdownImmediately():S.closeOnItemClick&&S.closeDropdownImmediately())}),O=ps(E.onFocus,()=>S.setHovered(S.getItemIndex(P.current))),V=a?C.variantColorResolver({color:a,theme:C,variant:"light"}):void 0,B=a?gl({color:a,theme:C}):null;return x.jsxs(ws,{...w,unstyled:S.unstyled,tabIndex:S.menuItemTabIndex,onFocus:O,...S.getStyles("item",{className:r,style:o,styles:i,classNames:n}),ref:Fn(P,t),role:"menuitem",disabled:p,"data-menu-item":!0,"data-disabled":p||g||void 0,"data-hovered":S.hovered===y?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:A,onMouseLeave:M,onClick:z,onKeyDown:RC({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:S.loop,dir:k,orientation:"vertical",onKeyDown:E.onKeyDown}),__vars:{"--menu-item-color":B!=null&&B.isThemeColor&&(B==null?void 0:B.shade)===void 0?`var(--mantine-color-${B.color}-6)`:V==null?void 0:V.color,"--menu-item-hover":V==null?void 0:V.hover},children:[f&&x.jsx("div",{...S.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:f}),h&&x.jsx("div",{...S.getStyles("itemLabel",{styles:i,classNames:n}),children:h}),d&&x.jsx("div",{...S.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:d})]})});Nx.classes=vd;Nx.displayName="@mantine/core/MenuItem";const tj={},Ax=Ye((e,t)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Ne("MenuLabel",tj,e),c=Th();return x.jsx(Oe,{ref:t,...c.getStyles("label",{className:r,style:o,styles:i,classNames:n}),...a})});Ax.classes=vd;Ax.displayName="@mantine/core/MenuLabel";const nj={refProp:"ref"},j9=N.forwardRef((e,t)=>{const{children:n,refProp:r,...o}=Ne("MenuTarget",nj,e);if(!ml(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Th(),s=n.props,a=ps(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),c=ps(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),f=ps(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return x.jsx(Dn.Target,{refProp:r,popupType:"menu",ref:t,...o,children:N.cloneElement(n,{onClick:a,onMouseEnter:c,onMouseLeave:f,"data-expanded":i.opened?!0:void 0})})});j9.displayName="@mantine/core/MenuTarget";const rj={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function In(e){const t=Ne("Menu",rj,e),{children:n,onOpen:r,onClose:o,opened:i,defaultOpened:s,trapFocus:a,onChange:c,closeOnItemClick:f,loop:d,closeOnEscape:h,trigger:p,openDelay:g,closeDelay:w,classNames:S,styles:C,unstyled:k,variant:P,vars:y,menuItemTabIndex:E,keepMounted:M,withInitialFocusPlaceholder:A,...z}=t,O=ht({name:"Menu",classes:vd,props:t,classNames:S,styles:C,unstyled:k}),[V,{setHovered:B,resetHovered:U}]=bR(),[F,K]=qr({value:i,defaultValue:s,finalValue:!1,onChange:c}),[ne,G]=N.useState(!1),X=()=>{K(!1),G(!1),F&&(o==null||o())},Y=()=>{K(!0),!F&&(r==null||r())},$=()=>{F?X():Y()},{openDropdown:q,closeDropdown:J}=IO({open:Y,close:X,closeDelay:w,openDelay:g}),ie=He=>xR("[data-menu-item]","[data-menu-dropdown]",He),{resolvedClassNames:te,resolvedStyles:de}=bc({classNames:S,styles:C,props:t});return Ko(()=>{U()},[F]),x.jsx(QO,{value:{getStyles:O,opened:F,toggleDropdown:$,getItemIndex:ie,hovered:V,setHovered:B,openedViaClick:ne,setOpenedViaClick:G,closeOnItemClick:f,closeDropdown:p==="click"?X:J,openDropdown:p==="click"?Y:q,closeDropdownImmediately:X,loop:d,trigger:p,unstyled:k,menuItemTabIndex:E,withInitialFocusPlaceholder:A},children:x.jsx(Dn,{...z,opened:F,onChange:$,defaultOpened:s,trapFocus:M?!1:a,closeOnEscape:h,__staticSelector:"Menu",classNames:te,styles:de,unstyled:k,variant:P,keepMounted:M,children:n})})}In.extend=e=>e;In.withProps=oA(In);In.classes=vd;In.displayName="@mantine/core/Menu";In.Item=Nx;In.Label=Ax;In.Dropdown=Rx;In.Target=j9;In.Divider=Tx;const[oj,yd]=xs("Modal component was not found in tree");var ca={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const ij={},Vg=Ye((e,t)=>{const n=Ne("ModalBody",ij,e),{classNames:r,className:o,style:i,styles:s,vars:a,...c}=n,f=yd();return x.jsx(W8,{ref:t,...f.getStyles("body",{classNames:r,style:i,styles:s,className:o}),...c})});Vg.classes=ca;Vg.displayName="@mantine/core/ModalBody";const sj={},Hg=Ye((e,t)=>{const n=Ne("ModalCloseButton",sj,e),{classNames:r,className:o,style:i,styles:s,vars:a,...c}=n,f=yd();return x.jsx(K8,{ref:t,...f.getStyles("close",{classNames:r,style:i,styles:s,className:o}),...c})});Hg.classes=ca;Hg.displayName="@mantine/core/ModalCloseButton";const aj={},Wg=Ye((e,t)=>{const n=Ne("ModalContent",aj,e),{classNames:r,className:o,style:i,styles:s,vars:a,children:c,__hidden:f,...d}=n,h=yd(),p=h.scrollAreaComponent||DI;return x.jsx(Y8,{...h.getStyles("content",{className:o,style:i,styles:s,classNames:r}),innerProps:h.getStyles("inner",{className:o,style:i,styles:s,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":f||void 0,ref:t,...d,children:x.jsx(p,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${_e(h.yOffset)} * 2))`},children:c})})});Wg.classes=ca;Wg.displayName="@mantine/core/ModalContent";const lj={},Kg=Ye((e,t)=>{const n=Ne("ModalHeader",lj,e),{classNames:r,className:o,style:i,styles:s,vars:a,...c}=n,f=yd();return x.jsx(q8,{ref:t,...f.getStyles("header",{classNames:r,style:i,styles:s,className:o}),...c})});Kg.classes=ca;Kg.displayName="@mantine/core/ModalHeader";const cj={},Yg=Ye((e,t)=>{const n=Ne("ModalOverlay",cj,e),{classNames:r,className:o,style:i,styles:s,vars:a,...c}=n,f=yd();return x.jsx(X8,{ref:t,...f.getStyles("overlay",{classNames:r,style:i,styles:s,className:o}),...c})});Yg.classes=ca;Yg.displayName="@mantine/core/ModalOverlay";const uj={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Vi("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},dj=(e,{radius:t,size:n,yOffset:r,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:Hn(t),"--modal-size":_t(n,"modal-size"),"--modal-y-offset":_e(r),"--modal-x-offset":_e(o)}}),qg=Ye((e,t)=>{const n=Ne("ModalRoot",uj,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,yOffset:f,scrollAreaComponent:d,radius:h,fullScreen:p,centered:g,xOffset:w,__staticSelector:S,...C}=n,k=ht({name:S,classes:ca,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:dj});return x.jsx(oj,{value:{yOffset:f,scrollAreaComponent:d,getStyles:k,fullScreen:p},children:x.jsx(H8,{ref:t,...k("root"),"data-full-screen":p||void 0,"data-centered":g||void 0,"data-offset-scrollbars":d===aa.Autosize||void 0,unstyled:a,...C})})});qg.classes=ca;qg.displayName="@mantine/core/ModalRoot";const[fj,hj]=wc();function L9({children:e}){const[t,n]=N.useState([]),[r,o]=N.useState(Vi("modal"));return x.jsx(fj,{value:{stack:t,addModal:(i,s)=>{n(a=>[...new Set([...a,i])]),o(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:i=>n(s=>s.filter(a=>a!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}L9.displayName="@mantine/core/ModalStack";const pj={},Xg=Ye((e,t)=>{const n=Ne("ModalTitle",pj,e),{classNames:r,className:o,style:i,styles:s,vars:a,...c}=n,f=yd();return x.jsx(Q8,{ref:t,...f.getStyles("title",{classNames:r,style:i,styles:s,className:o}),...c})});Xg.classes=ca;Xg.displayName="@mantine/core/ModalTitle";const mj={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Vi("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},jo=Ye((e,t)=>{const{title:n,withOverlay:r,overlayProps:o,withCloseButton:i,closeButtonProps:s,children:a,radius:c,opened:f,stackId:d,zIndex:h,...p}=Ne("Modal",mj,e),g=hj(),w=!!n||i,S=g&&d?{closeOnEscape:g.currentId===d,trapFocus:g.currentId===d,zIndex:g.getZIndex(d)}:{},C=r===!1?!1:d&&g?g.currentId===d:f;return N.useEffect(()=>{g&&d&&(f?g.addModal(d,h||Vi("modal")):g.removeModal(d))},[f,d,h]),x.jsxs(qg,{ref:t,radius:c,opened:f,zIndex:g&&d?g.getZIndex(d):h,...p,...S,children:[r&&x.jsx(Yg,{visible:C,transitionProps:g&&d?{duration:0}:void 0,...o}),x.jsxs(Wg,{radius:c,__hidden:g&&d&&f?d!==g.currentId:!1,children:[w&&x.jsxs(Kg,{children:[n&&x.jsx(Xg,{children:n}),i&&x.jsx(Hg,{...s})]}),x.jsx(Vg,{children:a})]})]})});jo.classes=ca;jo.displayName="@mantine/core/Modal";jo.Root=qg;jo.Overlay=Yg;jo.Content=Wg;jo.Body=Vg;jo.Header=Kg;jo.Title=Xg;jo.CloseButton=Hg;jo.Stack=L9;const[gj,Mx]=wc(),[vj,yj]=wc();var Qg={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const wj={},xj=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?_t(t):_t(n,"pg-gap")}}),Ix=Ye((e,t)=>{const n=Ne("PillGroup",wj,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,size:f,disabled:d,...h}=n,p=Mx(),g=(p==null?void 0:p.size)||f||void 0,w=ht({name:"PillGroup",classes:Qg,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:xj,stylesCtx:{size:g},rootSelector:"group"});return x.jsx(vj,{value:{size:g,disabled:d},children:x.jsx(Oe,{ref:t,size:g,...w("group"),...h})})});Ix.classes=Qg;Ix.displayName="@mantine/core/PillGroup";const bj={variant:"default"},Sj=(e,{radius:t},{size:n})=>({root:{"--pill-fz":_t(n,"pill-fz"),"--pill-height":_t(n,"pill-height"),"--pill-radius":t===void 0?void 0:Hn(t)}}),ih=Ye((e,t)=>{const n=Ne("Pill",bj,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,variant:f,children:d,withRemoveButton:h,onRemove:p,removeButtonProps:g,radius:w,size:S,disabled:C,mod:k,...P}=n,y=yj(),E=Mx(),M=S||(y==null?void 0:y.size)||void 0,A=(E==null?void 0:E.variant)==="filled"?"contrast":f||"default",z=ht({name:"Pill",classes:Qg,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:Sj,stylesCtx:{size:M}});return x.jsxs(Oe,{component:"span",ref:t,variant:A,size:M,...z("root",{variant:A}),mod:[{"with-remove":h&&!C,disabled:C||(y==null?void 0:y.disabled)},k],...P,children:[x.jsx("span",{...z("label"),children:d}),h&&x.jsx(hd,{variant:"transparent",radius:w,tabIndex:-1,"aria-hidden":!0,unstyled:a,...g,...z("remove",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),onMouseDown:O=>{var V;O.preventDefault(),O.stopPropagation(),(V=g==null?void 0:g.onMouseDown)==null||V.call(g,O)},onClick:O=>{var V;O.stopPropagation(),p==null||p(),(V=g==null?void 0:g.onClick)==null||V.call(g,O)}})]})});ih.classes=Qg;ih.displayName="@mantine/core/Pill";ih.Group=Ix;var F9={field:"m_45c4369d"};const _j={type:"visible"},Dx=Ye((e,t)=>{const n=Ne("PillsInputField",_j,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,type:f,disabled:d,id:h,pointer:p,mod:g,...w}=n,S=Mx(),C=pd(),k=ht({name:"PillsInputField",classes:F9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),P=d||(S==null?void 0:S.disabled);return x.jsx(Oe,{component:"input",ref:Fn(t,S==null?void 0:S.fieldRef),"data-type":f,disabled:P,mod:[{disabled:P,pointer:p},g],...k("field"),...w,id:(C==null?void 0:C.inputId)||h,"aria-invalid":S==null?void 0:S.hasError,"aria-describedby":C==null?void 0:C.describedBy,type:"text",onMouseDown:y=>!p&&y.stopPropagation()})});Dx.classes=F9;Dx.displayName="@mantine/core/PillsInputField";const Cj={},Zm=Ye((e,t)=>{const n=Ne("PillsInput",Cj,e),{children:r,onMouseDown:o,onClick:i,size:s,disabled:a,__staticSelector:c,error:f,variant:d,...h}=n,p=N.useRef(null);return x.jsx(gj,{value:{fieldRef:p,size:s,disabled:a,hasError:!!f,variant:d},children:x.jsx(Qo,{size:s,error:f,variant:d,component:"div",ref:t,onMouseDown:g=>{var w;g.preventDefault(),o==null||o(g),(w=p.current)==null||w.focus()},onClick:g=>{var S;g.preventDefault();const w=g.currentTarget.closest("fieldset");w!=null&&w.disabled||((S=p.current)==null||S.focus(),i==null||i(g))},...h,multiline:!0,disabled:a,__staticSelector:c||"PillsInput",withAria:!1,children:r})})});Zm.displayName="@mantine/core/PillsInput";Zm.Field=Dx;var z9={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const kj={withCloseButton:!0},Ej=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Hn(t),"--notification-color":n?gr(n,e):void 0}}),Ox=Ye((e,t)=>{const n=Ne("Notification",kj,e),{className:r,color:o,radius:i,loading:s,withCloseButton:a,withBorder:c,title:f,icon:d,children:h,onClose:p,closeButtonProps:g,classNames:w,style:S,styles:C,unstyled:k,variant:P,vars:y,mod:E,loaderProps:M,role:A,...z}=n,O=ht({name:"Notification",classes:z9,props:n,className:r,style:S,classNames:w,styles:C,unstyled:k,vars:y,varsResolver:Ej});return x.jsxs(Oe,{...O("root"),mod:[{"data-with-icon":!!d||s,"data-with-border":c},E],ref:t,variant:P,role:A||"alert",...z,children:[d&&!s&&x.jsx("div",{...O("icon"),children:d}),s&&x.jsx(dd,{size:28,color:o,...M,...O("loader")}),x.jsxs("div",{...O("body"),children:[f&&x.jsx("div",{...O("title"),children:f}),x.jsx(Oe,{...O("description"),mod:{"data-with-title":!!f},children:h})]}),a&&x.jsx(hd,{iconSize:16,color:"gray",...g,unstyled:k,onClick:p,...O("closeButton")})]})});Ox.classes=z9;Ox.displayName="@mantine/core/Notification";function B9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}var sh;(function(e){e.event="event",e.props="prop"})(sh||(sh={}));function Ha(){}function Pj(e){var t,n=void 0;return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t&&r.length===t.length&&r.every(function(i,s){return i===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function ah(e){return!!(e||"").match(/\d/)}function zu(e){return e==null}function Tj(e){return typeof e=="number"&&isNaN(e)}function $9(e){return zu(e)||Tj(e)||typeof e=="number"&&!isFinite(e)}function U9(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Rj(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Nj(e,t,n){var r=Rj(n),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(r,"$1"+t)}function Aj(e){var t=N.useRef(e);t.current=e;var n=N.useRef(function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t.current.apply(t,r)});return n.current}function jx(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var o=e.split("."),i=o[0],s=o[1]||"";return{beforeDecimal:i,afterDecimal:s,hasNegation:n,addNegation:r}}function Mj(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",o=n[1]||"";return(t?"-":"")+r+(o?"."+o:"")}function G9(e,t,n){for(var r="",o=n?"0":"",i=0;i<=t-1;i++)r+=e[i]||o;return r}function N_(e,t){return Array(t+1).join(e)}function V9(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),o=r[0],i=r[1];if(i=Number(i),!i)return n+o;o=o.replace(".","");var s=1+i,a=o.length;return s<0?o="0."+N_("0",Math.abs(s))+o:s>=a?o=o+N_("0",s-a):o=(o.substring(0,s)||"0")+"."+o.substring(s),n+o}function A_(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,o=jx(e),i=o.beforeDecimal,s=o.afterDecimal,a=o.hasNegation,c=parseFloat("0."+(s||"0")),f=s.length<=t?"0."+s:c.toFixed(t),d=f.split("."),h=i;i&&Number(d[0])&&(h=i.split("").reverse().reduce(function(S,C,k){return S.length>k?(Number(S[0])+Number(C)).toString()+S.substring(1,S.length):C+S},d[0]));var p=G9(d[1]||"",t,n),g=a?"-":"",w=r?".":"";return""+g+h+w+p}function ec(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var H9=Pj(function(e,t){for(var n=0,r=0,o=e.length,i=t.length;e[n]===t[n]&&n<o;)n++;for(;e[o-1-r]===t[i-1-r]&&i-r>n&&o-r>n;)r++;return{from:{start:n,end:o-r},to:{start:n,end:i-r}}}),Ij=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function Dj(e,t,n){return Math.min(Math.max(e,t),n)}function Sy(e){return Math.max(e.selectionStart,e.selectionEnd)}function Oj(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function jj(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Lj(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,o=e.formattedValueIndex;return t[r]===n[o]}function Fj(e,t,n,r,o,i,s){s===void 0&&(s=Lj);var a=o.findIndex(function(E){return E}),c=e.slice(0,a);!t&&!n.startsWith(c)&&(t=c,n=c+n,r=r+c.length);for(var f=n.length,d=e.length,h={},p=new Array(f),g=0;g<f;g++){p[g]=-1;for(var w=0,S=d;w<S;w++){var C=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:g,formattedValueIndex:w});if(C&&h[w]!==!0){p[g]=w,h[w]=!0;break}}}for(var k=r;k<f&&(p[k]===-1||!i(n[k]));)k++;var P=k===f||p[k]===-1?d:p[k];for(k=r-1;k>0&&p[k]===-1;)k--;var y=k===-1||p[k]===-1?0:p[k]+1;return y>P?P:r-y<P-r?y:P}function M_(e,t,n,r){var o=e.length;if(t=Dj(t,0,o),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=o&&!n[t];)t++;t>o&&(t=n.lastIndexOf(!0))}return t===-1&&(t=o),t}function zj(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(ah(e[n])||ah(e[n-1]));return t}function W9(e,t,n,r,o,i){i===void 0&&(i=Ha);var s=Aj(function(w,S){var C,k;return $9(w)?(k="",C=""):typeof w=="number"||S?(k=typeof w=="number"?V9(w):w,C=r(k)):(k=o(w,void 0),C=r(k)),{formattedValue:C,numAsString:k}}),a=N.useState(function(){return s(zu(e)?t:e,n)}),c=a[0],f=a[1],d=function(w,S){w.formattedValue!==c.formattedValue&&f({formattedValue:w.formattedValue,numAsString:w.value}),i(w,S)},h=e,p=n;zu(e)&&(h=c.numAsString,p=!0);var g=s(h,p);return N.useMemo(function(){f(g)},[g.formattedValue]),[c,d]}function Bj(e){return e.replace(/[^0-9]/g,"")}function $j(e){return e}function Uj(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,o=e.renderText,i=e.getInputRef,s=e.format;s===void 0&&(s=$j);var a=e.removeFormatting;a===void 0&&(a=Bj);var c=e.defaultValue,f=e.valueIsNumericString,d=e.onValueChange,h=e.isAllowed,p=e.onChange;p===void 0&&(p=Ha);var g=e.onKeyDown;g===void 0&&(g=Ha);var w=e.onMouseUp;w===void 0&&(w=Ha);var S=e.onFocus;S===void 0&&(S=Ha);var C=e.onBlur;C===void 0&&(C=Ha);var k=e.value,P=e.getCaretBoundary;P===void 0&&(P=zj);var y=e.isValidInputCharacter;y===void 0&&(y=ah);var E=e.isCharacterSame,M=B9(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),A=W9(k,c,!!f,s,a,d),z=A[0],O=z.formattedValue,V=z.numAsString,B=A[1],U=N.useRef(),F=N.useRef({formattedValue:O,numAsString:V}),K=function(je,qe){F.current={formattedValue:je.formattedValue,numAsString:je.value},B(je,qe)},ne=N.useState(!1),G=ne[0],X=ne[1],Y=N.useRef(null),$=N.useRef({setCaretTimeout:null,focusTimeout:null});N.useEffect(function(){return X(!0),function(){clearTimeout($.current.setCaretTimeout),clearTimeout($.current.focusTimeout)}},[]);var q=s,J=function(je,qe){var ot=parseFloat(qe);return{formattedValue:je,value:qe,floatValue:isNaN(ot)?void 0:ot}},ie=function(je,qe,ot){je.selectionStart===0&&je.selectionEnd===je.value.length||(ec(je,qe),$.current.setCaretTimeout=setTimeout(function(){je.value===ot&&je.selectionStart!==qe&&ec(je,qe)},0))},te=function(je,qe,ot){return M_(je,qe,P(je),ot)},de=function(je,qe,ot){var lt=P(qe),ft=Fj(qe,O,je,ot,lt,y,E);return ft=M_(qe,ft,lt),ft},He=function(je){var qe=je.formattedValue;qe===void 0&&(qe="");var ot=je.input,lt=je.source,ft=je.event,Ct=je.numAsString,xt;if(ot){var Be=je.inputValue||ot.value,at=Sy(ot);ot.value=qe,xt=de(Be,qe,at),xt!==void 0&&ie(ot,xt,qe)}qe!==O&&K(J(qe,Ct),{event:ft,source:lt})};N.useEffect(function(){var je=F.current,qe=je.formattedValue,ot=je.numAsString;(O!==qe||V!==ot)&&K(J(O,V),{event:void 0,source:sh.props})},[O,V]);var Te=Y.current?Sy(Y.current):void 0,Ee=typeof window<"u"?N.useLayoutEffect:N.useEffect;Ee(function(){var je=Y.current;if(O!==F.current.formattedValue&&je){var qe=de(F.current.formattedValue,O,Te);je.value=O,ie(je,qe,O)}},[O]);var Q=function(je,qe,ot){var lt=qe.target,ft=U.current?Ij(U.current,lt.selectionEnd):H9(O,je),Ct=Object.assign(Object.assign({},ft),{lastValue:O}),xt=a(je,Ct),Be=q(xt);if(xt=a(Be,void 0),h&&!h(J(Be,xt))){var at=qe.target,kt=Sy(at),tn=de(je,O,kt);return at.value=O,ie(at,tn,O),!1}return He({formattedValue:Be,numAsString:xt,inputValue:je,event:qe,source:ot,input:qe.target}),!0},we=function(je,qe){qe===void 0&&(qe=0);var ot=je.selectionStart,lt=je.selectionEnd;U.current={selectionStart:ot,selectionEnd:lt+qe}},ve=function(je){var qe=je.target,ot=qe.value,lt=Q(ot,je,sh.event);lt&&p(je),U.current=void 0},Re=function(je){var qe=je.target,ot=je.key,lt=qe.selectionStart,ft=qe.selectionEnd,Ct=qe.value;Ct===void 0&&(Ct="");var xt;ot==="ArrowLeft"||ot==="Backspace"?xt=Math.max(lt-1,0):ot==="ArrowRight"?xt=Math.min(lt+1,Ct.length):ot==="Delete"&&(xt=lt);var Be=0;ot==="Delete"&&lt===ft&&(Be=1);var at=ot==="ArrowLeft"||ot==="ArrowRight";if(xt===void 0||lt!==ft&&!at){g(je),we(qe,Be);return}var kt=xt;if(at){var tn=ot==="ArrowLeft"?"left":"right";kt=te(Ct,xt,tn),kt!==xt&&je.preventDefault()}else ot==="Delete"&&!y(Ct[xt])?kt=te(Ct,xt,"right"):ot==="Backspace"&&!y(Ct[xt])&&(kt=te(Ct,xt,"left"));kt!==xt&&ie(qe,kt,Ct),g(je),we(qe,Be)},ke=function(je){var qe=je.target,ot=function(){var lt=qe.selectionStart,ft=qe.selectionEnd,Ct=qe.value;if(Ct===void 0&&(Ct=""),lt===ft){var xt=te(Ct,lt);xt!==lt&&ie(qe,xt,Ct)}};ot(),requestAnimationFrame(function(){ot()}),w(je),we(qe)},Ae=function(je){je.persist&&je.persist();var qe=je.target,ot=je.currentTarget;Y.current=qe,$.current.focusTimeout=setTimeout(function(){var lt=qe.selectionStart,ft=qe.selectionEnd,Ct=qe.value;Ct===void 0&&(Ct="");var xt=te(Ct,lt);xt!==lt&&!(lt===0&&ft===Ct.length)&&ie(qe,xt,Ct),S(Object.assign(Object.assign({},je),{currentTarget:ot}))},0)},Me=function(je){Y.current=null,clearTimeout($.current.focusTimeout),clearTimeout($.current.setCaretTimeout),C(je)},Ze=G&&Oj()?"numeric":void 0,Qe=Object.assign({inputMode:Ze},M,{type:t,value:O,onChange:ve,onKeyDown:Re,onMouseUp:ke,onFocus:Ae,onBlur:Me});if(n==="text")return o?Rt.createElement(Rt.Fragment,null,o(O,M)||null):Rt.createElement("span",Object.assign({},M,{ref:i}),O);if(r){var cn=r;return Rt.createElement(cn,Object.assign({},Qe,{ref:i}))}return Rt.createElement("input",Object.assign({},Qe,{ref:i}))}function I_(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,o=t.prefix;o===void 0&&(o="");var i=t.suffix;i===void 0&&(i="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var c=Zg(t),f=c.thousandSeparator,d=c.decimalSeparator,h=n!==0&&e.indexOf(".")!==-1||n&&r,p=jx(e,s),g=p.beforeDecimal,w=p.afterDecimal,S=p.addNegation;return n!==void 0&&(w=G9(w,n,!!r)),f&&(g=Nj(g,f,a)),o&&(g=o+g),i&&(w=w+i),S&&(g="-"+g),e=g+(h&&d||"")+w,e}function Zg(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function Gj(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),o=n.test(e),i=r.test(e);return e=e.replace(/-/g,""),o&&!i&&t&&(e="-"+e),e}function Vj(e,t){return new RegExp("(^-)|[0-9]|"+U9(e),"g")}function Hj(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Wj(e,t,n){var r;t===void 0&&(t=jj(e));var o=n.allowNegative,i=n.prefix;i===void 0&&(i="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,c=t.from,f=t.to,d=f.start,h=f.end,p=Zg(n),g=p.allowedDecimalSeparators,w=p.decimalSeparator,S=e[h]===w;if(ah(e)&&(e===i||e===s)&&t.lastValue==="")return e;if(h-d===1&&g.indexOf(e[d])!==-1){var C=a===0?"":w;e=e.substring(0,d)+C+e.substring(d+1,e.length)}var k=function(Y,$,q){var J=!1,ie=!1;i.startsWith("-")?J=!1:Y.startsWith("--")?(J=!1,ie=!0):s.startsWith("-")&&Y.length===s.length?J=!1:Y[0]==="-"&&(J=!0);var te=J?1:0;return ie&&(te=2),te&&(Y=Y.substring(te),$-=te,q-=te),{value:Y,start:$,end:q,hasNegation:J}},P=k(e,d,h),y=P.hasNegation;r=P,e=r.value,d=r.start,h=r.end;var E=k(t.lastValue,c.start,c.end),M=E.start,A=E.end,z=E.value,O=e.substring(d,h);e.length&&z.length&&(M>z.length-s.length||A<i.length)&&!(O&&s.startsWith(O))&&(e=z);var V=0;e.startsWith(i)?V+=i.length:d<i.length&&(V=d),e=e.substring(V),h-=V;var B=e.length,U=e.length-s.length;e.endsWith(s)?B=U:(h>U||h>e.length-s.length)&&(B=h),e=e.substring(0,B),e=Gj(y?"-"+e:e,o),e=(e.match(Vj(w))||[]).join("");var F=e.indexOf(w);e=e.replace(new RegExp(U9(w),"g"),function(Y,$){return $===F?".":""});var K=jx(e,o),ne=K.beforeDecimal,G=K.afterDecimal,X=K.addNegation;return f.end-f.start<c.end-c.start&&ne===""&&S&&!parseFloat(G)&&(e=X?"-":""),e}function Kj(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var o=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";o.fill(!1,0,n.length+(i?1:0));var s=e.length;return o.fill(!1,s-r.length+1,s+1),o}function Yj(e){var t=Zg(e),n=t.thousandSeparator,r=t.decimalSeparator,o=e.prefix;o===void 0&&(o="");var i=e.allowNegative;if(i===void 0&&(i=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function qj(e){e=Yj(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=Ha);var i=e.onBlur;i===void 0&&(i=Ha);var s=e.thousandSeparator,a=e.decimalScale,c=e.fixedDecimalScale,f=e.prefix;f===void 0&&(f="");var d=e.defaultValue,h=e.value,p=e.valueIsNumericString,g=e.onValueChange,w=B9(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),S=Zg(e),C=S.decimalSeparator,k=S.allowedDecimalSeparators,P=function(X){return I_(X,e)},y=function(X,Y){return Wj(X,Y,e)},E=zu(h)?d:h,M=p??Hj(E,f,t);zu(h)?zu(d)||(M=M||typeof d=="number"):M=M||typeof h=="number";var A=function(X){return $9(X)?X:(typeof X=="number"&&(X=V9(X)),M&&typeof a=="number"?A_(X,a,!!c):X)},z=W9(A(h),A(d),!!M,P,y,g),O=z[0],V=O.numAsString,B=O.formattedValue,U=z[1],F=function(X){var Y=X.target,$=X.key,q=Y.selectionStart,J=Y.selectionEnd,ie=Y.value;if(ie===void 0&&(ie=""),($==="Backspace"||$==="Delete")&&J<f.length){X.preventDefault();return}if(q!==J){o(X);return}$==="Backspace"&&ie[0]==="-"&&q===f.length+1&&n&&ec(Y,1),a&&c&&($==="Backspace"&&ie[q-1]===C?(ec(Y,q-1),X.preventDefault()):$==="Delete"&&ie[q]===C&&X.preventDefault()),k!=null&&k.includes($)&&ie[q]===C&&ec(Y,q+1);var te=s===!0?",":s;$==="Backspace"&&ie[q-1]===te&&ec(Y,q-1),$==="Delete"&&ie[q]===te&&ec(Y,q+1),o(X)},K=function(X){var Y=V;if(Y.match(/\d/g)||(Y=""),r||(Y=Mj(Y)),c&&a&&(Y=A_(Y,a,c)),Y!==V){var $=I_(Y,e);U({formattedValue:$,value:Y,floatValue:parseFloat(Y)},{event:X,source:sh.event})}i(X)},ne=function(X){return X===C?!0:ah(X)},G=function(X){var Y=X.currentValue,$=X.lastValue,q=X.formattedValue,J=X.currentValueIndex,ie=X.formattedValueIndex,te=Y[J],de=q[ie],He=H9($,Y),Te=He.to,Ee=function(Q){return y(Q).indexOf(".")+f.length};return h===0&&c&&a&&Y[Te.start]===C&&Ee(Y)<J&&Ee(q)>ie?!1:J>=Te.start&&J<Te.end&&k&&k.includes(te)&&de===C?!0:te===de};return Object.assign(Object.assign({},w),{value:B,valueIsNumericString:!1,isValidInputCharacter:ne,isCharacterSame:G,onValueChange:U,format:P,removeFormatting:y,getCaretBoundary:function(X){return Kj(X,e)},onKeyDown:F,onBlur:K})}function Xj(e){var t=qj(e);return Rt.createElement(Uj,Object.assign({},t))}function D_({direction:e,style:t,...n}){return x.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:x.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var J1={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Qj=/^(0\.0*|-0(\.0*)?)$/,Zj=/^-?0\d+(\.\d+)?\.?$/;function e2(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function _y(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||e2(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function Jj(e){return e.toString().replace(".","").length}function eL(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&Jj(t)<14&&t!==""}function O_(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,o=n===void 0||e<=n;return r&&o}const tL={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},nL=(e,{size:t})=>({controls:{"--ni-chevron-size":_t(t,"ni-chevron-size")}});function rL(e,t,n){const r=e.toString().replace(/^0+/,""),o=parseFloat(r);return Number.isNaN(o)?r:o>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):r:sl(o,n,t)}const fn=Ye((e,t)=>{const n=Ne("NumberInput",tL,e),{className:r,classNames:o,styles:i,unstyled:s,vars:a,onChange:c,onValueChange:f,value:d,defaultValue:h,max:p,min:g,step:w,hideControls:S,rightSection:C,isAllowed:k,clampBehavior:P,onBlur:y,allowDecimal:E,decimalScale:M,onKeyDown:A,onKeyDownCapture:z,handlersRef:O,startValue:V,disabled:B,rightSectionPointerEvents:U,allowNegative:F,readOnly:K,size:ne,rightSectionWidth:G,stepHoldInterval:X,stepHoldDelay:Y,allowLeadingZeros:$,withKeyboardEvents:q,trimLeadingZeroesOnBlur:J,...ie}=n,te=ht({name:"NumberInput",classes:J1,props:n,classNames:o,styles:i,unstyled:s,vars:a,varsResolver:nL}),{resolvedClassNames:de,resolvedStyles:He}=bc({classNames:o,styles:i,props:n}),[Te,Ee]=qr({value:d,defaultValue:h,finalValue:"",onChange:c}),Q=Y!==void 0&&X!==void 0,we=N.useRef(null),ve=N.useRef(null),Re=N.useRef(0),ke=(Be,at)=>{at.source==="event"&&Ee(eL(Be.floatValue,Be.value)&&!Qj.test(Be.value)&&!($&&Zj.test(Be.value))?Be.floatValue:Be.value),f==null||f(Be,at)},Ae=Be=>{const at=String(Be).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return at?Math.max(0,(at[1]?at[1].length:0)-(at[2]?+at[2]:0)):0},Me=Be=>{we.current&&typeof Be<"u"&&we.current.setSelectionRange(Be,Be)},Ze=N.useRef(j1);Ze.current=()=>{if(!_y(Te))return;let Be;const at=Ae(Te),kt=Ae(w),tn=Math.max(at,kt),En=10**tn;if(!e2(Te)&&(typeof Te!="number"||Number.isNaN(Te)))Be=sl(V,g,p);else if(p!==void 0){const Wt=(Math.round(Number(Te)*En)+Math.round(w*En))/En;Be=Wt<=p?Wt:p}else Be=(Math.round(Number(Te)*En)+Math.round(w*En))/En;const At=Be.toFixed(tn);Ee(parseFloat(At)),f==null||f({floatValue:parseFloat(At),formattedValue:At,value:At},{source:"increment"}),setTimeout(()=>{var Wt;return Me((Wt=we.current)==null?void 0:Wt.value.length)},0)};const Qe=N.useRef(j1);Qe.current=()=>{if(!_y(Te))return;let Be;const at=g!==void 0?g:F?Number.MIN_SAFE_INTEGER:0,kt=Ae(Te),tn=Ae(w),En=Math.max(kt,tn),At=10**En;if(!e2(Te)&&typeof Te!="number"||Number.isNaN(Te))Be=sl(V,at,p);else{const qt=(Math.round(Number(Te)*At)-Math.round(w*At))/At;Be=at!==void 0&&qt<at?at:qt}const Wt=Be.toFixed(En);Ee(parseFloat(Wt)),f==null||f({floatValue:parseFloat(Wt),formattedValue:Wt,value:Wt},{source:"decrement"}),setTimeout(()=>{var qt;return Me((qt=we.current)==null?void 0:qt.value.length)},0)};const cn=Be=>{A==null||A(Be),!(K||!q)&&(Be.key==="ArrowUp"&&(Be.preventDefault(),Ze.current()),Be.key==="ArrowDown"&&(Be.preventDefault(),Qe.current()))},je=Be=>{if(z==null||z(Be),Be.key==="Backspace"){const at=we.current;at.selectionStart===0&&at.selectionStart===at.selectionEnd&&(Be.preventDefault(),window.setTimeout(()=>Me(0),0))}},qe=Be=>{let at=Te;P==="blur"&&typeof at=="number"&&(at=sl(at,g,p)),J&&typeof at=="string"&&Ae(at)<15&&(at=rL(at,p,g)),Te!==at&&Ee(at),y==null||y(Be)};nh(O,{increment:Ze.current,decrement:Qe.current});const ot=Be=>{Be?Ze.current():Qe.current(),Re.current+=1},lt=Be=>{if(ot(Be),Q){const at=typeof X=="number"?X:X(Re.current);ve.current=window.setTimeout(()=>lt(Be),at)}},ft=(Be,at)=>{var kt;Be.preventDefault(),(kt=we.current)==null||kt.focus(),ot(at),Q&&(ve.current=window.setTimeout(()=>lt(at),Y))},Ct=()=>{ve.current&&window.clearTimeout(ve.current),ve.current=null,Re.current=0},xt=x.jsxs("div",{...te("controls"),children:[x.jsx(ws,{...te("control"),tabIndex:-1,"aria-hidden":!0,disabled:B||typeof Te=="number"&&p!==void 0&&Te>=p,mod:{direction:"up"},onMouseDown:Be=>Be.preventDefault(),onPointerDown:Be=>{ft(Be,!0)},onPointerUp:Ct,onPointerLeave:Ct,children:x.jsx(D_,{direction:"up"})}),x.jsx(ws,{...te("control"),tabIndex:-1,"aria-hidden":!0,disabled:B||typeof Te=="number"&&g!==void 0&&Te<=g,mod:{direction:"down"},onMouseDown:Be=>Be.preventDefault(),onPointerDown:Be=>{ft(Be,!1)},onPointerUp:Ct,onPointerLeave:Ct,children:x.jsx(D_,{direction:"down"})})]});return x.jsx(Qo,{component:Xj,allowNegative:F,className:mr(J1.root,r),size:ne,...ie,readOnly:K,disabled:B,value:Te,getInputRef:Fn(t,we),onValueChange:ke,rightSection:S||K||!_y(Te)?C:C||xt,classNames:de,styles:He,unstyled:s,__staticSelector:"NumberInput",decimalScale:E?M:0,onKeyDown:cn,onKeyDownCapture:je,rightSectionPointerEvents:U??(B?"none":void 0),rightSectionWidth:G??`var(--ni-right-section-width-${ne||"sm"})`,allowLeadingZeros:$,onBlur:qe,isAllowed:Be=>P==="strict"?k?k(Be)&&O_(Be.floatValue,g,p):O_(Be.floatValue,g,p):k?k(Be):!0})});fn.classes={...Qo.classes,...J1};fn.displayName="@mantine/core/NumberInput";const oL={duration:100,transition:"fade"};function iL(e,t){return{...oL,...t,...e}}function sL({offset:e,position:t,defaultOpened:n}){const[r,o]=N.useState(n),i=N.useRef(null),{x:s,y:a,elements:c,refs:f,update:d,placement:h}=jw({placement:t,middleware:[Mw({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=h.includes("right")?e:t.includes("left")?e*-1:0,g=h.includes("bottom")?e:t.includes("top")?e*-1:0,w=N.useCallback(({clientX:S,clientY:C})=>{f.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:S,y:C,left:S+p,top:C+g,right:S,bottom:C}}})},[c.reference]);return N.useEffect(()=>{if(f.floating.current){const S=i.current;S.addEventListener("mousemove",w);const C=qs(f.floating.current);return C.forEach(k=>{k.addEventListener("scroll",d)}),()=>{S.removeEventListener("mousemove",w),C.forEach(k=>{k.removeEventListener("scroll",d)})}}},[c.reference,f.floating.current,d,w,r]),{handleMouseMove:w,x:s,y:a,opened:r,setOpened:o,boundaryRef:i,floating:f.setFloating}}var Jg={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const aL={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Vi("popover")},lL=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Hn(t),"--tooltip-bg":n?gr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Lx=Ye((e,t)=>{const n=Ne("TooltipFloating",aL,e),{children:r,refProp:o,withinPortal:i,style:s,className:a,classNames:c,styles:f,unstyled:d,radius:h,color:p,label:g,offset:w,position:S,multiline:C,zIndex:k,disabled:P,defaultOpened:y,variant:E,vars:M,portalProps:A,...z}=n,O=Xr(),V=ht({name:"TooltipFloating",props:n,classes:Jg,className:a,style:s,classNames:c,styles:f,unstyled:d,rootSelector:"tooltip",vars:M,varsResolver:lL}),{handleMouseMove:B,x:U,y:F,opened:K,boundaryRef:ne,floating:G,setOpened:X}=sL({offset:w,position:S,defaultOpened:y});if(!ml(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Y=Fn(ne,Pg(r),t),$=r.props,q=ie=>{var te;(te=$.onMouseEnter)==null||te.call($,ie),B(ie),X(!0)},J=ie=>{var te;(te=$.onMouseLeave)==null||te.call($,ie),X(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(Sc,{...A,withinPortal:i,children:x.jsx(Oe,{...z,...V("tooltip",{style:{...WC(s,O),zIndex:k,display:!P&&K?"block":"none",top:(F&&Math.round(F))??"",left:(U&&Math.round(U))??""}}),variant:E,ref:G,mod:{multiline:C},children:g})}),N.cloneElement(r,{...$,[o]:Y,onMouseEnter:q,onMouseLeave:J})]})});Lx.classes=Jg;Lx.displayName="@mantine/core/TooltipFloating";const K9=N.createContext(!1),cL=K9.Provider,uL=()=>N.useContext(K9),dL={openDelay:0,closeDelay:0};function Fx(e){const{openDelay:t,closeDelay:n,children:r}=Ne("TooltipGroup",dL,e);return x.jsx(cL,{value:!0,children:x.jsx(RM,{delay:{open:t,close:n},children:r})})}Fx.displayName="@mantine/core/TooltipGroup";Fx.extend=e=>e;function fL(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function hL(e){const t=fL(e.middlewares),n=[u8(e.offset)];return t.shift&&n.push(Mw(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?Xm():Xm(t.flip)),n.push(d8({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?Lf():Lf(t.inline)):e.inline&&n.push(Lf()),n}function pL(e){var A,z,O;const[t,n]=N.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,i=uL(),s=Hi(),a=N.useCallback(V=>{n(V),V&&P(s)},[s]),{x:c,y:f,context:d,refs:h,update:p,placement:g,middlewareData:{arrow:{x:w,y:S}={}}}=jw({strategy:e.strategy,placement:e.position,open:o,onOpenChange:a,middleware:hL(e)}),{delay:C,currentId:k,setCurrentId:P}=NM(d,{id:s}),{getReferenceProps:y,getFloatingProps:E}=LM([PM(d,{enabled:(A=e.events)==null?void 0:A.hover,delay:i?C:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((z=e.events)!=null&&z.touch)}),jM(d,{enabled:(O=e.events)==null?void 0:O.focus,visibleOnly:!0}),zM(d,{role:"tooltip"}),DM(d,{enabled:typeof e.opened>"u"})]);L8({opened:o,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:h,update:p}}),Ko(()=>{var V;(V=e.onPositionChange)==null||V.call(e,g)},[g]);const M=o&&k&&k!==s;return{x:c,y:f,arrowX:w,arrowY:S,reference:h.setReference,floating:h.setFloating,getFloatingProps:E,getReferenceProps:y,isGroupPhase:M,opened:o,placement:g}}const j_={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Vi("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},mL=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Hn(t),"--tooltip-bg":n?gr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),$n=Ye((e,t)=>{const n=Ne("Tooltip",j_,e),{children:r,position:o,refProp:i,label:s,openDelay:a,closeDelay:c,onPositionChange:f,opened:d,defaultOpened:h,withinPortal:p,radius:g,color:w,classNames:S,styles:C,unstyled:k,style:P,className:y,withArrow:E,arrowSize:M,arrowOffset:A,arrowRadius:z,arrowPosition:O,offset:V,transitionProps:B,multiline:U,events:F,zIndex:K,disabled:ne,positionDependencies:G,onClick:X,onMouseEnter:Y,onMouseLeave:$,inline:q,variant:J,keepMounted:ie,vars:te,portalProps:de,mod:He,floatingStrategy:Te,middlewares:Ee,...Q}=Ne("Tooltip",j_,n),{dir:we}=ld(),ve=N.useRef(null),Re=pL({position:N8(we,o),closeDelay:c,openDelay:a,onPositionChange:f,opened:d,defaultOpened:h,events:F,arrowRef:ve,arrowOffset:A,offset:typeof V=="number"?V+(E?M/2:0):V,positionDependencies:[...G,r],inline:q,strategy:Te,middlewares:Ee}),ke=ht({name:"Tooltip",props:n,classes:Jg,className:y,style:P,classNames:S,styles:C,unstyled:k,rootSelector:"tooltip",vars:te,varsResolver:mL});if(!ml(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Ae=Fn(Re.reference,Pg(r),t),Me=iL(B,{duration:100,transition:"fade"}),Ze=r.props;return x.jsxs(x.Fragment,{children:[x.jsx(Sc,{...de,withinPortal:p,children:x.jsx(vl,{...Me,keepMounted:ie,mounted:!ne&&!!Re.opened,duration:Re.isGroupPhase?10:Me.duration,children:Qe=>x.jsxs(Oe,{...Q,"data-fixed":Te==="fixed"||void 0,variant:J,mod:[{multiline:U},He],...Re.getFloatingProps({ref:Re.floating,className:ke("tooltip").className,style:{...ke("tooltip").style,...Qe,zIndex:K,top:Re.y??0,left:Re.x??0}}),children:[s,x.jsx($w,{ref:ve,arrowX:Re.arrowX,arrowY:Re.arrowY,visible:E,position:Re.placement,arrowSize:M,arrowOffset:A,arrowRadius:z,arrowPosition:O,...ke("arrow")})]})})}),N.cloneElement(r,Re.getReferenceProps({onClick:X,onMouseEnter:Y,onMouseLeave:$,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:mr(y,Ze.className),...Ze,[i]:Ae}))]})});$n.classes=Jg;$n.displayName="@mantine/core/Tooltip";$n.Floating=Lx;$n.Group=Fx;var Y9={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const gL={withItemsBorders:!0},vL=(e,{radius:t,color:n,transitionDuration:r,size:o,transitionTimingFunction:i})=>({root:{"--sc-radius":t===void 0?void 0:Hn(t),"--sc-color":n?gr(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":_t(o,"sc-padding"),"--sc-font-size":Mr(o)}}),zx=Ye((e,t)=>{var we,ve;const n=Ne("SegmentedControl",gL,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,data:f,value:d,defaultValue:h,onChange:p,size:g,name:w,disabled:S,readOnly:C,fullWidth:k,orientation:P,radius:y,color:E,transitionDuration:M,transitionTimingFunction:A,variant:z,autoContrast:O,withItemsBorders:V,mod:B,...U}=n,F=ht({name:"SegmentedControl",props:n,classes:Y9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:vL}),K=Xr(),ne=f.map(Re=>typeof Re=="string"?{label:Re,value:Re}:Re),G=KR(),[X,Y]=N.useState(Hm()),[$,q]=N.useState(null),[J,ie]=N.useState({}),te=(Re,ke)=>{J[ke]=Re,ie(J)},[de,He]=qr({value:d,defaultValue:h,finalValue:Array.isArray(f)?((we=ne.find(Re=>!Re.disabled))==null?void 0:we.value)??((ve=f[0])==null?void 0:ve.value)??null:null,onChange:p}),Te=Hi(w),Ee=ne.map(Re=>N.createElement(Oe,{...F("control"),mod:{active:de===Re.value,orientation:P},key:Re.value},N.createElement("input",{...F("input"),disabled:S||Re.disabled,type:"radio",name:Te,value:Re.value,id:`${Te}-${Re.value}`,checked:de===Re.value,onChange:()=>!C&&He(Re.value),"data-focus-ring":K.focusRing,key:`${Re.value}-input`}),N.createElement(Oe,{component:"label",...F("label"),mod:{active:de===Re.value&&!(S||Re.disabled),disabled:S||Re.disabled,"read-only":C},htmlFor:`${Te}-${Re.value}`,ref:ke=>te(ke,Re.value),__vars:{"--sc-label-color":E!==void 0?bh({color:E,theme:K,autoContrast:O}):void 0},key:`${Re.value}-label`},x.jsx("span",{...F("innerLabel"),children:Re.label})))),Q=Fn(t,Re=>q(Re));return $R(()=>{Y(Hm())},[f.length]),f.length===0?null:x.jsxs(Oe,{...F("root"),variant:z,size:g,ref:Q,mod:[{"full-width":k,orientation:P,initialized:G,"with-items-borders":V},B],...U,role:"radiogroup","data-disabled":S,children:[typeof de=="string"&&x.jsx(Kw,{target:J[de],parent:$,component:"span",transitionDuration:"var(--sc-transition-duration)",...F("indicator")},X),Ee]})});zx.classes=Y9;zx.displayName="@mantine/core/SegmentedControl";const yL={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Wa=Ye((e,t)=>{const n=Ne("Select",yL,e),{classNames:r,styles:o,unstyled:i,vars:s,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:f,onDropdownOpen:d,onFocus:h,onBlur:p,onClick:g,onChange:w,data:S,value:C,defaultValue:k,selectFirstOptionOnChange:P,onOptionSubmit:y,comboboxProps:E,readOnly:M,disabled:A,filter:z,limit:O,withScrollArea:V,maxDropdownHeight:B,size:U,searchable:F,rightSection:K,checkIconPosition:ne,withCheckIcon:G,nothingFoundMessage:X,name:Y,form:$,searchValue:q,defaultSearchValue:J,onSearchChange:ie,allowDeselect:te,error:de,rightSectionPointerEvents:He,id:Te,clearable:Ee,clearButtonProps:Q,hiddenInputProps:we,renderOption:ve,onClear:Re,autoComplete:ke,scrollAreaProps:Ae,__defaultRightSection:Me,__clearSection:Ze,__clearable:Qe,chevronColor:cn,...je}=n,qe=N.useMemo(()=>r9(S),[S]),ot=N.useMemo(()=>ex(qe),[qe]),lt=Hi(Te),[ft,Ct,xt]=qr({value:C,defaultValue:k,finalValue:null,onChange:w}),Be=typeof ft=="string"?ot[ft]:void 0,at=GR(Be),[kt,tn,En]=qr({value:q,defaultValue:J,finalValue:Be?Be.label:"",onChange:ie}),At=dx({opened:a,defaultOpened:c,onDropdownOpen:()=>{d==null||d(),At.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{f==null||f(),At.resetSelectedOption()}}),Wt=Xt=>{tn(Xt),At.resetSelectedOption()},{resolvedClassNames:qt,resolvedStyles:Dr}=bc({props:n,styles:o,classNames:r});N.useEffect(()=>{P&&At.selectFirstOption()},[P,kt]),N.useEffect(()=>{C===null&&Wt(""),typeof C=="string"&&Be&&((at==null?void 0:at.value)!==Be.value||(at==null?void 0:at.label)!==Be.label)&&Wt(Be.label)},[C,Be]),N.useEffect(()=>{var Xt;!xt&&!En&&Wt(typeof ft=="string"&&((Xt=ot[ft])==null?void 0:Xt.label)||"")},[S,ft]);const An=x.jsx(Yt.ClearButton,{...Q,onClear:()=>{Ct(null,null),Wt(""),Re==null||Re()}}),po=Ee&&!!ft&&!A&&!M;return x.jsxs(x.Fragment,{children:[x.jsxs(Yt,{store:At,__staticSelector:"Select",classNames:qt,styles:Dr,unstyled:i,readOnly:M,onOptionSubmit:Xt=>{y==null||y(Xt);const Je=te&&ot[Xt].value===ft?null:ot[Xt],Kn=Je?Je.value:null;Kn!==ft&&Ct(Kn,Je),!xt&&Wt(typeof Kn=="string"&&(Je==null?void 0:Je.label)||""),At.closeDropdown()},size:U,...E,children:[x.jsx(Yt.Target,{targetType:F?"input":"button",autoComplete:ke,children:x.jsx(Qo,{id:lt,ref:t,__defaultRightSection:x.jsx(Yt.Chevron,{size:U,error:de,unstyled:i,color:cn}),__clearSection:An,__clearable:po,rightSection:K,rightSectionPointerEvents:He||(po?"all":"none"),...je,size:U,__staticSelector:"Select",disabled:A,readOnly:M||!F,value:kt,onChange:Xt=>{Wt(Xt.currentTarget.value),At.openDropdown(),P&&At.selectFirstOption()},onFocus:Xt=>{F&&At.openDropdown(),h==null||h(Xt)},onBlur:Xt=>{var Je;F&&At.closeDropdown(),Wt(ft!=null&&((Je=ot[ft])==null?void 0:Je.label)||""),p==null||p(Xt)},onClick:Xt=>{F?At.openDropdown():At.toggleDropdown(),g==null||g(Xt)},classNames:qt,styles:Dr,unstyled:i,pointer:!F,error:de})}),x.jsx(S9,{data:qe,hidden:M||A,filter:z,search:kt,limit:O,hiddenWhenEmpty:!X,withScrollArea:V,maxDropdownHeight:B,filterOptions:F&&(Be==null?void 0:Be.label)!==kt,value:ft,checkIconPosition:ne,withCheckIcon:G,nothingFoundMessage:X,unstyled:i,labelId:je.label?`${lt}-label`:void 0,"aria-label":je.label?void 0:je["aria-label"],renderOption:ve,scrollAreaProps:Ae})]}),x.jsx(Yt.HiddenInput,{value:ft,name:Y,form:$,disabled:A,...we})]})});Wa.classes={...Qo.classes,...Yt.classes};Wa.displayName="@mantine/core/Select";function wL({spacing:e,verticalSpacing:t,cols:n,selector:r}){var d;const o=Xr(),i=t===void 0?e:t,s=xh({"--sg-spacing-x":ao(Lu(e)),"--sg-spacing-y":ao(Lu(i)),"--sg-cols":(d=Lu(n))==null?void 0:d.toString()}),a=er(o.breakpoints).reduce((h,p)=>(h[p]||(h[p]={}),typeof e=="object"&&e[p]!==void 0&&(h[p]["--sg-spacing-x"]=ao(e[p])),typeof i=="object"&&i[p]!==void 0&&(h[p]["--sg-spacing-y"]=ao(i[p])),typeof n=="object"&&n[p]!==void 0&&(h[p]["--sg-cols"]=n[p]),h),{}),f=L1(er(a),o.breakpoints).filter(h=>er(a[h.value]).length>0).map(h=>({query:`(min-width: ${o.breakpoints[h.value]})`,styles:a[h.value]}));return x.jsx(Rg,{styles:s,media:f,selector:r})}function Cy(e){return typeof e=="object"&&e!==null?er(e):[]}function xL(e){return e.sort((t,n)=>th(t)-th(n))}function bL({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...Cy(e),...Cy(t),...Cy(n)]));return xL(r)}function SL({spacing:e,verticalSpacing:t,cols:n,selector:r}){var f;const o=t===void 0?e:t,i=xh({"--sg-spacing-x":ao(Lu(e)),"--sg-spacing-y":ao(Lu(o)),"--sg-cols":(f=Lu(n))==null?void 0:f.toString()}),s=bL({spacing:e,verticalSpacing:t,cols:n}),a=s.reduce((d,h)=>(d[h]||(d[h]={}),typeof e=="object"&&e[h]!==void 0&&(d[h]["--sg-spacing-x"]=ao(e[h])),typeof o=="object"&&o[h]!==void 0&&(d[h]["--sg-spacing-y"]=ao(o[h])),typeof n=="object"&&n[h]!==void 0&&(d[h]["--sg-cols"]=n[h]),d),{}),c=s.map(d=>({query:`simple-grid (min-width: ${d})`,styles:a[d]}));return x.jsx(Rg,{styles:i,container:c,selector:r})}var q9={container:"m_925c2d2c",root:"m_2415a157"};const _L={cols:1,spacing:"md",type:"media"},Bx=Ye((e,t)=>{const n=Ne("SimpleGrid",_L,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,cols:f,verticalSpacing:d,spacing:h,type:p,...g}=n,w=ht({name:"SimpleGrid",classes:q9,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c}),S=HC();return p==="container"?x.jsxs(x.Fragment,{children:[x.jsx(SL,{...n,selector:`.${S}`}),x.jsx("div",{...w("container"),children:x.jsx(Oe,{ref:t,...w("root",{className:S}),...g})})]}):x.jsxs(x.Fragment,{children:[x.jsx(wL,{...n,selector:`.${S}`}),x.jsx(Oe,{ref:t,...w("root",{className:S}),...g})]})});Bx.classes=q9;Bx.displayName="@mantine/core/SimpleGrid";var X9={root:"m_6d731127"};const CL={gap:"md",align:"stretch",justify:"flex-start"},kL=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":ao(t),"--stack-align":n,"--stack-justify":r}}),$t=Ye((e,t)=>{const n=Ne("Stack",CL,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,align:f,justify:d,gap:h,variant:p,...g}=n,w=ht({name:"Stack",props:n,classes:X9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:kL});return x.jsx(Oe,{ref:t,...w("root"),variant:p,...g})});$t.classes=X9;$t.displayName="@mantine/core/Stack";const Q9=N.createContext(null),EL=Q9.Provider,PL=()=>N.useContext(Q9),TL={},$x=Ye((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:i,wrapperProps:s,children:a,readOnly:c,...f}=Ne("SwitchGroup",TL,e),[d,h]=qr({value:n,defaultValue:r,finalValue:[],onChange:o}),p=g=>{const w=g.currentTarget.value;!c&&h(d.includes(w)?d.filter(S=>S!==w):[...d,w])};return x.jsx(EL,{value:{value:d,onChange:p,size:i},children:x.jsx(Vn.Wrapper,{size:i,ref:t,...s,...f,labelElement:"div",__staticSelector:"SwitchGroup",children:x.jsx(p9,{role:"group",children:a})})})});$x.classes=Vn.Wrapper.classes;$x.displayName="@mantine/core/SwitchGroup";var Z9={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const RL={labelPosition:"right"},NL=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Hn(t),"--switch-height":_t(r,"switch-height"),"--switch-width":_t(r,"switch-width"),"--switch-thumb-size":_t(r,"switch-thumb-size"),"--switch-label-font-size":_t(r,"switch-label-font-size"),"--switch-track-label-padding":_t(r,"switch-track-label-padding"),"--switch-color":n?gr(n,e):void 0}}),fs=Ye((e,t)=>{const n=Ne("Switch",RL,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,color:f,label:d,offLabel:h,onLabel:p,id:g,size:w,radius:S,wrapperProps:C,thumbIcon:k,checked:P,defaultChecked:y,onChange:E,labelPosition:M,description:A,error:z,disabled:O,variant:V,rootRef:B,mod:U,...F}=n,K=PL(),ne=w||(K==null?void 0:K.size),G=ht({name:"Switch",props:n,classes:Z9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:NL}),{styleProps:X,rest:Y}=ad(F),$=Hi(g),q=K?{checked:K.value.includes(Y.value),onChange:K.onChange}:{},[J,ie]=qr({value:q.checked??P,defaultValue:y,finalValue:!1});return x.jsxs(fx,{...G("root"),__staticSelector:"Switch",__stylesApiProps:n,id:$,size:ne,labelPosition:M,label:d,description:A,error:z,disabled:O,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":q.checked||P||void 0,variant:V,ref:B,mod:U,...X,...C,children:[x.jsx("input",{...Y,disabled:O,checked:J,"data-checked":q.checked||P||void 0,onChange:te=>{var de;K?(de=q.onChange)==null||de.call(q,te):E==null||E(te),ie(te.currentTarget.checked)},id:$,ref:t,type:"checkbox",role:"switch",...G("input")}),x.jsxs(Oe,{"aria-hidden":"true",component:"span",mod:{error:z,"label-position":M,"without-labels":!p&&!h},...G("track"),children:[x.jsx(Oe,{component:"span",mod:"reduce-motion",...G("thumb"),children:k}),x.jsx("span",{...G("trackLabel"),children:J?p:h})]})]})});fs.classes={...Z9,...u9};fs.displayName="@mantine/core/Switch";fs.Group=$x;const[AL,Ux]=xs("Tabs component was not found in the tree");var Rh={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const ML={},Gx=Ye((e,t)=>{const n=Ne("TabsList",ML,e),{children:r,className:o,grow:i,justify:s,classNames:a,styles:c,style:f,mod:d,...h}=n,p=Ux();return x.jsx(Oe,{...h,...p.getStyles("list",{className:o,style:f,classNames:a,styles:c,props:n,variant:p.variant}),ref:t,role:"tablist",variant:p.variant,mod:[{grow:i,orientation:p.orientation,placement:p.orientation==="vertical"&&p.placement,inverted:p.inverted},d],"aria-orientation":p.orientation,__vars:{"--tabs-justify":s},children:r})});Gx.classes=Rh;Gx.displayName="@mantine/core/TabsList";const IL={},Vx=Ye((e,t)=>{const n=Ne("TabsPanel",IL,e),{children:r,className:o,value:i,classNames:s,styles:a,style:c,mod:f,keepMounted:d,...h}=n,p=Ux(),g=p.value===i,w=p.keepMounted||d||g?r:null;return x.jsx(Oe,{...h,...p.getStyles("panel",{className:o,classNames:s,styles:a,style:[c,g?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:p.orientation},f],role:"tabpanel",id:p.getPanelId(i),"aria-labelledby":p.getTabId(i),children:w})});Vx.classes=Rh;Vx.displayName="@mantine/core/TabsPanel";const DL={},Hx=Ye((e,t)=>{const n=Ne("TabsTab",DL,e),{className:r,children:o,rightSection:i,leftSection:s,value:a,onClick:c,onKeyDown:f,disabled:d,color:h,style:p,classNames:g,styles:w,vars:S,mod:C,tabIndex:k,...P}=n,y=Xr(),{dir:E}=ld(),M=Ux(),A=a===M.value,z=V=>{M.onChange(M.allowTabDeactivation&&a===M.value?null:a),c==null||c(V)},O={classNames:g,styles:w,props:n};return x.jsxs(ws,{...P,...M.getStyles("tab",{className:r,style:p,variant:M.variant,...O}),disabled:d,unstyled:M.unstyled,variant:M.variant,mod:[{active:A,disabled:d,orientation:M.orientation,inverted:M.inverted,placement:M.orientation==="vertical"&&M.placement},C],ref:t,role:"tab",id:M.getTabId(a),"aria-selected":A,tabIndex:k!==void 0?k:A||M.value===null?0:-1,"aria-controls":M.getPanelId(a),onClick:z,__vars:{"--tabs-color":h?gr(h,y):void 0},onKeyDown:RC({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:M.activateTabWithKeyboard,loop:M.loop,orientation:M.orientation||"horizontal",dir:E,onKeyDown:f}),children:[s&&x.jsx("span",{...M.getStyles("tabSection",O),"data-position":"left",children:s}),o&&x.jsx("span",{...M.getStyles("tabLabel",O),children:o}),i&&x.jsx("span",{...M.getStyles("tabSection",O),"data-position":"right",children:i})]})});Hx.classes=Rh;Hx.displayName="@mantine/core/TabsTab";const L_="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",OL={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},jL=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Hn(t),"--tabs-color":gr(n,e),"--tabs-text-color":_w(r,e)?bh({color:n,theme:e,autoContrast:r}):void 0}}),Vt=Ye((e,t)=>{const n=Ne("Tabs",OL,e),{defaultValue:r,value:o,onChange:i,orientation:s,children:a,loop:c,id:f,activateTabWithKeyboard:d,allowTabDeactivation:h,variant:p,color:g,radius:w,inverted:S,placement:C,keepMounted:k,classNames:P,styles:y,unstyled:E,className:M,style:A,vars:z,autoContrast:O,mod:V,...B}=n,U=Hi(f),[F,K]=qr({value:o,defaultValue:r,finalValue:null,onChange:i}),ne=ht({name:"Tabs",props:n,classes:Rh,className:M,style:A,classNames:P,styles:y,unstyled:E,vars:z,varsResolver:jL});return x.jsx(AL,{value:{placement:C,value:F,orientation:s,id:U,loop:c,activateTabWithKeyboard:d,getTabId:D3(`${U}-tab`,L_),getPanelId:D3(`${U}-panel`,L_),onChange:K,allowTabDeactivation:h,variant:p,color:g,radius:w,inverted:S,keepMounted:k,unstyled:E,getStyles:ne},children:x.jsx(Oe,{ref:t,id:U,variant:p,mod:[{orientation:s,inverted:s==="horizontal"&&S,placement:s==="vertical"&&C},V],...ne("root"),...B,children:a})})});Vt.classes=Rh;Vt.displayName="@mantine/core/Tabs";Vt.Tab=Hx;Vt.Panel=Vx;Vt.List=Gx;function LL({data:e,value:t}){const n=t.map(o=>o.trim().toLowerCase());return e.reduce((o,i)=>(Ju(i)?o.push({group:i.group,items:i.items.filter(s=>n.indexOf(s.label.toLowerCase().trim())===-1)}):n.indexOf(i.label.toLowerCase().trim())===-1&&o.push(i),o),[])}function FL(e,t){return e?t.split(new RegExp(`[${e.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[t]}function F_({splitChars:e,allowDuplicates:t,maxTags:n,value:r,currentTags:o}){const i=FL(e,r),s=t?[...o,...i]:[...new Set([...o,...i])];return n?s.slice(0,n):s}const zL={maxTags:1/0,allowDuplicates:!1,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:","},Wx=Ye((e,t)=>{const n=Ne("TagsInput",zL,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,size:f,value:d,defaultValue:h,onChange:p,onKeyDown:g,maxTags:w,allowDuplicates:S,onDuplicate:C,variant:k,data:P,dropdownOpened:y,defaultDropdownOpened:E,onDropdownOpen:M,onDropdownClose:A,selectFirstOptionOnChange:z,onOptionSubmit:O,comboboxProps:V,filter:B,limit:U,withScrollArea:F,maxDropdownHeight:K,searchValue:ne,defaultSearchValue:G,onSearchChange:X,readOnly:Y,disabled:$,splitChars:q,onFocus:J,onBlur:ie,onPaste:te,radius:de,rightSection:He,rightSectionWidth:Te,rightSectionPointerEvents:Ee,rightSectionProps:Q,leftSection:we,leftSectionWidth:ve,leftSectionPointerEvents:Re,leftSectionProps:ke,inputContainer:Ae,inputWrapperOrder:Me,withAsterisk:Ze,required:Qe,labelProps:cn,descriptionProps:je,errorProps:qe,wrapperProps:ot,description:lt,label:ft,error:Ct,withErrorStyles:xt,name:Be,form:at,id:kt,clearable:tn,clearButtonProps:En,hiddenInputProps:At,hiddenInputValuesDivider:Wt,mod:qt,renderOption:Dr,onRemove:An,onClear:po,scrollAreaProps:Xt,acceptValueOnBlur:Je,...Kn}=n,Zr=Hi(kt),Zo=r9(P),Xe=ex(Zo),wi=N.useRef(null),ga=Fn(wi,t),wr=dx({opened:y,defaultOpened:E,onDropdownOpen:M,onDropdownClose:()=>{A==null||A(),wr.resetSelectedOption()}}),{styleProps:or,rest:{type:Cs,autoComplete:va,...Ki}}=ad(Kn),[Zt,wn]=qr({value:d,defaultValue:h,finalValue:[],onChange:p}),[le,ze]=qr({value:ne,defaultValue:G,finalValue:"",onChange:X}),Ie=pt=>{ze(pt),wr.resetSelectedOption()},ct=ht({name:"TagsInput",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:yt,resolvedStyles:$e}=bc({props:n,styles:s,classNames:r}),et=pt=>{const Yn=Zt.some(Or=>Or.toLowerCase()===pt.toLowerCase());Yn&&(C==null||C(pt)),(!Yn||Yn&&S)&&Zt.length<w&&(O==null||O(pt),Ie(""),pt.length>0&&wn([...Zt,pt]))},Lt=pt=>{if(g==null||g(pt),pt.isPropagationStopped())return;const Yn=le.trim(),{length:Or}=Yn;if(q.includes(pt.key)&&Or>0&&(wn(F_({splitChars:q,allowDuplicates:S,maxTags:w,value:le,currentTags:Zt})),Ie(""),pt.preventDefault()),pt.key==="Enter"&&Or>0&&!pt.nativeEvent.isComposing){if(pt.preventDefault(),!!document.querySelector(`#${wr.listId} [data-combobox-option][data-combobox-selected]`))return;et(Yn)}pt.key==="Backspace"&&Or===0&&Zt.length>0&&!pt.nativeEvent.isComposing&&(An==null||An(Zt[Zt.length-1]),wn(Zt.slice(0,Zt.length-1)))},nn=pt=>{if(te==null||te(pt),pt.preventDefault(),pt.clipboardData){const Yn=pt.clipboardData.getData("text/plain");wn(F_({splitChars:q,allowDuplicates:S,maxTags:w,value:`${le}${Yn}`,currentTags:Zt})),Ie("")}},xn=Zt.map((pt,Yn)=>x.jsx(ih,{withRemoveButton:!Y,onRemove:()=>{const Or=Zt.slice();Or.splice(Yn,1),wn(Or),An==null||An(pt)},unstyled:a,disabled:$,...ct("pill"),children:pt},`${pt}-${Yn}`));N.useEffect(()=>{z&&wr.selectFirstOption()},[z,Zt,le]);const rn=x.jsx(Yt.ClearButton,{...En,onClear:()=>{var pt;wn([]),Ie(""),(pt=wi.current)==null||pt.focus(),wr.openDropdown(),po==null||po()}});return x.jsxs(x.Fragment,{children:[x.jsxs(Yt,{store:wr,classNames:yt,styles:$e,unstyled:a,size:f,readOnly:Y,__staticSelector:"TagsInput",onOptionSubmit:pt=>{O==null||O(pt),Ie(""),Zt.length<w&&wn([...Zt,Xe[pt].label]),wr.resetSelectedOption()},...V,children:[x.jsx(Yt.DropdownTarget,{children:x.jsx(Zm,{...or,__staticSelector:"TagsInput",classNames:yt,styles:$e,unstyled:a,size:f,className:o,style:i,variant:k,disabled:$,radius:de,rightSection:He,__clearSection:rn,__clearable:tn&&Zt.length>0&&!$&&!Y,rightSectionWidth:Te,rightSectionPointerEvents:Ee,rightSectionProps:Q,leftSection:we,leftSectionWidth:ve,leftSectionPointerEvents:Re,leftSectionProps:ke,inputContainer:Ae,inputWrapperOrder:Me,withAsterisk:Ze,required:Qe,labelProps:cn,descriptionProps:je,errorProps:qe,wrapperProps:ot,description:lt,label:ft,error:Ct,withErrorStyles:xt,__stylesApiProps:{...n,multiline:!0},id:Zr,mod:qt,children:x.jsxs(ih.Group,{disabled:$,unstyled:a,...ct("pillsList"),children:[xn,x.jsx(Yt.EventsTarget,{autoComplete:va,children:x.jsx(Zm.Field,{...Ki,ref:ga,...ct("inputField"),unstyled:a,onKeyDown:Lt,onFocus:pt=>{J==null||J(pt),wr.openDropdown()},onBlur:pt=>{ie==null||ie(pt),Je&&et(le),wr.closeDropdown()},onPaste:nn,value:le,onChange:pt=>Ie(pt.currentTarget.value),required:Qe&&Zt.length===0,disabled:$,readOnly:Y,id:Zr})})]})})}),x.jsx(S9,{data:LL({data:Zo,value:Zt}),hidden:Y||$,filter:B,search:le,limit:U,hiddenWhenEmpty:!0,withScrollArea:F,maxDropdownHeight:K,unstyled:a,labelId:ft?`${Zr}-label`:void 0,"aria-label":ft?void 0:Kn["aria-label"],renderOption:Dr,scrollAreaProps:Xt})]}),x.jsx(Yt.HiddenInput,{name:Be,form:at,value:Zt,valuesDivider:Wt,disabled:$,...At})]})});Wx.classes={...Qo.classes,...Yt.classes};Wx.displayName="@mantine/core/TagsInput";const BL={},Nr=Ye((e,t)=>{const n=Ne("TextInput",BL,e);return x.jsx(Qo,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Nr.classes=Qo.classes;Nr.displayName="@mantine/core/TextInput";const $L=["h1","h2","h3","h4","h5","h6"],UL=["xs","sm","md","lg","xl"];function GL(e,t){const n=t!==void 0?t:`h${e}`;return $L.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:UL.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:_e(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var J9={root:"m_8a5d1357"};const VL={order:1},HL=(e,{order:t,size:n,lineClamp:r,textWrap:o})=>{const i=GL(t,n);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":o}}},Kx=Ye((e,t)=>{const n=Ne("Title",VL,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,order:c,vars:f,size:d,variant:h,lineClamp:p,textWrap:g,mod:w,...S}=n,C=ht({name:"Title",props:n,classes:J9,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:f,varsResolver:HL});return[1,2,3,4,5,6].includes(c)?x.jsx(Oe,{...C("root"),component:`h${c}`,variant:h,ref:t,mod:[{order:c,"data-line-clamp":typeof p=="number"},w],size:d,...S}):null});Kx.classes=J9;Kx.displayName="@mantine/core/Title";function WL(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),r.forEach(i=>i(t))},initialize(o){n||(t=o,n=!0)},subscribe(o){return r.add(o),()=>r.delete(o)}}}function KL(e){return N.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function YL(e,t,n){const r=[],o=[],i={};for(const s of e){const a=s.position||t;i[a]=i[a]||0,i[a]+=1,i[a]<=n?o.push(s):r.push(s)}return{notifications:o,queue:r}}const qL=()=>WL({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),_c=qL(),XL=(e=_c)=>KL(e);function wd(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),o=YL(r,n.defaultPosition,n.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function QL(e,t=_c){const n=e.id||Hm();return wd(t,r=>e.id&&r.some(o=>o.id===e.id)?r:[...r,{...e,id:n}]),n}function ek(e,t=_c){return wd(t,n=>n.filter(r=>{var o;return r.id===e?((o=r.onClose)==null||o.call(r,r),!1):!0})),e}function ZL(e,t=_c){return wd(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function JL(e=_c){wd(e,()=>[])}function eF(e=_c){wd(e,t=>t.slice(0,e.getState().limit))}const Xs={show:QL,hide:ek,update:ZL,clean:JL,cleanQueue:eF,updateState:wd};function t2(e,t){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},t2(e,t)}function tk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,t2(e,t)}const z_={disabled:!1},Jm=Rt.createContext(null);var tF=function(t){return t.scrollTop},bf="unmounted",ql="exited",Xl="entering",mu="entered",n2="exiting",ua=function(e){tk(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=ql,i.appearStatus=Xl):c=mu:r.unmountOnExit||r.mountOnEnter?c=bf:c=ql,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===bf?{status:ql}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Xl&&s!==mu&&(i=Xl):(s===Xl||s===mu)&&(i=n2)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Xl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:wf.findDOMNode(this);s&&tF(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:bf})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,c=this.props.nodeRef?[a]:[wf.findDOMNode(this),a],f=c[0],d=c[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!o&&!s||z_.disabled){this.safeSetState({status:mu},function(){i.props.onEntered(f)});return}this.props.onEnter(f,d),this.safeSetState({status:Xl},function(){i.props.onEntering(f,d),i.onTransitionEnd(p,function(){i.safeSetState({status:mu},function(){i.props.onEntered(f,d)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:wf.findDOMNode(this);if(!i||z_.disabled){this.safeSetState({status:ql},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:n2},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:ql},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:wf.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=c[0],d=c[1];this.props.addEndListener(f,d)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===bf)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Ex(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Rt.createElement(Jm.Provider,{value:null},typeof s=="function"?s(o,a):Rt.cloneElement(Rt.Children.only(s),a))},t}(Rt.Component);ua.contextType=Jm;ua.propTypes={};function su(){}ua.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:su,onEntering:su,onEntered:su,onExit:su,onExiting:su,onExited:su};ua.UNMOUNTED=bf;ua.EXITED=ql;ua.ENTERING=Xl;ua.ENTERED=mu;ua.EXITING=n2;function nF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yx(e,t){var n=function(i){return t&&N.isValidElement(i)?t(i):i},r=Object.create(null);return e&&N.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function rF(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var f=r[c][s];a[r[c][s]]=n(f)}a[c]=n(c)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}function sc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function oF(e,t){return Yx(e.children,function(n){return N.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:sc(n,"appear",e),enter:sc(n,"enter",e),exit:sc(n,"exit",e)})})}function iF(e,t,n){var r=Yx(e.children),o=rF(t,r);return Object.keys(o).forEach(function(i){var s=o[i];if(N.isValidElement(s)){var a=i in t,c=i in r,f=t[i],d=N.isValidElement(f)&&!f.props.in;c&&(!a||d)?o[i]=N.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:sc(s,"exit",e),enter:sc(s,"enter",e)}):!c&&a&&!d?o[i]=N.cloneElement(s,{in:!1}):c&&a&&N.isValidElement(f)&&(o[i]=N.cloneElement(s,{onExited:n.bind(null,s),in:f.props.in,exit:sc(s,"exit",e),enter:sc(s,"enter",e)}))}}),o}var sF=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},aF={component:"div",childFactory:function(t){return t}},Ua=function(e){tk(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=i.handleExited.bind(nF(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,c=i.firstRender;return{children:c?oF(o,a):iF(o,s,a),firstRender:!1}},n.handleExited=function(o,i){var s=Yx(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var c=Qm({},a.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=Ex(o,["component","childFactory"]),c=this.state.contextValue,f=sF(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?Rt.createElement(Jm.Provider,{value:c},f):Rt.createElement(Jm.Provider,{value:c},Rt.createElement(i,a,f))},t}(Rt.Component);Ua.propTypes={};Ua.defaultProps=aF;const nk=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function lF(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),nk.reduce((n,r)=>(n[r]=[],n),{}))}const B_={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},cF={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function uF({state:e,maxHeight:t,position:n,transitionDuration:r}){const[o,i]=n.split("-"),s=i==="center"?`${o}-center`:i,a={opacity:0,maxHeight:t,transform:B_[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:cF[s]},f={opacity:0,maxHeight:0,transform:B_[s]};return{...a,...{entering:c,entered:c,exiting:f,exited:f}[e]}}function dF(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const rk=N.forwardRef(({data:e,onHide:t,autoClose:n,...r},o)=>{const{autoClose:i,message:s,...a}=e,c=dF(n,e.autoClose),f=N.useRef(-1),d=()=>window.clearTimeout(f.current),h=()=>{t(e.id),d()},p=()=>{typeof c=="number"&&(f.current=window.setTimeout(h,c))};return N.useEffect(()=>{var g;(g=e.onOpen)==null||g.call(e,e)},[]),N.useEffect(()=>(p(),d),[c]),x.jsx(Ox,{...r,...a,onClose:h,ref:o,onMouseEnter:d,onMouseLeave:p,children:s})});rk.displayName="@mantine/notifications/NotificationContainer";var ok={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const fF=ua,hF={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Vi("overlay"),store:_c,withinPortal:!0},pF=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":_e(n)}}),da=Ye((e,t)=>{const n=Ne("Notifications",hF,e),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:c,position:f,autoClose:d,transitionDuration:h,containerWidth:p,notificationMaxHeight:g,limit:w,zIndex:S,store:C,portalProps:k,withinPortal:P,...y}=n,E=Xr(),M=XL(C),A=OR(),z=yw(),O=N.useRef({}),V=N.useRef(0),U=(E.respectReducedMotion?z:!1)?1:h,F=ht({name:"Notifications",classes:ok,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:pF});N.useEffect(()=>{C==null||C.updateState(G=>({...G,limit:w||5,defaultPosition:f}))},[w,f]),Ko(()=>{M.notifications.length>V.current&&setTimeout(()=>A(),0),V.current=M.notifications.length},[M.notifications]);const K=lF(M.notifications,f),ne=nk.reduce((G,X)=>(G[X]=K[X].map(({style:Y,...$})=>x.jsx(fF,{timeout:U,onEnter:()=>O.current[$.id].offsetHeight,nodeRef:{current:O.current[$.id]},children:q=>x.jsx(rk,{ref:J=>{O.current[$.id]=J},data:$,onHide:J=>ek(J,C),autoClose:d,...F("notification",{style:{...uF({state:q,position:X,transitionDuration:U,maxHeight:g}),...Y}})})},$.id)),G),{});return x.jsxs(Sc,{withinPortal:P,...k,children:[x.jsx(Oe,{...F("root"),"data-position":"top-center",ref:t,...y,children:x.jsx(Ua,{children:ne["top-center"]})}),x.jsx(Oe,{...F("root"),"data-position":"top-left",...y,children:x.jsx(Ua,{children:ne["top-left"]})}),x.jsx(Oe,{...F("root",{className:qu.classNames.fullWidth}),"data-position":"top-right",...y,children:x.jsx(Ua,{children:ne["top-right"]})}),x.jsx(Oe,{...F("root",{className:qu.classNames.fullWidth}),"data-position":"bottom-right",...y,children:x.jsx(Ua,{children:ne["bottom-right"]})}),x.jsx(Oe,{...F("root"),"data-position":"bottom-left",...y,children:x.jsx(Ua,{children:ne["bottom-left"]})}),x.jsx(Oe,{...F("root"),"data-position":"bottom-center",...y,children:x.jsx(Ua,{children:ne["bottom-center"]})})]})});da.classes=ok;da.displayName="@mantine/notifications/Notifications";da.show=Xs.show;da.hide=Xs.hide;da.update=Xs.update;da.clean=Xs.clean;da.cleanQueue=Xs.cleanQueue;da.updateState=Xs.updateState;const mF={},$_=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(w=>w(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(mF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,c);return c},gF=e=>e?$_(e):$_;var ik={exports:{}},sk={},ak={exports:{}},lk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=N;function vF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yF=typeof Object.is=="function"?Object.is:vF,wF=ed.useState,xF=ed.useEffect,bF=ed.useLayoutEffect,SF=ed.useDebugValue;function _F(e,t){var n=t(),r=wF({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return bF(function(){o.value=n,o.getSnapshot=t,ky(o)&&i({inst:o})},[e,n,t]),xF(function(){return ky(o)&&i({inst:o}),e(function(){ky(o)&&i({inst:o})})},[e]),SF(n),n}function ky(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yF(e,n)}catch{return!0}}function CF(e,t){return t()}var kF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CF:_F;lk.useSyncExternalStore=ed.useSyncExternalStore!==void 0?ed.useSyncExternalStore:kF;ak.exports=lk;var EF=ak.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=N,PF=EF;function TF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RF=typeof Object.is=="function"?Object.is:TF,NF=PF.useSyncExternalStore,AF=e0.useRef,MF=e0.useEffect,IF=e0.useMemo,DF=e0.useDebugValue;sk.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=AF(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=IF(function(){function c(g){if(!f){if(f=!0,d=g,g=r(g),o!==void 0&&s.hasValue){var w=s.value;if(o(w,g))return h=w}return h=g}if(w=h,RF(d,g))return w;var S=r(g);return o!==void 0&&o(w,S)?(d=g,w):(d=g,h=S)}var f=!1,d,h,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=NF(e,i[0],i[1]);return MF(function(){s.hasValue=!0,s.value=a},[a]),DF(a),a};ik.exports=sk;var OF=ik.exports;const jF=dl(OF),ck={},{useDebugValue:LF}=Rt,{useSyncExternalStoreWithSelector:FF}=jF;let U_=!1;const zF=e=>e;function BF(e,t=zF,n){(ck?"production":void 0)!=="production"&&n&&!U_&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),U_=!0);const r=FF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return LF(r),r}const G_=e=>{(ck?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?gF(e):e,n=(r,o)=>BF(t,r,o);return Object.assign(n,t),n},qx=e=>e?G_(e):G_,$F="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Li=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=$F[n[e]&63];return t};var uk={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ym,function(){var n=function(m,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,I){R.__proto__=I}||function(R,I){for(var j in I)Object.prototype.hasOwnProperty.call(I,j)&&(R[j]=I[j])})(m,b)},r=function(){return(r=Object.assign||function(m){for(var b,R=1,I=arguments.length;R<I;R++)for(var j in b=arguments[R])Object.prototype.hasOwnProperty.call(b,j)&&(m[j]=b[j]);return m}).apply(this,arguments)};function o(m,b,R){for(var I,j=0,L=b.length;j<L;j++)!I&&j in b||((I=I||Array.prototype.slice.call(b,0,j))[j]=b[j]);return m.concat(I||Array.prototype.slice.call(b))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ym,s=Object.keys,a=Array.isArray;function c(m,b){return typeof b!="object"||s(b).forEach(function(R){m[R]=b[R]}),m}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function h(m,b){return d.call(m,b)}function p(m,b){typeof b=="function"&&(b=b(f(m))),(typeof Reflect>"u"?s:Reflect.ownKeys)(b).forEach(function(R){w(m,R,b[R])})}var g=Object.defineProperty;function w(m,b,R,I){g(m,b,c(R&&h(R,"get")&&typeof R.get=="function"?{get:R.get,set:R.set,configurable:!0}:{value:R,configurable:!0,writable:!0},I))}function S(m){return{from:function(b){return m.prototype=Object.create(b.prototype),w(m.prototype,"constructor",m),{extend:p.bind(null,m.prototype)}}}}var C=Object.getOwnPropertyDescriptor,k=[].slice;function P(m,b,R){return k.call(m,b,R)}function y(m,b){return b(m)}function E(m){if(!m)throw new Error("Assertion Failed")}function M(m){i.setImmediate?setImmediate(m):setTimeout(m,0)}function A(m,b){if(typeof b=="string"&&h(m,b))return m[b];if(!b)return m;if(typeof b!="string"){for(var R=[],I=0,j=b.length;I<j;++I){var L=A(m,b[I]);R.push(L)}return R}var W=b.indexOf(".");if(W!==-1){var Z=m[b.substr(0,W)];return Z==null?void 0:A(Z,b.substr(W+1))}}function z(m,b,R){if(m&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof b!="string"&&"length"in b){E(typeof R!="string"&&"length"in R);for(var I=0,j=b.length;I<j;++I)z(m,b[I],R[I])}else{var L,W,Z=b.indexOf(".");Z!==-1?(L=b.substr(0,Z),(W=b.substr(Z+1))===""?R===void 0?a(m)&&!isNaN(parseInt(L))?m.splice(L,1):delete m[L]:m[L]=R:z(Z=!(Z=m[L])||!h(m,L)?m[L]={}:Z,W,R)):R===void 0?a(m)&&!isNaN(parseInt(b))?m.splice(b,1):delete m[b]:m[b]=R}}function O(m){var b,R={};for(b in m)h(m,b)&&(R[b]=m[b]);return R}var V=[].concat;function B(m){return V.apply([],m)}var kt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(B([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(b){return b+m+"Array"})}))).filter(function(m){return i[m]}),U=new Set(kt.map(function(m){return i[m]})),F=null;function K(m){return F=new WeakMap,m=function b(R){if(!R||typeof R!="object")return R;var I=F.get(R);if(I)return I;if(a(R)){I=[],F.set(R,I);for(var j=0,L=R.length;j<L;++j)I.push(b(R[j]))}else if(U.has(R.constructor))I=R;else{var W,Z=f(R);for(W in I=Z===Object.prototype?{}:Object.create(Z),F.set(R,I),R)h(R,W)&&(I[W]=b(R[W]))}return I}(m),F=null,m}var ne={}.toString;function G(m){return ne.call(m).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y=typeof X=="symbol"?function(m){var b;return m!=null&&(b=m[X])&&b.apply(m)}:function(){return null};function $(m,b){return b=m.indexOf(b),0<=b&&m.splice(b,1),0<=b}var q={};function J(m){var b,R,I,j;if(arguments.length===1){if(a(m))return m.slice();if(this===q&&typeof m=="string")return[m];if(j=Y(m)){for(R=[];!(I=j.next()).done;)R.push(I.value);return R}if(m==null)return[m];if(typeof(b=m.length)!="number")return[m];for(R=new Array(b);b--;)R[b]=m[b];return R}for(b=arguments.length,R=new Array(b);b--;)R[b]=arguments[b];return R}var ie=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},at=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(at),te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function de(m,b){this.name=m,this.message=b}function He(m,b){return m+". Errors: "+Object.keys(b).map(function(R){return b[R].toString()}).filter(function(R,I,j){return j.indexOf(R)===I}).join(`
`)}function Te(m,b,R,I){this.failures=b,this.failedKeys=I,this.successCount=R,this.message=He(m,b)}function Ee(m,b){this.name="BulkError",this.failures=Object.keys(b).map(function(R){return b[R]}),this.failuresByPos=b,this.message=He(m,this.failures)}S(de).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(Te).from(de),S(Ee).from(de);var Q=Xn.reduce(function(m,b){return m[b]=b+"Error",m},{}),we=de,ve=Xn.reduce(function(m,b){var R=b+"Error";function I(j,L){this.name=R,j?typeof j=="string"?(this.message="".concat(j).concat(L?`
 `+L:""),this.inner=L||null):typeof j=="object"&&(this.message="".concat(j.name," ").concat(j.message),this.inner=j):(this.message=te[b]||R,this.inner=null)}return S(I).from(we),m[b]=I,m},{});ve.Syntax=SyntaxError,ve.Type=TypeError,ve.Range=RangeError;var Re=at.reduce(function(m,b){return m[b+"Error"]=ve[b],m},{}),ke=Xn.reduce(function(m,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(m[b+"Error"]=ve[b]),m},{});function Ae(){}function Me(m){return m}function Ze(m,b){return m==null||m===Me?b:function(R){return b(m(R))}}function Qe(m,b){return function(){m.apply(this,arguments),b.apply(this,arguments)}}function cn(m,b){return m===Ae?b:function(){var R=m.apply(this,arguments);R!==void 0&&(arguments[0]=R);var I=this.onsuccess,j=this.onerror;this.onsuccess=null,this.onerror=null;var L=b.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?Qe(I,this.onsuccess):I),j&&(this.onerror=this.onerror?Qe(j,this.onerror):j),L!==void 0?L:R}}function je(m,b){return m===Ae?b:function(){m.apply(this,arguments);var R=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?Qe(R,this.onsuccess):R),I&&(this.onerror=this.onerror?Qe(I,this.onerror):I)}}function qe(m,b){return m===Ae?b:function(R){var I=m.apply(this,arguments);c(R,I);var j=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,R=b.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?Qe(j,this.onsuccess):j),L&&(this.onerror=this.onerror?Qe(L,this.onerror):L),I===void 0?R===void 0?void 0:R:c(I,R)}}function ot(m,b){return m===Ae?b:function(){return b.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function lt(m,b){return m===Ae?b:function(){var R=m.apply(this,arguments);if(R&&typeof R.then=="function"){for(var I=this,j=arguments.length,L=new Array(j);j--;)L[j]=arguments[j];return R.then(function(){return b.apply(I,L)})}return b.apply(this,arguments)}}ke.ModifyError=Te,ke.DexieError=de,ke.BulkError=Ee;var ft=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ct(m){ft=m}var xt={},Be=100,kt=typeof Promise>"u"?[]:function(){var m=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[m,f(m),m];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,f(b),m]}(),at=kt[0],Xn=kt[1],kt=kt[2],Xn=Xn&&Xn.then,tn=at&&at.constructor,En=!!kt,At=function(m,b){Kn.push([m,b]),qt&&(queueMicrotask(Ki),qt=!1)},Wt=!0,qt=!0,Dr=[],An=[],po=Me,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ae,pgp:!1,env:{},finalize:Ae},Je=Xt,Kn=[],Zr=0,Zo=[];function Xe(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Je;if(typeof m!="function"){if(m!==xt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&wr(this,this._value))}this._state=null,this._value=null,++b.ref,function R(I,j){try{j(function(L){if(I._state===null){if(L===I)throw new TypeError("A promise cannot be resolved with itself.");var W=I._lib&&Zt();L&&typeof L.then=="function"?R(I,function(Z,oe){L instanceof Xe?L._then(Z,oe):L.then(Z,oe)}):(I._state=!0,I._value=L,or(I)),W&&wn()}},wr.bind(null,I))}catch(L){wr(I,L)}}(this,m)}var wi={get:function(){var m=Je,b=Lt;function R(I,j){var L=this,W=!m.global&&(m!==Je||b!==Lt),Z=W&&!pt(),oe=new Xe(function(ae,fe){Cs(L,new ga(Lh(I,m,W,Z),Lh(j,m,W,Z),ae,fe,m))});return this._consoleTask&&(oe._consoleTask=this._consoleTask),oe}return R.prototype=xt,R},set:function(m){w(this,"then",m&&m.prototype===xt?wi:{get:function(){return m},set:wi.set})}};function ga(m,b,R,I,j){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof b=="function"?b:null,this.resolve=R,this.reject=I,this.psd=j}function wr(m,b){var R,I;An.push(b),m._state===null&&(R=m._lib&&Zt(),b=po(b),m._state=!1,m._value=b,I=m,Dr.some(function(j){return j._value===I._value})||Dr.push(I),or(m),R&&wn())}function or(m){var b=m._listeners;m._listeners=[];for(var R=0,I=b.length;R<I;++R)Cs(m,b[R]);var j=m._PSD;--j.ref||j.finalize(),Zr===0&&(++Zr,At(function(){--Zr==0&&le()},[]))}function Cs(m,b){if(m._state!==null){var R=m._state?b.onFulfilled:b.onRejected;if(R===null)return(m._state?b.resolve:b.reject)(m._value);++b.psd.ref,++Zr,At(va,[R,m,b])}else m._listeners.push(b)}function va(m,b,R){try{var I,j=b._value;!b._state&&An.length&&(An=[]),I=ft&&b._consoleTask?b._consoleTask.run(function(){return m(j)}):m(j),b._state||An.indexOf(j)!==-1||function(L){for(var W=Dr.length;W;)if(Dr[--W]._value===L._value)return Dr.splice(W,1)}(b),R.resolve(I)}catch(L){R.reject(L)}finally{--Zr==0&&le(),--R.psd.ref||R.psd.finalize()}}function Ki(){ks(Xt,function(){Zt()&&wn()})}function Zt(){var m=Wt;return qt=Wt=!1,m}function wn(){var m,b,R;do for(;0<Kn.length;)for(m=Kn,Kn=[],R=m.length,b=0;b<R;++b){var I=m[b];I[0].apply(null,I[1])}while(0<Kn.length);qt=Wt=!0}function le(){var m=Dr;Dr=[],m.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var b=Zo.slice(0),R=b.length;R;)b[--R]()}function ze(m){return new Xe(xt,!1,m)}function Ie(m,b){var R=Je;return function(){var I=Zt(),j=Je;try{return xi(R,!0),m.apply(this,arguments)}catch(L){b&&b(L)}finally{xi(j,!1),I&&wn()}}}p(Xe.prototype,{then:wi,_then:function(m,b){Cs(this,new ga(null,null,m,b,Je))},catch:function(m){if(arguments.length===1)return this.then(null,m);var b=m,R=arguments[1];return typeof b=="function"?this.then(null,function(I){return(I instanceof b?R:ze)(I)}):this.then(null,function(I){return(I&&I.name===b?R:ze)(I)})},finally:function(m){return this.then(function(b){return Xe.resolve(m()).then(function(){return b})},function(b){return Xe.resolve(m()).then(function(){return ze(b)})})},timeout:function(m,b){var R=this;return m<1/0?new Xe(function(I,j){var L=setTimeout(function(){return j(new ve.Timeout(b))},m);R.then(I,j).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(Xe.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=jh(),p(Xe,{all:function(){var m=J.apply(null,arguments).map(Yn);return new Xe(function(b,R){m.length===0&&b([]);var I=m.length;m.forEach(function(j,L){return Xe.resolve(j).then(function(W){m[L]=W,--I||b(m)},R)})})},resolve:function(m){return m instanceof Xe?m:m&&typeof m.then=="function"?new Xe(function(b,R){m.then(b,R)}):new Xe(xt,!0,m)},reject:ze,race:function(){var m=J.apply(null,arguments).map(Yn);return new Xe(function(b,R){m.map(function(I){return Xe.resolve(I).then(b,R)})})},PSD:{get:function(){return Je},set:function(m){return Je=m}},totalEchoes:{get:function(){return Lt}},newPSD:xn,usePSD:ks,scheduler:{get:function(){return At},set:function(m){At=m}},rejectionMapper:{get:function(){return po},set:function(m){po=m}},follow:function(m,b){return new Xe(function(R,I){return xn(function(j,L){var W=Je;W.unhandleds=[],W.onunhandled=L,W.finalize=Qe(function(){var Z,oe=this;Z=function(){oe.unhandleds.length===0?j():L(oe.unhandleds[0])},Zo.push(function ae(){Z(),Zo.splice(Zo.indexOf(ae),1)}),++Zr,At(function(){--Zr==0&&le()},[])},W.finalize),m()},b,R,I)})}}),tn&&(tn.allSettled&&w(Xe,"allSettled",function(){var m=J.apply(null,arguments).map(Yn);return new Xe(function(b){m.length===0&&b([]);var R=m.length,I=new Array(R);m.forEach(function(j,L){return Xe.resolve(j).then(function(W){return I[L]={status:"fulfilled",value:W}},function(W){return I[L]={status:"rejected",reason:W}}).then(function(){return--R||b(I)})})})}),tn.any&&typeof AggregateError<"u"&&w(Xe,"any",function(){var m=J.apply(null,arguments).map(Yn);return new Xe(function(b,R){m.length===0&&R(new AggregateError([]));var I=m.length,j=new Array(I);m.forEach(function(L,W){return Xe.resolve(L).then(function(Z){return b(Z)},function(Z){j[W]=Z,--I||R(new AggregateError(j))})})})}),tn.withResolvers&&(Xe.withResolvers=tn.withResolvers));var ct={awaits:0,echoes:0,id:0},yt=0,$e=[],et=0,Lt=0,nn=0;function xn(m,b,R,I){var j=Je,L=Object.create(j);return L.parent=j,L.ref=0,L.global=!1,L.id=++nn,Xt.env,L.env=En?{Promise:Xe,PromiseProp:{value:Xe,configurable:!0,writable:!0},all:Xe.all,race:Xe.race,allSettled:Xe.allSettled,any:Xe.any,resolve:Xe.resolve,reject:Xe.reject}:{},b&&c(L,b),++j.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},I=ks(L,m,R,I),L.ref===0&&L.finalize(),I}function rn(){return ct.id||(ct.id=++yt),++ct.awaits,ct.echoes+=Be,ct.id}function pt(){return!!ct.awaits&&(--ct.awaits==0&&(ct.id=0),ct.echoes=ct.awaits*Be,!0)}function Yn(m){return ct.echoes&&m&&m.constructor===tn?(rn(),m.then(function(b){return pt(),b},function(b){return pt(),Mn(b)})):m}function Or(){var m=$e[$e.length-1];$e.pop(),xi(m,!1)}function xi(m,b){var R,I=Je;(b?!ct.echoes||et++&&m===Je:!et||--et&&m===Je)||queueMicrotask(b?(function(j){++Lt,ct.echoes&&--ct.echoes!=0||(ct.echoes=ct.awaits=ct.id=0),$e.push(Je),xi(j,!0)}).bind(null,m):Or),m!==Je&&(Je=m,I===Xt&&(Xt.env=jh()),En&&(R=Xt.env.Promise,b=m.env,(I.global||m.global)&&(Object.defineProperty(i,"Promise",b.PromiseProp),R.all=b.all,R.race=b.race,R.resolve=b.resolve,R.reject=b.reject,b.allSettled&&(R.allSettled=b.allSettled),b.any&&(R.any=b.any))))}function jh(){var m=i.Promise;return En?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function ks(m,b,R,I,j){var L=Je;try{return xi(m,!0),b(R,I,j)}finally{xi(L,!1)}}function Lh(m,b,R,I){return typeof m!="function"?m:function(){var j=Je;R&&rn(),xi(b,!0);try{return m.apply(this,arguments)}finally{xi(j,!1),I&&queueMicrotask(pt)}}}function Pd(m){Promise===tn&&ct.echoes===0?et===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+Xn).indexOf("[native code]")===-1&&(rn=pt=Ae);var Mn=Xe.reject,Es="",bi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Dc="String expected.",Jo=[],ya="__dbnames",El="readonly",Td="readwrite";function Si(m,b){return m?b?function(){return m.apply(this,arguments)&&b.apply(this,arguments)}:m:b}var Ps={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Lo(m){return typeof m!="string"||/\./.test(m)?function(b){return b}:function(b){return b[m]===void 0&&m in b&&delete(b=K(b))[m],b}}function un(){throw ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function dt(m,b){try{var R=_i(m),I=_i(b);if(R!==I)return R==="Array"?1:I==="Array"?-1:R==="binary"?1:I==="binary"?-1:R==="string"?1:I==="string"?-1:R==="Date"?1:I!=="Date"?NaN:-1;switch(R){case"number":case"Date":case"string":return b<m?1:m<b?-1:0;case"binary":return function(j,L){for(var W=j.length,Z=L.length,oe=W<Z?W:Z,ae=0;ae<oe;++ae)if(j[ae]!==L[ae])return j[ae]<L[ae]?-1:1;return W===Z?0:W<Z?-1:1}(ir(m),ir(b));case"Array":return function(j,L){for(var W=j.length,Z=L.length,oe=W<Z?W:Z,ae=0;ae<oe;++ae){var fe=dt(j[ae],L[ae]);if(fe!==0)return fe}return W===Z?0:W<Z?-1:1}(m,b)}}catch{}return NaN}function _i(m){var b=typeof m;return b!="object"?b:ArrayBuffer.isView(m)?"binary":(m=G(m),m==="ArrayBuffer"?"binary":m)}function ir(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}function sr(m,b,R){var I=m.schema.yProps;return I?(b&&0<R.numFailures&&(b=b.filter(function(j,L){return!R.failures[L]})),Promise.all(I.map(function(j){return j=j.updatesTable,b?m.db.table(j).where("k").anyOf(b).delete():m.db.table(j).clear()})).then(function(){return R})):R}var Fo=(Ts.prototype.execute=function(m){var b=this["@@propmod"];if(b.add!==void 0){var R=b.add;if(a(R))return o(o([],a(m)?m:[],!0),R).sort();if(typeof R=="number")return(Number(m)||0)+R;if(typeof R=="bigint")try{return BigInt(m)+R}catch{return BigInt(0)+R}throw new TypeError("Invalid term ".concat(R))}if(b.remove!==void 0){var I=b.remove;if(a(I))return a(m)?m.filter(function(j){return!I.includes(j)}).sort():[];if(typeof I=="number")return Number(m)-I;if(typeof I=="bigint")try{return BigInt(m)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return R=(R=b.replacePrefix)===null||R===void 0?void 0:R[0],R&&typeof m=="string"&&m.startsWith(R)?b.replacePrefix[1]+m.substring(R.length):m},Ts);function Ts(m){this["@@propmod"]=m}function Cr(m,b){for(var R=s(b),I=R.length,j=!1,L=0;L<I;++L){var W=R[L],Z=b[W],oe=A(m,W);Z instanceof Fo?(z(m,W,Z.execute(oe)),j=!0):oe!==Z&&(z(m,W,Z),j=!0)}return j}var Pl=(sn.prototype._trans=function(m,b,R){var I=this._tx||Je.trans,j=this.name,L=ft&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function W(ae,fe,ee){if(!ee.schema[j])throw new ve.NotFound("Table "+j+" not part of transaction");return b(ee.idbtrans,ee)}var Z=Zt();try{var oe=I&&I.db._novip===this.db._novip?I===Je.trans?I._promise(m,W,R):xn(function(){return I._promise(m,W,R)},{trans:I,transless:Je.transless||Je}):function ae(fe,ee,ce,re){if(fe.idbdb&&(fe._state.openComplete||Je.letThrough||fe._vip)){var se=fe._createTransaction(ee,ce,fe._dbSchema);try{se.create(),fe._state.PR1398_maxLoop=3}catch(ue){return ue.name===Q.InvalidState&&fe.isOpen()&&0<--fe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),fe.close({disableAutoOpen:!1}),fe.open().then(function(){return ae(fe,ee,ce,re)})):Mn(ue)}return se._promise(ee,function(ue,he){return xn(function(){return Je.trans=se,re(ue,he,se)})}).then(function(ue){if(ee==="readwrite")try{se.idbtrans.commit()}catch{}return ee==="readonly"?ue:se._completion.then(function(){return ue})})}if(fe._state.openComplete)return Mn(new ve.DatabaseClosed(fe._state.dbOpenError));if(!fe._state.isBeingOpened){if(!fe._state.autoOpen)return Mn(new ve.DatabaseClosed);fe.open().catch(Ae)}return fe._state.dbReadyPromise.then(function(){return ae(fe,ee,ce,re)})}(this.db,m,[this.name],W);return L&&(oe._consoleTask=L,oe=oe.catch(function(ae){return console.trace(ae),Mn(ae)})),oe}finally{Z&&wn()}},sn.prototype.get=function(m,b){var R=this;return m&&m.constructor===Object?this.where(m).first(b):m==null?Mn(new ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return R.core.get({trans:I,key:m}).then(function(j){return R.hook.reading.fire(j)})}).then(b)},sn.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(a(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var b=s(m);if(b.length===1)return this.where(b[0]).equals(m[b[0]]);var R=this.schema.indexes.concat(this.schema.primKey).filter(function(Z){if(Z.compound&&b.every(function(ae){return 0<=Z.keyPath.indexOf(ae)})){for(var oe=0;oe<b.length;++oe)if(b.indexOf(Z.keyPath[oe])===-1)return!1;return!0}return!1}).sort(function(Z,oe){return Z.keyPath.length-oe.keyPath.length})[0];if(R&&this.db._maxKey!==Es){var L=R.keyPath.slice(0,b.length);return this.where(L).equals(L.map(function(oe){return m[oe]}))}!R&&ft&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var I=this.schema.idxByName;function j(Z,oe){return dt(Z,oe)===0}var W=b.reduce(function(ee,oe){var ae=ee[0],fe=ee[1],ee=I[oe],ce=m[oe];return[ae||ee,ae||!ee?Si(fe,ee&&ee.multi?function(re){return re=A(re,oe),a(re)&&re.some(function(se){return j(ce,se)})}:function(re){return j(ce,A(re,oe))}):fe]},[null,null]),L=W[0],W=W[1];return L?this.where(L.name).equals(m[L.keyPath]).filter(W):R?this.filter(W):this.where(b).equals("")},sn.prototype.filter=function(m){return this.toCollection().and(m)},sn.prototype.count=function(m){return this.toCollection().count(m)},sn.prototype.offset=function(m){return this.toCollection().offset(m)},sn.prototype.limit=function(m){return this.toCollection().limit(m)},sn.prototype.each=function(m){return this.toCollection().each(m)},sn.prototype.toArray=function(m){return this.toCollection().toArray(m)},sn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},sn.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,a(m)?"[".concat(m.join("+"),"]"):m))},sn.prototype.reverse=function(){return this.toCollection().reverse()},sn.prototype.mapToClass=function(m){var b,R=this.db,I=this.name;function j(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=m).prototype instanceof un&&(function(oe,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function fe(){this.constructor=oe}n(oe,ae),oe.prototype=ae===null?Object.create(ae):(fe.prototype=ae.prototype,new fe)}(j,b=m),Object.defineProperty(j.prototype,"db",{get:function(){return R},enumerable:!1,configurable:!0}),j.prototype.table=function(){return I},m=j);for(var L=new Set,W=m.prototype;W;W=f(W))Object.getOwnPropertyNames(W).forEach(function(oe){return L.add(oe)});function Z(oe){if(!oe)return oe;var ae,fe=Object.create(m.prototype);for(ae in oe)if(!L.has(ae))try{fe[ae]=oe[ae]}catch{}return fe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Z,this.hook("reading",Z),m},sn.prototype.defineClass=function(){return this.mapToClass(function(m){c(this,m)})},sn.prototype.add=function(m,b){var R=this,I=this.schema.primKey,j=I.auto,L=I.keyPath,W=m;return L&&j&&(W=Lo(L)(m)),this._trans("readwrite",function(Z){return R.core.mutate({trans:Z,type:"add",keys:b!=null?[b]:null,values:[W]})}).then(function(Z){return Z.numFailures?Xe.reject(Z.failures[0]):Z.lastResult}).then(function(Z){if(L)try{z(m,L,Z)}catch{}return Z})},sn.prototype.upsert=function(m,b){var R=this,I=this.schema.primKey.keyPath;return this._trans("readwrite",function(j){return R.core.get({trans:j,key:m}).then(function(L){var W=L??{};return Cr(W,b),I&&z(W,I,m),R.core.mutate({trans:j,type:"put",values:[W],keys:[m],upsert:!0,updates:{keys:[m],changeSpecs:[b]}}).then(function(Z){return Z.numFailures?Xe.reject(Z.failures[0]):!!L})})})},sn.prototype.update=function(m,b){return typeof m!="object"||a(m)?this.where(":id").equals(m).modify(b):(m=A(m,this.schema.primKey.keyPath),m===void 0?Mn(new ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(b))},sn.prototype.put=function(m,b){var R=this,I=this.schema.primKey,j=I.auto,L=I.keyPath,W=m;return L&&j&&(W=Lo(L)(m)),this._trans("readwrite",function(Z){return R.core.mutate({trans:Z,type:"put",values:[W],keys:b!=null?[b]:null})}).then(function(Z){return Z.numFailures?Xe.reject(Z.failures[0]):Z.lastResult}).then(function(Z){if(L)try{z(m,L,Z)}catch{}return Z})},sn.prototype.delete=function(m){var b=this;return this._trans("readwrite",function(R){return b.core.mutate({trans:R,type:"delete",keys:[m]}).then(function(I){return sr(b,[m],I)}).then(function(I){return I.numFailures?Xe.reject(I.failures[0]):void 0})})},sn.prototype.clear=function(){var m=this;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"deleteRange",range:Ps}).then(function(R){return sr(m,null,R)})}).then(function(b){return b.numFailures?Xe.reject(b.failures[0]):void 0})},sn.prototype.bulkGet=function(m){var b=this;return this._trans("readonly",function(R){return b.core.getMany({keys:m,trans:R}).then(function(I){return I.map(function(j){return b.hook.reading.fire(j)})})})},sn.prototype.bulkAdd=function(m,b,R){var I=this,j=Array.isArray(b)?b:void 0,L=(R=R||(j?void 0:b))?R.allKeys:void 0;return this._trans("readwrite",function(W){var ae=I.schema.primKey,Z=ae.auto,ae=ae.keyPath;if(ae&&j)throw new ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(j&&j.length!==m.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var oe=m.length,ae=ae&&Z?m.map(Lo(ae)):m;return I.core.mutate({trans:W,type:"add",keys:j,values:ae,wantResults:L}).then(function(se){var ee=se.numFailures,ce=se.results,re=se.lastResult,se=se.failures;if(ee===0)return L?ce:re;throw new Ee("".concat(I.name,".bulkAdd(): ").concat(ee," of ").concat(oe," operations failed"),se)})})},sn.prototype.bulkPut=function(m,b,R){var I=this,j=Array.isArray(b)?b:void 0,L=(R=R||(j?void 0:b))?R.allKeys:void 0;return this._trans("readwrite",function(W){var ae=I.schema.primKey,Z=ae.auto,ae=ae.keyPath;if(ae&&j)throw new ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(j&&j.length!==m.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var oe=m.length,ae=ae&&Z?m.map(Lo(ae)):m;return I.core.mutate({trans:W,type:"put",keys:j,values:ae,wantResults:L}).then(function(se){var ee=se.numFailures,ce=se.results,re=se.lastResult,se=se.failures;if(ee===0)return L?ce:re;throw new Ee("".concat(I.name,".bulkPut(): ").concat(ee," of ").concat(oe," operations failed"),se)})})},sn.prototype.bulkUpdate=function(m){var b=this,R=this.core,I=m.map(function(W){return W.key}),j=m.map(function(W){return W.changes}),L=[];return this._trans("readwrite",function(W){return R.getMany({trans:W,keys:I,cache:"clone"}).then(function(Z){var oe=[],ae=[];m.forEach(function(ee,ce){var re=ee.key,se=ee.changes,ue=Z[ce];if(ue){for(var he=0,ge=Object.keys(se);he<ge.length;he++){var ye=ge[he],be=se[ye];if(ye===b.schema.primKey.keyPath){if(dt(be,re)!==0)throw new ve.Constraint("Cannot update primary key in bulkUpdate()")}else z(ue,ye,be)}L.push(ce),oe.push(re),ae.push(ue)}});var fe=oe.length;return R.mutate({trans:W,type:"put",keys:oe,values:ae,updates:{keys:I,changeSpecs:j}}).then(function(ee){var ce=ee.numFailures,re=ee.failures;if(ce===0)return fe;for(var se=0,ue=Object.keys(re);se<ue.length;se++){var he,ge=ue[se],ye=L[Number(ge)];ye!=null&&(he=re[ge],delete re[ge],re[ye]=he)}throw new Ee("".concat(b.name,".bulkUpdate(): ").concat(ce," of ").concat(fe," operations failed"),re)})})})},sn.prototype.bulkDelete=function(m){var b=this,R=m.length;return this._trans("readwrite",function(I){return b.core.mutate({trans:I,type:"delete",keys:m}).then(function(j){return sr(b,m,j)})}).then(function(W){var j=W.numFailures,L=W.lastResult,W=W.failures;if(j===0)return L;throw new Ee("".concat(b.name,".bulkDelete(): ").concat(j," of ").concat(R," operations failed"),W)})},sn);function sn(){}function wa(m){function b(W,Z){if(Z){for(var oe=arguments.length,ae=new Array(oe-1);--oe;)ae[oe-1]=arguments[oe];return R[W].subscribe.apply(null,ae),m}if(typeof W=="string")return R[W]}var R={};b.addEventType=L;for(var I=1,j=arguments.length;I<j;++I)L(arguments[I]);return b;function L(W,Z,oe){if(typeof W!="object"){var ae;Z=Z||ot;var fe={subscribers:[],fire:oe=oe||Ae,subscribe:function(ee){fe.subscribers.indexOf(ee)===-1&&(fe.subscribers.push(ee),fe.fire=Z(fe.fire,ee))},unsubscribe:function(ee){fe.subscribers=fe.subscribers.filter(function(ce){return ce!==ee}),fe.fire=fe.subscribers.reduce(Z,oe)}};return R[W]=b[W]=fe}s(ae=W).forEach(function(ee){var ce=ae[ee];if(a(ce))L(ee,ae[ee][0],ae[ee][1]);else{if(ce!=="asap")throw new ve.InvalidArgument("Invalid event config");var re=L(ee,Me,function(){for(var se=arguments.length,ue=new Array(se);se--;)ue[se]=arguments[se];re.subscribers.forEach(function(he){M(function(){he.apply(null,ue)})})})}})}}function Yi(m,b){return S(b).from({prototype:m}),b}function Rs(m,b){return!(m.filter||m.algorithm||m.or)&&(b?m.justLimit:!m.replayFilter)}function Jr(m,b){m.filter=Si(m.filter,b)}function Rd(m,b,R){var I=m.replayFilter;m.replayFilter=I?function(){return Si(I(),b())}:b,m.justLimit=R&&!I}function Oc(m,b){if(m.isPrimKey)return b.primaryKey;var R=b.getIndexByKeyPath(m.index);if(!R)throw new ve.Schema("KeyPath "+m.index+" on object store "+b.name+" is not indexed");return R}function Fh(m,b,R){var I=Oc(m,b.schema);return b.openCursor({trans:R,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:I,range:m.range}})}function Ns(m,b,R,I){var j=m.replayFilter?Si(m.filter,m.replayFilter()):m.filter;if(m.or){var L={},W=function(Z,oe,ae){var fe,ee;j&&!j(oe,ae,function(ce){return oe.stop(ce)},function(ce){return oe.fail(ce)})||((ee=""+(fe=oe.primaryKey))=="[object ArrayBuffer]"&&(ee=""+new Uint8Array(fe)),h(L,ee)||(L[ee]=!0,b(Z,oe,ae)))};return Promise.all([m.or._iterate(W,R),Tl(Fh(m,I,R),m.algorithm,W,!m.keysOnly&&m.valueMapper)])}return Tl(Fh(m,I,R),Si(m.algorithm,j),b,!m.keysOnly&&m.valueMapper)}function Tl(m,b,R,I){var j=Ie(I?function(L,W,Z){return R(I(L),W,Z)}:R);return m.then(function(L){if(L)return L.start(function(){var W=function(){return L.continue()};b&&!b(L,function(Z){return W=Z},function(Z){L.stop(Z),W=Ae},function(Z){L.fail(Z),W=Ae})||j(L.value,L,function(Z){return W=Z}),W()})})}var Rl=(Ft.prototype._read=function(m,b){var R=this._ctx;return R.error?R.table._trans(null,Mn.bind(null,R.error)):R.table._trans("readonly",m).then(b)},Ft.prototype._write=function(m){var b=this._ctx;return b.error?b.table._trans(null,Mn.bind(null,b.error)):b.table._trans("readwrite",m,"locked")},Ft.prototype._addAlgorithm=function(m){var b=this._ctx;b.algorithm=Si(b.algorithm,m)},Ft.prototype._iterate=function(m,b){return Ns(this._ctx,m,b,this._ctx.table.core)},Ft.prototype.clone=function(m){var b=Object.create(this.constructor.prototype),R=Object.create(this._ctx);return m&&c(R,m),b._ctx=R,b},Ft.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ft.prototype.each=function(m){var b=this._ctx;return this._read(function(R){return Ns(b,m,R,b.table.core)})},Ft.prototype.count=function(m){var b=this;return this._read(function(R){var I=b._ctx,j=I.table.core;if(Rs(I,!0))return j.count({trans:R,query:{index:Oc(I,j.schema),range:I.range}}).then(function(W){return Math.min(W,I.limit)});var L=0;return Ns(I,function(){return++L,!1},R,j).then(function(){return L})}).then(m)},Ft.prototype.sortBy=function(m,b){var R=m.split(".").reverse(),I=R[0],j=R.length-1;function L(oe,ae){return ae?L(oe[R[ae]],ae-1):oe[I]}var W=this._ctx.dir==="next"?1:-1;function Z(oe,ae){return dt(L(oe,j),L(ae,j))*W}return this.toArray(function(oe){return oe.sort(Z)}).then(b)},Ft.prototype.toArray=function(m){var b=this;return this._read(function(R){var I=b._ctx;if(I.dir==="next"&&Rs(I,!0)&&0<I.limit){var j=I.valueMapper,L=Oc(I,I.table.core.schema);return I.table.core.query({trans:R,limit:I.limit,values:!0,query:{index:L,range:I.range}}).then(function(Z){return Z=Z.result,j?Z.map(j):Z})}var W=[];return Ns(I,function(Z){return W.push(Z)},R,I.table.core).then(function(){return W})},m)},Ft.prototype.offset=function(m){var b=this._ctx;return m<=0||(b.offset+=m,Rs(b)?Rd(b,function(){var R=m;return function(I,j){return R===0||(R===1?--R:j(function(){I.advance(R),R=0}),!1)}}):Rd(b,function(){var R=m;return function(){return--R<0}})),this},Ft.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),Rd(this._ctx,function(){var b=m;return function(R,I,j){return--b<=0&&I(j),0<=b}},!0),this},Ft.prototype.until=function(m,b){return Jr(this._ctx,function(R,I,j){return!m(R.value)||(I(j),b)}),this},Ft.prototype.first=function(m){return this.limit(1).toArray(function(b){return b[0]}).then(m)},Ft.prototype.last=function(m){return this.reverse().first(m)},Ft.prototype.filter=function(m){var b;return Jr(this._ctx,function(R){return m(R.value)}),(b=this._ctx).isMatch=Si(b.isMatch,m),this},Ft.prototype.and=function(m){return this.filter(m)},Ft.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},Ft.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ft.prototype.desc=function(){return this.reverse()},Ft.prototype.eachKey=function(m){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(R,I){m(I.key,I)})},Ft.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},Ft.prototype.eachPrimaryKey=function(m){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(R,I){m(I.primaryKey,I)})},Ft.prototype.keys=function(m){var b=this._ctx;b.keysOnly=!b.isMatch;var R=[];return this.each(function(I,j){R.push(j.key)}).then(function(){return R}).then(m)},Ft.prototype.primaryKeys=function(m){var b=this._ctx;if(b.dir==="next"&&Rs(b,!0)&&0<b.limit)return this._read(function(I){var j=Oc(b,b.table.core.schema);return b.table.core.query({trans:I,values:!1,limit:b.limit,query:{index:j,range:b.range}})}).then(function(I){return I.result}).then(m);b.keysOnly=!b.isMatch;var R=[];return this.each(function(I,j){R.push(j.primaryKey)}).then(function(){return R}).then(m)},Ft.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},Ft.prototype.firstKey=function(m){return this.limit(1).keys(function(b){return b[0]}).then(m)},Ft.prototype.lastKey=function(m){return this.reverse().firstKey(m)},Ft.prototype.distinct=function(){var m=this._ctx,m=m.index&&m.table.schema.idxByName[m.index];if(!m||!m.multi)return this;var b={};return Jr(this._ctx,function(j){var I=j.primaryKey.toString(),j=h(b,I);return b[I]=!0,!j}),this},Ft.prototype.modify=function(m){var b=this,R=this._ctx;return this._write(function(I){var j=typeof m=="function"?m:function(ue){return Cr(ue,m)},L=R.table.core,ae=L.schema.primaryKey,W=ae.outbound,Z=ae.extractKey,oe=200,ae=b.db._options.modifyChunkSize;ae&&(oe=typeof ae=="object"?ae[L.name]||ae["*"]||200:ae);function fe(ue,ye){var ge=ye.failures,ye=ye.numFailures;ce+=ue-ye;for(var be=0,Pe=s(ge);be<Pe.length;be++){var Ue=Pe[be];ee.push(ge[Ue])}}var ee=[],ce=0,re=[],se=m===zh;return b.clone().primaryKeys().then(function(ue){function he(ye){var be=Math.min(oe,ue.length-ye),Pe=ue.slice(ye,ye+be);return(se?Promise.resolve([]):L.getMany({trans:I,keys:Pe,cache:"immutable"})).then(function(Ue){var Ke=[],De=[],Le=W?[]:null,We=se?Pe:[];if(!se)for(var Ve=0;Ve<be;++Ve){var tt=Ue[Ve],St={value:K(tt),primKey:ue[ye+Ve]};j.call(St,St.value,St)!==!1&&(St.value==null?We.push(ue[ye+Ve]):W||dt(Z(tt),Z(St.value))===0?(De.push(St.value),W&&Le.push(ue[ye+Ve])):(We.push(ue[ye+Ve]),Ke.push(St.value)))}return Promise.resolve(0<Ke.length&&L.mutate({trans:I,type:"add",values:Ke}).then(function(Et){for(var Mt in Et.failures)We.splice(parseInt(Mt),1);fe(Ke.length,Et)})).then(function(){return(0<De.length||ge&&typeof m=="object")&&L.mutate({trans:I,type:"put",keys:Le,values:De,criteria:ge,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<ye}).then(function(Et){return fe(De.length,Et)})}).then(function(){return(0<We.length||ge&&se)&&L.mutate({trans:I,type:"delete",keys:We,criteria:ge,isAdditionalChunk:0<ye}).then(function(Et){return sr(R.table,We,Et)}).then(function(Et){return fe(We.length,Et)})}).then(function(){return ue.length>ye+be&&he(ye+oe)})})}var ge=Rs(R)&&R.limit===1/0&&(typeof m!="function"||se)&&{index:R.index,range:R.range};return he(0).then(function(){if(0<ee.length)throw new Te("Error modifying one or more objects",ee,ce,re);return ue.length})})})},Ft.prototype.delete=function(){var m=this._ctx,b=m.range;return!Rs(m)||m.table.schema.yProps||!m.isPrimKey&&b.type!==3?this.modify(zh):this._write(function(R){var I=m.table.core.schema.primaryKey,j=b;return m.table.core.count({trans:R,query:{index:I,range:j}}).then(function(L){return m.table.core.mutate({trans:R,type:"deleteRange",range:j}).then(function(oe){var Z=oe.failures,oe=oe.numFailures;if(oe)throw new Te("Could not delete some values",Object.keys(Z).map(function(ae){return Z[ae]}),L-oe);return L-oe})})})},Ft);function Ft(){}var zh=function(m,b){return b.value=null};function q0(m,b){return m<b?-1:m===b?0:1}function Nd(m,b){return b<m?-1:m===b?0:1}function jr(m,b,R){return m=m instanceof Ut?new m.Collection(m):m,m._ctx.error=new(R||TypeError)(b),m}function qi(m){return new m.Collection(m,function(){return jc("")}).limit(0)}function Xi(m,b,R,I){var j,L,W,Z,oe,ae,fe,ee=R.length;if(!R.every(function(se){return typeof se=="string"}))return jr(m,Dc);function ce(se){j=se==="next"?function(he){return he.toUpperCase()}:function(he){return he.toLowerCase()},L=se==="next"?function(he){return he.toLowerCase()}:function(he){return he.toUpperCase()},W=se==="next"?q0:Nd;var ue=R.map(function(he){return{lower:L(he),upper:j(he)}}).sort(function(he,ge){return W(he.lower,ge.lower)});Z=ue.map(function(he){return he.upper}),oe=ue.map(function(he){return he.lower}),fe=(ae=se)==="next"?"":I}ce("next"),m=new m.Collection(m,function(){return Qi(Z[0],oe[ee-1]+I)}),m._ondirectionchange=function(se){ce(se)};var re=0;return m._addAlgorithm(function(se,ue,he){var ge=se.key;if(typeof ge!="string")return!1;var ye=L(ge);if(b(ye,oe,re))return!0;for(var be=null,Pe=re;Pe<ee;++Pe){var Ue=function(Ke,De,Le,We,Ve,tt){for(var St=Math.min(Ke.length,We.length),Et=-1,Mt=0;Mt<St;++Mt){var Br=De[Mt];if(Br!==We[Mt])return Ve(Ke[Mt],Le[Mt])<0?Ke.substr(0,Mt)+Le[Mt]+Le.substr(Mt+1):Ve(Ke[Mt],We[Mt])<0?Ke.substr(0,Mt)+We[Mt]+Le.substr(Mt+1):0<=Et?Ke.substr(0,Et)+De[Et]+Le.substr(Et+1):null;Ve(Ke[Mt],Br)<0&&(Et=Mt)}return St<We.length&&tt==="next"?Ke+Le.substr(Ke.length):St<Ke.length&&tt==="prev"?Ke.substr(0,Le.length):Et<0?null:Ke.substr(0,Et)+We[Et]+Le.substr(Et+1)}(ge,ye,Z[Pe],oe[Pe],W,ae);Ue===null&&be===null?re=Pe+1:(be===null||0<W(be,Ue))&&(be=Ue)}return ue(be!==null?function(){se.continue(be+fe)}:he),!1}),m}function Qi(m,b,R,I){return{type:2,lower:m,upper:b,lowerOpen:R,upperOpen:I}}function jc(m){return{type:1,lower:m,upper:m}}var Ut=(Object.defineProperty(qn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),qn.prototype.between=function(m,b,R,I){R=R!==!1,I=I===!0;try{return 0<this._cmp(m,b)||this._cmp(m,b)===0&&(R||I)&&(!R||!I)?qi(this):new this.Collection(this,function(){return Qi(m,b,!R,!I)})}catch{return jr(this,bi)}},qn.prototype.equals=function(m){return m==null?jr(this,bi):new this.Collection(this,function(){return jc(m)})},qn.prototype.above=function(m){return m==null?jr(this,bi):new this.Collection(this,function(){return Qi(m,void 0,!0)})},qn.prototype.aboveOrEqual=function(m){return m==null?jr(this,bi):new this.Collection(this,function(){return Qi(m,void 0,!1)})},qn.prototype.below=function(m){return m==null?jr(this,bi):new this.Collection(this,function(){return Qi(void 0,m,!1,!0)})},qn.prototype.belowOrEqual=function(m){return m==null?jr(this,bi):new this.Collection(this,function(){return Qi(void 0,m)})},qn.prototype.startsWith=function(m){return typeof m!="string"?jr(this,Dc):this.between(m,m+Es,!0,!0)},qn.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):Xi(this,function(b,R){return b.indexOf(R[0])===0},[m],Es)},qn.prototype.equalsIgnoreCase=function(m){return Xi(this,function(b,R){return b===R[0]},[m],"")},qn.prototype.anyOfIgnoreCase=function(){var m=J.apply(q,arguments);return m.length===0?qi(this):Xi(this,function(b,R){return R.indexOf(b)!==-1},m,"")},qn.prototype.startsWithAnyOfIgnoreCase=function(){var m=J.apply(q,arguments);return m.length===0?qi(this):Xi(this,function(b,R){return R.some(function(I){return b.indexOf(I)===0})},m,Es)},qn.prototype.anyOf=function(){var m=this,b=J.apply(q,arguments),R=this._cmp;try{b.sort(R)}catch{return jr(this,bi)}if(b.length===0)return qi(this);var I=new this.Collection(this,function(){return Qi(b[0],b[b.length-1])});I._ondirectionchange=function(L){R=L==="next"?m._ascending:m._descending,b.sort(R)};var j=0;return I._addAlgorithm(function(L,W,Z){for(var oe=L.key;0<R(oe,b[j]);)if(++j===b.length)return W(Z),!1;return R(oe,b[j])===0||(W(function(){L.continue(b[j])}),!1)}),I},qn.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},qn.prototype.noneOf=function(){var m=J.apply(q,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return jr(this,bi)}var b=m.reduce(function(R,I){return R?R.concat([[R[R.length-1][1],I]]):[[-1/0,I]]},null);return b.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},qn.prototype.inAnyRange=function(ge,b){var R=this,I=this._cmp,j=this._ascending,L=this._descending,W=this._min,Z=this._max;if(ge.length===0)return qi(this);if(!ge.every(function(ye){return ye[0]!==void 0&&ye[1]!==void 0&&j(ye[0],ye[1])<=0}))return jr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ve.InvalidArgument);var oe=!b||b.includeLowers!==!1,ae=b&&b.includeUppers===!0,fe,ee=j;function ce(ye,be){return ee(ye[0],be[0])}try{(fe=ge.reduce(function(ye,be){for(var Pe=0,Ue=ye.length;Pe<Ue;++Pe){var Ke=ye[Pe];if(I(be[0],Ke[1])<0&&0<I(be[1],Ke[0])){Ke[0]=W(Ke[0],be[0]),Ke[1]=Z(Ke[1],be[1]);break}}return Pe===Ue&&ye.push(be),ye},[])).sort(ce)}catch{return jr(this,bi)}var re=0,se=ae?function(ye){return 0<j(ye,fe[re][1])}:function(ye){return 0<=j(ye,fe[re][1])},ue=oe?function(ye){return 0<L(ye,fe[re][0])}:function(ye){return 0<=L(ye,fe[re][0])},he=se,ge=new this.Collection(this,function(){return Qi(fe[0][0],fe[fe.length-1][1],!oe,!ae)});return ge._ondirectionchange=function(ye){ee=ye==="next"?(he=se,j):(he=ue,L),fe.sort(ce)},ge._addAlgorithm(function(ye,be,Pe){for(var Ue,Ke=ye.key;he(Ke);)if(++re===fe.length)return be(Pe),!1;return!se(Ue=Ke)&&!ue(Ue)||(R._cmp(Ke,fe[re][1])===0||R._cmp(Ke,fe[re][0])===0||be(function(){ee===j?ye.continue(fe[re][0]):ye.continue(fe[re][1])}),!1)}),ge},qn.prototype.startsWithAnyOf=function(){var m=J.apply(q,arguments);return m.every(function(b){return typeof b=="string"})?m.length===0?qi(this):this.inAnyRange(m.map(function(b){return[b,b+Es]})):jr(this,"startsWithAnyOf() only works with strings")},qn);function qn(){}function mo(m){return Ie(function(b){return xa(b),m(b.target.error),!1})}function xa(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var Nl="storagemutated",Ad="x-storagemutated-1",mn=wa(null,Nl),Md=(ei.prototype._lock=function(){return E(!Je.global),++this._reculock,this._reculock!==1||Je.global||(Je.lockOwnerFor=this),this},ei.prototype._unlock=function(){if(E(!Je.global),--this._reculock==0)for(Je.global||(Je.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{ks(m[1],m[0])}catch{}}return this},ei.prototype._locked=function(){return this._reculock&&Je.lockOwnerFor!==this},ei.prototype.create=function(m){var b=this;if(!this.mode)return this;var R=this.db.idbdb,I=this.db._state.dbOpenError;if(E(!this.idbtrans),!m&&!R)switch(I&&I.name){case"DatabaseClosedError":throw new ve.DatabaseClosed(I);case"MissingAPIError":throw new ve.MissingAPI(I.message,I);default:throw new ve.OpenFailed(I)}if(!this.active)throw new ve.TransactionInactive;return E(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||R).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ie(function(j){xa(j),b._reject(m.error)}),m.onabort=Ie(function(j){xa(j),b.active&&b._reject(new ve.Abort(m.error)),b.active=!1,b.on("abort").fire(j)}),m.oncomplete=Ie(function(){b.active=!1,b._resolve(),"mutatedParts"in m&&mn.storagemutated.fire(m.mutatedParts)}),this},ei.prototype._promise=function(m,b,R){var I=this;if(m==="readwrite"&&this.mode!=="readwrite")return Mn(new ve.ReadOnly("Transaction is readonly"));if(!this.active)return Mn(new ve.TransactionInactive);if(this._locked())return new Xe(function(L,W){I._blockedFuncs.push([function(){I._promise(m,b,R).then(L,W)},Je])});if(R)return xn(function(){var L=new Xe(function(W,Z){I._lock();var oe=b(W,Z,I);oe&&oe.then&&oe.then(W,Z)});return L.finally(function(){return I._unlock()}),L._lib=!0,L});var j=new Xe(function(L,W){var Z=b(L,W,I);Z&&Z.then&&Z.then(L,W)});return j._lib=!0,j},ei.prototype._root=function(){return this.parent?this.parent._root():this},ei.prototype.waitFor=function(m){var b,R=this._root(),I=Xe.resolve(m);R._waitingFor?R._waitingFor=R._waitingFor.then(function(){return I}):(R._waitingFor=I,R._waitingQueue=[],b=R.idbtrans.objectStore(R.storeNames[0]),function L(){for(++R._spinCount;R._waitingQueue.length;)R._waitingQueue.shift()();R._waitingFor&&(b.get(-1/0).onsuccess=L)}());var j=R._waitingFor;return new Xe(function(L,W){I.then(function(Z){return R._waitingQueue.push(Ie(L.bind(null,Z)))},function(Z){return R._waitingQueue.push(Ie(W.bind(null,Z)))}).finally(function(){R._waitingFor===j&&(R._waitingFor=null)})})},ei.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ve.Abort))},ei.prototype.table=function(m){var b=this._memoizedTables||(this._memoizedTables={});if(h(b,m))return b[m];var R=this.schema[m];if(!R)throw new ve.NotFound("Table "+m+" not part of transaction");return R=new this.db.Table(m,R,this),R.core=this.db.core.table(m),b[m]=R},ei);function ei(){}function Al(m,b,R,I,j,L,W,Z){return{name:m,keyPath:b,unique:R,multi:I,auto:j,compound:L,src:(R&&!W?"&":"")+(I?"*":"")+(j?"++":"")+Bh(b),type:Z}}function Bh(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function ba(m,b,R){return{name:m,primKey:b,indexes:R,mappedClass:null,idxByName:(I=function(j){return[j.name,j]},R.reduce(function(j,L,W){return W=I(L,W),W&&(j[W[0]]=W[1]),j},{}))};var I}var Lr=function(m){try{return m.only([[]]),Lr=function(){return[[]]},[[]]}catch{return Lr=function(){return Es},Es}};function Id(m){return m==null?function(){}:typeof m=="string"?(b=m).split(".").length===1?function(R){return R[b]}:function(R){return A(R,b)}:function(R){return A(R,m)};var b}function $h(m){return[].slice.call(m)}var zo=0;function eo(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function Lc(m,b,oe){function I(he){if(he.type===3)return null;if(he.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=he.lower,se=he.upper,ue=he.lowerOpen,he=he.upperOpen;return re===void 0?se===void 0?null:b.upperBound(se,!!he):se===void 0?b.lowerBound(re,!!ue):b.bound(re,se,!!ue,!!he)}function j(ce){var re,se=ce.name;return{name:se,schema:ce,mutate:function(ue){var he=ue.trans,ge=ue.type,ye=ue.keys,be=ue.values,Pe=ue.range;return new Promise(function(Ue,Ke){Ue=Ie(Ue);var De=he.objectStore(se),Le=De.keyPath==null,We=ge==="put"||ge==="add";if(!We&&ge!=="delete"&&ge!=="deleteRange")throw new Error("Invalid operation type: "+ge);var Ve,tt=(ye||be||{length:1}).length;if(ye&&be&&ye.length!==be.length)throw new Error("Given keys array must have same length as given values array.");if(tt===0)return Ue({numFailures:0,failures:{},results:[],lastResult:void 0});function St(Qn){++Br,xa(Qn)}var Et=[],Mt=[],Br=0;if(ge==="deleteRange"){if(Pe.type===4)return Ue({numFailures:Br,failures:Mt,results:[],lastResult:void 0});Pe.type===3?Et.push(Ve=De.clear()):Et.push(Ve=De.delete(I(Pe)))}else{var Le=We?Le?[be,ye]:[be,null]:[ye,null],bt=Le[0],lr=Le[1];if(We)for(var cr=0;cr<tt;++cr)Et.push(Ve=lr&&lr[cr]!==void 0?De[ge](bt[cr],lr[cr]):De[ge](bt[cr])),Ve.onerror=St;else for(cr=0;cr<tt;++cr)Et.push(Ve=De[ge](bt[cr])),Ve.onerror=St}function Ll(Qn){Qn=Qn.target.result,Et.forEach(function(rs,Na){return rs.error!=null&&(Mt[Na]=rs.error)}),Ue({numFailures:Br,failures:Mt,results:ge==="delete"?ye:Et.map(function(rs){return rs.result}),lastResult:Qn})}Ve.onerror=function(Qn){St(Qn),Ll(Qn)},Ve.onsuccess=Ll})},getMany:function(ue){var he=ue.trans,ge=ue.keys;return new Promise(function(ye,be){ye=Ie(ye);for(var Pe,Ue=he.objectStore(se),Ke=ge.length,De=new Array(Ke),Le=0,We=0,Ve=function(Et){Et=Et.target,De[Et._pos]=Et.result,++We===Le&&ye(De)},tt=mo(be),St=0;St<Ke;++St)ge[St]!=null&&((Pe=Ue.get(ge[St]))._pos=St,Pe.onsuccess=Ve,Pe.onerror=tt,++Le);Le===0&&ye(De)})},get:function(ue){var he=ue.trans,ge=ue.key;return new Promise(function(ye,be){ye=Ie(ye);var Pe=he.objectStore(se).get(ge);Pe.onsuccess=function(Ue){return ye(Ue.target.result)},Pe.onerror=mo(be)})},query:(re=ae,function(ue){return new Promise(function(he,ge){he=Ie(he);var ye,be,Pe,Le=ue.trans,Ue=ue.values,Ke=ue.limit,Ve=ue.query,De=Ke===1/0?void 0:Ke,We=Ve.index,Ve=Ve.range,Le=Le.objectStore(se),We=We.isPrimaryKey?Le:Le.index(We.name),Ve=I(Ve);if(Ke===0)return he({result:[]});re?((De=Ue?We.getAll(Ve,De):We.getAllKeys(Ve,De)).onsuccess=function(tt){return he({result:tt.target.result})},De.onerror=mo(ge)):(ye=0,be=!Ue&&"openKeyCursor"in We?We.openKeyCursor(Ve):We.openCursor(Ve),Pe=[],be.onsuccess=function(tt){var St=be.result;return St?(Pe.push(Ue?St.value:St.primaryKey),++ye===Ke?he({result:Pe}):void St.continue()):he({result:Pe})},be.onerror=mo(ge))})}),openCursor:function(ue){var he=ue.trans,ge=ue.values,ye=ue.query,be=ue.reverse,Pe=ue.unique;return new Promise(function(Ue,Ke){Ue=Ie(Ue);var We=ye.index,De=ye.range,Le=he.objectStore(se),Le=We.isPrimaryKey?Le:Le.index(We.name),We=be?Pe?"prevunique":"prev":Pe?"nextunique":"next",Ve=!ge&&"openKeyCursor"in Le?Le.openKeyCursor(I(De),We):Le.openCursor(I(De),We);Ve.onerror=mo(Ke),Ve.onsuccess=Ie(function(tt){var St,Et,Mt,Br,bt=Ve.result;bt?(bt.___id=++zo,bt.done=!1,St=bt.continue.bind(bt),Et=(Et=bt.continuePrimaryKey)&&Et.bind(bt),Mt=bt.advance.bind(bt),Br=function(){throw new Error("Cursor not stopped")},bt.trans=he,bt.stop=bt.continue=bt.continuePrimaryKey=bt.advance=function(){throw new Error("Cursor not started")},bt.fail=Ie(Ke),bt.next=function(){var lr=this,cr=1;return this.start(function(){return cr--?lr.continue():lr.stop()}).then(function(){return lr})},bt.start=function(lr){function cr(){if(Ve.result)try{lr()}catch(Qn){bt.fail(Qn)}else bt.done=!0,bt.start=function(){throw new Error("Cursor behind last entry")},bt.stop()}var Ll=new Promise(function(Qn,rs){Qn=Ie(Qn),Ve.onerror=mo(rs),bt.fail=rs,bt.stop=function(Na){bt.stop=bt.continue=bt.continuePrimaryKey=bt.advance=Br,Qn(Na)}});return Ve.onsuccess=Ie(function(Qn){Ve.onsuccess=cr,cr()}),bt.continue=St,bt.continuePrimaryKey=Et,bt.advance=Mt,cr(),Ll},Ue(bt)):Ue(null)},Ke)})},count:function(ue){var he=ue.query,ge=ue.trans,ye=he.index,be=he.range;return new Promise(function(Pe,Ue){var Ke=ge.objectStore(se),De=ye.isPrimaryKey?Ke:Ke.index(ye.name),Ke=I(be),De=Ke?De.count(Ke):De.count();De.onsuccess=Ie(function(Le){return Pe(Le.target.result)}),De.onerror=mo(Ue)})}}}var L,W,Z,fe=(W=oe,Z=$h((L=m).objectStoreNames),{schema:{name:L.name,tables:Z.map(function(ce){return W.objectStore(ce)}).map(function(ce){var re=ce.keyPath,he=ce.autoIncrement,se=a(re),ue={},he={name:ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:se,keyPath:re,autoIncrement:he,unique:!0,extractKey:Id(re)},indexes:$h(ce.indexNames).map(function(ge){return ce.index(ge)}).map(function(Pe){var ye=Pe.name,be=Pe.unique,Ue=Pe.multiEntry,Pe=Pe.keyPath,Ue={name:ye,compound:a(Pe),keyPath:Pe,unique:be,multiEntry:Ue,extractKey:Id(Pe)};return ue[eo(Pe)]=Ue}),getIndexByKeyPath:function(ge){return ue[eo(ge)]}};return ue[":id"]=he.primaryKey,re!=null&&(ue[eo(re)]=he.primaryKey),he})},hasGetAll:0<Z.length&&"getAll"in W.objectStore(Z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),oe=fe.schema,ae=fe.hasGetAll,fe=oe.tables.map(j),ee={};return fe.forEach(function(ce){return ee[ce.name]=ce}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(ce){if(!ee[ce])throw new Error("Table '".concat(ce,"' not found"));return ee[ce]},MIN_KEY:-1/0,MAX_KEY:Lr(b),schema:oe}}function Dd(m,b,R,I){var j=R.IDBKeyRange;return R.indexedDB,{dbcore:(I=Lc(b,j,I),m.dbcore.reduce(function(L,W){return W=W.create,r(r({},L),W(L))},I))}}function Ml(m,I){var R=I.db,I=Dd(m._middlewares,R,m._deps,I);m.core=I.dbcore,m.tables.forEach(function(j){var L=j.name;m.core.schema.tables.some(function(W){return W.name===L})&&(j.core=m.core.table(L),m[L]instanceof m.Table&&(m[L].core=j.core))})}function Fc(m,b,R,I){R.forEach(function(j){var L=I[j];b.forEach(function(W){var Z=function oe(ae,fe){return C(ae,fe)||(ae=f(ae))&&oe(ae,fe)}(W,j);(!Z||"value"in Z&&Z.value===void 0)&&(W===m.Transaction.prototype||W instanceof m.Transaction?w(W,j,{get:function(){return this.table(j)},set:function(oe){g(this,j,{value:oe,writable:!0,configurable:!0,enumerable:!0})}}):W[j]=new m.Table(j,L))})})}function go(m,b){b.forEach(function(R){for(var I in R)R[I]instanceof m.Table&&delete R[I]})}function Sa(m,b){return m._cfg.version-b._cfg.version}function _a(m,b,R,I){var j=m._dbSchema;R.objectStoreNames.contains("$meta")&&!j.$meta&&(j.$meta=ba("$meta",Zi("")[0],[]),m._storeNames.push("$meta"));var L=m._createTransaction("readwrite",m._storeNames,j);L.create(R),L._completion.catch(I);var W=L._reject.bind(L),Z=Je.transless||Je;xn(function(){return Je.trans=L,Je.transless=Z,b!==0?(Ml(m,R),ae=b,((oe=L).storeNames.includes("$meta")?oe.table("$meta").get("version").then(function(fe){return fe??ae}):Xe.resolve(ae)).then(function(fe){return ce=fe,re=L,se=R,ue=[],fe=(ee=m)._versions,he=ee._dbSchema=vo(0,ee.idbdb,se),(fe=fe.filter(function(ge){return ge._cfg.version>=ce})).length!==0?(fe.forEach(function(ge){ue.push(function(){var ye=he,be=ge._cfg.dbschema;yo(ee,ye,se),yo(ee,be,se),he=ee._dbSchema=be;var Pe=Ca(ye,be);Pe.add.forEach(function(We){Fr(se,We[0],We[1].primKey,We[1].indexes)}),Pe.change.forEach(function(We){if(We.recreate)throw new ve.Upgrade("Not yet support for changing primary key");var Ve=se.objectStore(We.name);We.add.forEach(function(tt){return ti(Ve,tt)}),We.change.forEach(function(tt){Ve.deleteIndex(tt.name),ti(Ve,tt)}),We.del.forEach(function(tt){return Ve.deleteIndex(tt)})});var Ue=ge._cfg.contentUpgrade;if(Ue&&ge._cfg.version>ce){Ml(ee,se),re._memoizedTables={};var Ke=O(be);Pe.del.forEach(function(We){Ke[We]=ye[We]}),go(ee,[ee.Transaction.prototype]),Fc(ee,[ee.Transaction.prototype],s(Ke),Ke),re.schema=Ke;var De,Le=ie(Ue);return Le&&rn(),Pe=Xe.follow(function(){var We;(De=Ue(re))&&Le&&(We=pt.bind(null,null),De.then(We,We))}),De&&typeof De.then=="function"?Xe.resolve(De):Pe.then(function(){return De})}}),ue.push(function(ye){var be,Pe,Ue=ge._cfg.dbschema;be=Ue,Pe=ye,[].slice.call(Pe.db.objectStoreNames).forEach(function(Ke){return be[Ke]==null&&Pe.db.deleteObjectStore(Ke)}),go(ee,[ee.Transaction.prototype]),Fc(ee,[ee.Transaction.prototype],ee._storeNames,ee._dbSchema),re.schema=ee._dbSchema}),ue.push(function(ye){ee.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ee.idbdb.version/10)===ge._cfg.version?(ee.idbdb.deleteObjectStore("$meta"),delete ee._dbSchema.$meta,ee._storeNames=ee._storeNames.filter(function(be){return be!=="$meta"})):ye.objectStore("$meta").put(ge._cfg.version,"version"))})}),function ge(){return ue.length?Xe.resolve(ue.shift()(re.idbtrans)).then(ge):Xe.resolve()}().then(function(){to(he,se)})):Xe.resolve();var ee,ce,re,se,ue,he}).catch(W)):(s(j).forEach(function(fe){Fr(R,fe,j[fe].primKey,j[fe].indexes)}),Ml(m,R),void Xe.follow(function(){return m.on.populate.fire(L)}).catch(W));var oe,ae})}function zc(m,b){to(m._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var R=vo(0,m.idbdb,b);yo(m,m._dbSchema,b);for(var I=0,j=Ca(R,m._dbSchema).change;I<j.length;I++){var L=function(W){if(W.change.length||W.recreate)return console.warn("Unable to patch indexes of table ".concat(W.name," because it has changes on the type of index or primary key.")),{value:void 0};var Z=b.objectStore(W.name);W.add.forEach(function(oe){ft&&console.debug("Dexie upgrade patch: Creating missing index ".concat(W.name,".").concat(oe.src)),ti(Z,oe)})}(j[I]);if(typeof L=="object")return L.value}}function Ca(m,b){var R,I={del:[],add:[],change:[]};for(R in m)b[R]||I.del.push(R);for(R in b){var j=m[R],L=b[R];if(j){var W={name:R,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(j.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||j.primKey.auto!==L.primKey.auto)W.recreate=!0,I.change.push(W);else{var Z=j.idxByName,oe=L.idxByName,ae=void 0;for(ae in Z)oe[ae]||W.del.push(ae);for(ae in oe){var fe=Z[ae],ee=oe[ae];fe?fe.src!==ee.src&&W.change.push(ee):W.add.push(ee)}(0<W.del.length||0<W.add.length||0<W.change.length)&&I.change.push(W)}}else I.add.push([R,L])}return I}function Fr(m,b,R,I){var j=m.db.createObjectStore(b,R.keyPath?{keyPath:R.keyPath,autoIncrement:R.auto}:{autoIncrement:R.auto});return I.forEach(function(L){return ti(j,L)}),j}function to(m,b){s(m).forEach(function(R){b.db.objectStoreNames.contains(R)||(ft&&console.debug("Dexie: Creating missing table",R),Fr(b,R,m[R].primKey,m[R].indexes))})}function ti(m,b){m.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function vo(m,b,R){var I={};return P(b.objectStoreNames,0).forEach(function(j){for(var L=R.objectStore(j),W=Al(Bh(ae=L.keyPath),ae||"",!0,!1,!!L.autoIncrement,ae&&typeof ae!="string",!0),Z=[],oe=0;oe<L.indexNames.length;++oe){var fe=L.index(L.indexNames[oe]),ae=fe.keyPath,fe=Al(fe.name,ae,!!fe.unique,!!fe.multiEntry,!1,ae&&typeof ae!="string",!1);Z.push(fe)}I[j]=ba(j,W,Z)}),I}function yo(m,b,R){for(var I=R.db.objectStoreNames,j=0;j<I.length;++j){var L=I[j],W=R.objectStore(L);m._hasGetAll="getAll"in W;for(var Z=0;Z<W.indexNames.length;++Z){var oe=W.indexNames[Z],ae=W.index(oe).keyPath,fe=typeof ae=="string"?ae:"["+P(ae).join("+")+"]";!b[L]||(ae=b[L].idxByName[fe])&&(ae.name=oe,delete b[L].idxByName[fe],b[L].idxByName[oe]=ae)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function Zi(m){return m.split(",").map(function(b,R){var L=b.split(":"),I=(j=L[1])===null||j===void 0?void 0:j.trim(),j=(b=L[0].trim()).replace(/([&*]|\+\+)/g,""),L=/^\[/.test(j)?j.match(/^\[(.*)\]$/)[1].split("+"):j;return Al(j,L||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(L),R===0,I)})}var Uh=(Ji.prototype._createTableSchema=ba,Ji.prototype._parseIndexSyntax=Zi,Ji.prototype._parseStoresSpec=function(m,b){var R=this;s(m).forEach(function(I){if(m[I]!==null){var j=R._parseIndexSyntax(m[I]),L=j.shift();if(!L)throw new ve.Schema("Invalid schema for table "+I+": "+m[I]);if(L.unique=!0,L.multi)throw new ve.Schema("Primary key cannot be multiEntry*");j.forEach(function(W){if(W.auto)throw new ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!W.keyPath)throw new ve.Schema("Index must have a name and cannot be an empty string")}),j=R._createTableSchema(I,L,j),b[I]=j}})},Ji.prototype.stores=function(R){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,R):R;var R=b._versions,I={},j={};return R.forEach(function(L){c(I,L._cfg.storesSource),j=L._cfg.dbschema={},L._parseStoresSpec(I,j)}),b._dbSchema=j,go(b,[b._allTables,b,b.Transaction.prototype]),Fc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],s(j),j),b._storeNames=s(j),this},Ji.prototype.upgrade=function(m){return this._cfg.contentUpgrade=lt(this._cfg.contentUpgrade||Ae,m),this},Ji);function Ji(){}function Il(m,b){var R=m._dbNamesDB;return R||(R=m._dbNamesDB=new $o(ya,{addons:[],indexedDB:m,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),R.table("dbnames")}function kr(m){return m&&typeof m.databases=="function"}function zr(m){return xn(function(){return Je.letThrough=!0,m()})}function dn(m){return!("from"in m)}var Bn=function(m,b){if(!this){var R=new Bn;return m&&"d"in m&&c(R,m),R}c(this,arguments.length?{d:1,from:m,to:1<arguments.length?b:m}:{d:0})};function Er(m,b,R){var I=dt(b,R);if(!isNaN(I)){if(0<I)throw RangeError();if(dn(m))return c(m,{from:b,to:R,d:1});var j=m.l,I=m.r;if(dt(R,m.from)<0)return j?Er(j,b,R):m.l={from:b,to:R,d:1,l:null,r:null},Bc(m);if(0<dt(b,m.to))return I?Er(I,b,R):m.r={from:b,to:R,d:1,l:null,r:null},Bc(m);dt(b,m.from)<0&&(m.from=b,m.l=null,m.d=I?I.d+1:1),0<dt(R,m.to)&&(m.to=R,m.r=null,m.d=m.l?m.l.d+1:1),R=!m.r,j&&!m.l&&ka(m,j),I&&R&&ka(m,I)}}function ka(m,b){dn(b)||function R(I,oe){var L=oe.from,W=oe.to,Z=oe.l,oe=oe.r;Er(I,L,W),Z&&R(I,Z),oe&&R(I,oe)}(m,b)}function Od(m,b){var R=Ea(b),I=R.next();if(I.done)return!1;for(var j=I.value,L=Ea(m),W=L.next(j.from),Z=W.value;!I.done&&!W.done;){if(dt(Z.from,j.to)<=0&&0<=dt(Z.to,j.from))return!0;dt(j.from,Z.from)<0?j=(I=R.next(Z.from)).value:Z=(W=L.next(j.from)).value}return!1}function Ea(m){var b=dn(m)?null:{s:0,n:m};return{next:function(R){for(var I=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,I)for(;b.n.l&&dt(R,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!I||dt(R,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Bc(m){var b,R,I=(((b=m.r)===null||b===void 0?void 0:b.d)||0)-(((R=m.l)===null||R===void 0?void 0:R.d)||0),j=1<I?"r":I<-1?"l":"";j&&(b=j=="r"?"l":"r",R=r({},m),I=m[j],m.from=I.from,m.to=I.to,m[j]=I[j],R[j]=I[b],(m[b]=R).d=jd(R)),m.d=jd(m)}function jd(R){var b=R.r,R=R.l;return(b?R?Math.max(b.d,R.d):b.d:R?R.d:0)+1}function As(m,b){return s(b).forEach(function(R){m[R]?ka(m[R],b[R]):m[R]=function I(j){var L,W,Z={};for(L in j)h(j,L)&&(W=j[L],Z[L]=!W||typeof W!="object"||U.has(W.constructor)?W:I(W));return Z}(b[R])}),m}function $c(m,b){return m.all||b.all||Object.keys(m).some(function(R){return b[R]&&Od(b[R],m[R])})}p(Bn.prototype,((Xn={add:function(m){return ka(this,m),this},addKey:function(m){return Er(this,m,m),this},addKeys:function(m){var b=this;return m.forEach(function(R){return Er(b,R,R)}),this},hasKey:function(m){var b=Ea(this).next(m).value;return b&&dt(b.from,m)<=0&&0<=dt(b.to,m)}})[X]=function(){return Ea(this)},Xn));var wo={},Dl={},Ld=!1;function Ms(m){As(Dl,m),Ld||(Ld=!0,setTimeout(function(){Ld=!1,Fd(Dl,!(Dl={}))},0))}function Fd(m,b){b===void 0&&(b=!1);var R=new Set;if(m.all)for(var I=0,j=Object.values(wo);I<j.length;I++)Pa(W=j[I],m,R,b);else for(var L in m){var W,Z=/^idb\:\/\/(.*)\/(.*)\//.exec(L);Z&&(L=Z[1],Z=Z[2],(W=wo["idb://".concat(L,"/").concat(Z)])&&Pa(W,m,R,b))}R.forEach(function(oe){return oe()})}function Pa(m,b,R,I){for(var j=[],L=0,W=Object.entries(m.queries.query);L<W.length;L++){for(var Z=W[L],oe=Z[0],ae=[],fe=0,ee=Z[1];fe<ee.length;fe++){var ce=ee[fe];$c(b,ce.obsSet)?ce.subscribers.forEach(function(he){return R.add(he)}):I&&ae.push(ce)}I&&j.push([oe,ae])}if(I)for(var re=0,se=j;re<se.length;re++){var ue=se[re],oe=ue[0],ae=ue[1];m.queries.query[oe]=ae}}function Uc(m){var b=m._state,R=m._deps.indexedDB;if(b.isBeingOpened||m.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Mn(b.dbOpenError):m});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var I=b.openCanceller,j=Math.round(10*m.verno),L=!1;function W(){if(b.openCanceller!==I)throw new ve.DatabaseClosed("db.open() was cancelled")}function Z(){return new Xe(function(ce,re){if(W(),!R)throw new ve.MissingAPI;var se=m.name,ue=b.autoSchema||!j?R.open(se):R.open(se,j);if(!ue)throw new ve.MissingAPI;ue.onerror=mo(re),ue.onblocked=Ie(m._fireOnBlocked),ue.onupgradeneeded=Ie(function(he){var ge;fe=ue.transaction,b.autoSchema&&!m._options.allowEmptyDB?(ue.onerror=xa,fe.abort(),ue.result.close(),(ge=R.deleteDatabase(se)).onsuccess=ge.onerror=Ie(function(){re(new ve.NoSuchDatabase("Database ".concat(se," doesnt exist")))})):(fe.onerror=mo(re),he=he.oldVersion>Math.pow(2,62)?0:he.oldVersion,ee=he<1,m.idbdb=ue.result,L&&zc(m,fe),_a(m,he/10,fe,re))},re),ue.onsuccess=Ie(function(){fe=null;var he,ge,ye,be,Pe,Ue=m.idbdb=ue.result,Ke=P(Ue.objectStoreNames);if(0<Ke.length)try{var De=Ue.transaction((be=Ke).length===1?be[0]:be,"readonly");if(b.autoSchema)ge=Ue,ye=De,(he=m).verno=ge.version/10,ye=he._dbSchema=vo(0,ge,ye),he._storeNames=P(ge.objectStoreNames,0),Fc(he,[he._allTables],s(ye),ye);else if(yo(m,m._dbSchema,De),((Pe=Ca(vo(0,(Pe=m).idbdb,De),Pe._dbSchema)).add.length||Pe.change.some(function(Le){return Le.add.length||Le.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ue.close(),j=Ue.version+1,L=!0,ce(Z());Ml(m,De)}catch{}Jo.push(m),Ue.onversionchange=Ie(function(Le){b.vcFired=!0,m.on("versionchange").fire(Le)}),Ue.onclose=Ie(function(){m.close({disableAutoOpen:!1})}),ee&&(Pe=m._deps,De=se,Ue=Pe.indexedDB,Pe=Pe.IDBKeyRange,kr(Ue)||De===ya||Il(Ue,Pe).put({name:De}).catch(Ae)),ce()},re)}).catch(function(ce){switch(ce==null?void 0:ce.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Z();break;case"VersionError":if(0<j)return j=0,Z()}return Xe.reject(ce)})}var oe,ae=b.dbReadyResolve,fe=null,ee=!1;return Xe.race([I,(typeof navigator>"u"?Xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ce){function re(){return indexedDB.databases().finally(ce)}oe=setInterval(re,100),re()}).finally(function(){return clearInterval(oe)}):Promise.resolve()).then(Z)]).then(function(){return W(),b.onReadyBeingFired=[],Xe.resolve(zr(function(){return m.on.ready.fire(m.vip)})).then(function ce(){if(0<b.onReadyBeingFired.length){var re=b.onReadyBeingFired.reduce(lt,Ae);return b.onReadyBeingFired=[],Xe.resolve(zr(function(){return re(m.vip)})).then(ce)}})}).finally(function(){b.openCanceller===I&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(ce){b.dbOpenError=ce;try{fe&&fe.abort()}catch{}return I===b.openCanceller&&m._close(),Mn(ce)}).finally(function(){b.openComplete=!0,ae()}).then(function(){var ce;return ee&&(ce={},m.tables.forEach(function(re){re.schema.indexes.forEach(function(se){se.name&&(ce["idb://".concat(m.name,"/").concat(re.name,"/").concat(se.name)]=new Bn(-1/0,[[[]]]))}),ce["idb://".concat(m.name,"/").concat(re.name,"/")]=ce["idb://".concat(m.name,"/").concat(re.name,"/:dels")]=new Bn(-1/0,[[[]]])}),mn(Nl).fire(ce),Fd(ce,!0)),m})}function Gc(m){function b(L){return m.next(L)}var R=j(b),I=j(function(L){return m.throw(L)});function j(L){return function(oe){var Z=L(oe),oe=Z.value;return Z.done?oe:oe&&typeof oe.then=="function"?oe.then(R,I):a(oe)?Promise.all(oe).then(R,I):R(oe)}}return j(b)()}function Ol(m,b,R){for(var I=a(m)?m.slice():[m],j=0;j<R;++j)I.push(b);return I}var Ta={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return r(r({},m),{table:function(b){var R=m.table(b),I=R.schema,j={},L=[];function W(ee,ce,re){var se=eo(ee),ue=j[se]=j[se]||[],he=ee==null?0:typeof ee=="string"?1:ee.length,ge=0<ce,ge=r(r({},re),{name:ge?"".concat(se,"(virtual-from:").concat(re.name,")"):re.name,lowLevelIndex:re,isVirtual:ge,keyTail:ce,keyLength:he,extractKey:Id(ee),unique:!ge&&re.unique});return ue.push(ge),ge.isPrimaryKey||L.push(ge),1<he&&W(he===2?ee[0]:ee.slice(0,he-1),ce+1,re),ue.sort(function(ye,be){return ye.keyTail-be.keyTail}),ge}b=W(I.primaryKey.keyPath,0,I.primaryKey),j[":id"]=[b];for(var Z=0,oe=I.indexes;Z<oe.length;Z++){var ae=oe[Z];W(ae.keyPath,0,ae)}function fe(ee){var ce,re=ee.query.index;return re.isVirtual?r(r({},ee),{query:{index:re.lowLevelIndex,range:(ce=ee.query.range,re=re.keyTail,{type:ce.type===1?2:ce.type,lower:Ol(ce.lower,ce.lowerOpen?m.MAX_KEY:m.MIN_KEY,re),lowerOpen:!0,upper:Ol(ce.upper,ce.upperOpen?m.MIN_KEY:m.MAX_KEY,re),upperOpen:!0})}}):ee}return r(r({},R),{schema:r(r({},I),{primaryKey:b,indexes:L,getIndexByKeyPath:function(ee){return(ee=j[eo(ee)])&&ee[0]}}),count:function(ee){return R.count(fe(ee))},query:function(ee){return R.query(fe(ee))},openCursor:function(ee){var ce=ee.query.index,re=ce.keyTail,se=ce.isVirtual,ue=ce.keyLength;return se?R.openCursor(fe(ee)).then(function(ge){return ge&&he(ge)}):R.openCursor(ee);function he(ge){return Object.create(ge,{continue:{value:function(ye){ye!=null?ge.continue(Ol(ye,ee.reverse?m.MAX_KEY:m.MIN_KEY,re)):ee.unique?ge.continue(ge.key.slice(0,ue).concat(ee.reverse?m.MIN_KEY:m.MAX_KEY,re)):ge.continue()}},continuePrimaryKey:{value:function(ye,be){ge.continuePrimaryKey(Ol(ye,m.MAX_KEY,re),be)}},primaryKey:{get:function(){return ge.primaryKey}},key:{get:function(){var ye=ge.key;return ue===1?ye[0]:ye.slice(0,ue)}},value:{get:function(){return ge.value}}})}}})}})}};function Vc(m,b,R,I){return R=R||{},I=I||"",s(m).forEach(function(j){var L,W,Z;h(b,j)?(L=m[j],W=b[j],typeof L=="object"&&typeof W=="object"&&L&&W?(Z=G(L))!==G(W)?R[I+j]=b[j]:Z==="Object"?Vc(L,W,R,I+j+"."):L!==W&&(R[I+j]=b[j]):L!==W&&(R[I+j]=b[j])):R[I+j]=void 0}),s(b).forEach(function(j){h(m,j)||(R[I+j]=b[j])}),R}function Ra(m,b){return b.type==="delete"?b.keys:b.keys||b.values.map(m.extractKey)}var Hc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return r(r({},m),{table:function(b){var R=m.table(b),I=R.schema.primaryKey;return r(r({},R),{mutate:function(j){var L=Je.trans,W=L.table(b).hook,Z=W.deleting,oe=W.creating,ae=W.updating;switch(j.type){case"add":if(oe.fire===Ae)break;return L._promise("readwrite",function(){return fe(j)},!0);case"put":if(oe.fire===Ae&&ae.fire===Ae)break;return L._promise("readwrite",function(){return fe(j)},!0);case"delete":if(Z.fire===Ae)break;return L._promise("readwrite",function(){return fe(j)},!0);case"deleteRange":if(Z.fire===Ae)break;return L._promise("readwrite",function(){return function ee(ce,re,se){return R.query({trans:ce,values:!1,query:{index:I,range:re},limit:se}).then(function(ue){var he=ue.result;return fe({type:"delete",keys:he,trans:ce}).then(function(ge){return 0<ge.numFailures?Promise.reject(ge.failures[0]):he.length<se?{failures:[],numFailures:0,lastResult:void 0}:ee(ce,r(r({},re),{lower:he[he.length-1],lowerOpen:!0}),se)})})}(j.trans,j.range,1e4)},!0)}return R.mutate(j);function fe(ee){var ce,re,se,ue=Je.trans,he=ee.keys||Ra(I,ee);if(!he)throw new Error("Keys missing");return(ee=ee.type==="add"||ee.type==="put"?r(r({},ee),{keys:he}):r({},ee)).type!=="delete"&&(ee.values=o([],ee.values)),ee.keys&&(ee.keys=o([],ee.keys)),ce=R,se=he,((re=ee).type==="add"?Promise.resolve([]):ce.getMany({trans:re.trans,keys:se,cache:"immutable"})).then(function(ge){var ye=he.map(function(be,Pe){var Ue,Ke,De,Le=ge[Pe],We={onerror:null,onsuccess:null};return ee.type==="delete"?Z.fire.call(We,be,Le,ue):ee.type==="add"||Le===void 0?(Ue=oe.fire.call(We,be,ee.values[Pe],ue),be==null&&Ue!=null&&(ee.keys[Pe]=be=Ue,I.outbound||z(ee.values[Pe],I.keyPath,be))):(Ue=Vc(Le,ee.values[Pe]),(Ke=ae.fire.call(We,Ue,be,Le,ue))&&(De=ee.values[Pe],Object.keys(Ke).forEach(function(Ve){h(De,Ve)?De[Ve]=Ke[Ve]:z(De,Ve,Ke[Ve])}))),We});return R.mutate(ee).then(function(be){for(var Pe=be.failures,Ue=be.results,Ke=be.numFailures,be=be.lastResult,De=0;De<he.length;++De){var Le=(Ue||he)[De],We=ye[De];Le==null?We.onerror&&We.onerror(Pe[De]):We.onsuccess&&We.onsuccess(ee.type==="put"&&ge[De]?ee.values[De]:Le)}return{failures:Pe,results:Ue,numFailures:Ke,lastResult:be}}).catch(function(be){return ye.forEach(function(Pe){return Pe.onerror&&Pe.onerror(be)}),Promise.reject(be)})})}}})}})}};function Is(m,b,R){try{if(!b||b.keys.length<m.length)return null;for(var I=[],j=0,L=0;j<b.keys.length&&L<m.length;++j)dt(b.keys[j],m[L])===0&&(I.push(R?K(b.values[j]):b.values[j]),++L);return I.length===m.length?I:null}catch{return null}}var zd={stack:"dbcore",level:-1,create:function(m){return{table:function(b){var R=m.table(b);return r(r({},R),{getMany:function(I){if(!I.cache)return R.getMany(I);var j=Is(I.keys,I.trans._cache,I.cache==="clone");return j?Xe.resolve(j):R.getMany(I).then(function(L){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?K(L):L},L})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),R.mutate(I)}})}}}};function Wc(m,b){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Bd(m,b){switch(m){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var $d={stack:"dbcore",level:0,name:"Observability",create:function(m){var b=m.schema.name,R=new Bn(m.MIN_KEY,m.MAX_KEY);return r(r({},m),{transaction:function(I,j,L){if(Je.subscr&&j!=="readonly")throw new ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Je.querier));return m.transaction(I,j,L)},table:function(I){var j=m.table(I),L=j.schema,W=L.primaryKey,ee=L.indexes,Z=W.extractKey,oe=W.outbound,ae=W.autoIncrement&&ee.filter(function(re){return re.compound&&re.keyPath.includes(W.keyPath)}),fe=r(r({},j),{mutate:function(re){function se(Ve){return Ve="idb://".concat(b,"/").concat(I,"/").concat(Ve),be[Ve]||(be[Ve]=new Bn)}var ue,he,ge,ye=re.trans,be=re.mutatedParts||(re.mutatedParts={}),Pe=se(""),Ue=se(":dels"),Ke=re.type,We=re.type==="deleteRange"?[re.range]:re.type==="delete"?[re.keys]:re.values.length<50?[Ra(W,re).filter(function(Ve){return Ve}),re.values]:[],De=We[0],Le=We[1],We=re.trans._cache;return a(De)?(Pe.addKeys(De),(We=Ke==="delete"||De.length===Le.length?Is(De,We):null)||Ue.addKeys(De),(We||Le)&&(ue=se,he=We,ge=Le,L.indexes.forEach(function(Ve){var tt=ue(Ve.name||"");function St(Mt){return Mt!=null?Ve.extractKey(Mt):null}function Et(Mt){return Ve.multiEntry&&a(Mt)?Mt.forEach(function(Br){return tt.addKey(Br)}):tt.addKey(Mt)}(he||ge).forEach(function(Mt,lr){var bt=he&&St(he[lr]),lr=ge&&St(ge[lr]);dt(bt,lr)!==0&&(bt!=null&&Et(bt),lr!=null&&Et(lr))})}))):De?(Le={from:(Le=De.lower)!==null&&Le!==void 0?Le:m.MIN_KEY,to:(Le=De.upper)!==null&&Le!==void 0?Le:m.MAX_KEY},Ue.add(Le),Pe.add(Le)):(Pe.add(R),Ue.add(R),L.indexes.forEach(function(Ve){return se(Ve.name).add(R)})),j.mutate(re).then(function(Ve){return!De||re.type!=="add"&&re.type!=="put"||(Pe.addKeys(Ve.results),ae&&ae.forEach(function(tt){for(var St=re.values.map(function(bt){return tt.extractKey(bt)}),Et=tt.keyPath.findIndex(function(bt){return bt===W.keyPath}),Mt=0,Br=Ve.results.length;Mt<Br;++Mt)St[Mt][Et]=Ve.results[Mt];se(tt.name).addKeys(St)})),ye.mutatedParts=As(ye.mutatedParts||{},be),Ve})}}),ee=function(se){var ue=se.query,se=ue.index,ue=ue.range;return[se,new Bn((se=ue.lower)!==null&&se!==void 0?se:m.MIN_KEY,(ue=ue.upper)!==null&&ue!==void 0?ue:m.MAX_KEY)]},ce={get:function(re){return[W,new Bn(re.key)]},getMany:function(re){return[W,new Bn().addKeys(re.keys)]},count:ee,query:ee,openCursor:ee};return s(ce).forEach(function(re){fe[re]=function(se){var ue=Je.subscr,he=!!ue,ge=Wc(Je,j)&&Bd(re,se)?se.obsSet={}:ue;if(he){var ye=function(Le){return Le="idb://".concat(b,"/").concat(I,"/").concat(Le),ge[Le]||(ge[Le]=new Bn)},be=ye(""),Pe=ye(":dels"),ue=ce[re](se),he=ue[0],ue=ue[1];if((re==="query"&&he.isPrimaryKey&&!se.values?Pe:ye(he.name||"")).add(ue),!he.isPrimaryKey){if(re!=="count"){var Ue=re==="query"&&oe&&se.values&&j.query(r(r({},se),{values:!1}));return j[re].apply(this,arguments).then(function(Le){if(re==="query"){if(oe&&se.values)return Ue.then(function(St){return St=St.result,be.addKeys(St),Le});var We=se.values?Le.result.map(Z):Le.result;(se.values?be:Pe).addKeys(We)}else if(re==="openCursor"){var Ve=Le,tt=se.values;return Ve&&Object.create(Ve,{key:{get:function(){return Pe.addKey(Ve.primaryKey),Ve.key}},primaryKey:{get:function(){var St=Ve.primaryKey;return Pe.addKey(St),St}},value:{get:function(){return tt&&be.addKey(Ve.primaryKey),Ve.value}}})}return Le})}Pe.add(R)}}return j[re].apply(this,arguments)}}),fe}})}};function Kc(m,b,R){if(R.numFailures===0)return b;if(b.type==="deleteRange")return null;var I=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return R.numFailures===I?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(j,L){return!(L in R.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(j,L){return!(L in R.failures)})),b)}function es(m,b){return R=m,((I=b).lower===void 0||(I.lowerOpen?0<dt(R,I.lower):0<=dt(R,I.lower)))&&(m=m,(b=b).upper===void 0||(b.upperOpen?dt(m,b.upper)<0:dt(m,b.upper)<=0));var R,I}function no(m,b,ce,I,j,L){if(!ce||ce.length===0)return m;var W=b.query.index,Z=W.multiEntry,oe=b.query.range,ae=I.schema.primaryKey.extractKey,fe=W.extractKey,ee=(W.lowLevelIndex||W).extractKey,ce=ce.reduce(function(re,se){var ue=re,he=[];if(se.type==="add"||se.type==="put")for(var ge=new Bn,ye=se.values.length-1;0<=ye;--ye){var be,Pe=se.values[ye],Ue=ae(Pe);ge.hasKey(Ue)||(be=fe(Pe),(Z&&a(be)?be.some(function(Ve){return es(Ve,oe)}):es(be,oe))&&(ge.addKey(Ue),he.push(Pe)))}switch(se.type){case"add":var Ke=new Bn().addKeys(b.values?re.map(function(tt){return ae(tt)}):re),ue=re.concat(b.values?he.filter(function(tt){return tt=ae(tt),!Ke.hasKey(tt)&&(Ke.addKey(tt),!0)}):he.map(function(tt){return ae(tt)}).filter(function(tt){return!Ke.hasKey(tt)&&(Ke.addKey(tt),!0)}));break;case"put":var De=new Bn().addKeys(se.values.map(function(tt){return ae(tt)}));ue=re.filter(function(tt){return!De.hasKey(b.values?ae(tt):tt)}).concat(b.values?he:he.map(function(tt){return ae(tt)}));break;case"delete":var Le=new Bn().addKeys(se.keys);ue=re.filter(function(tt){return!Le.hasKey(b.values?ae(tt):tt)});break;case"deleteRange":var We=se.range;ue=re.filter(function(tt){return!es(ae(tt),We)})}return ue},m);return ce===m?m:(ce.sort(function(re,se){return dt(ee(re),ee(se))||dt(ae(re),ae(se))}),b.limit&&b.limit<1/0&&(ce.length>b.limit?ce.length=b.limit:m.length===b.limit&&ce.length<b.limit&&(j.dirty=!0)),L?Object.freeze(ce):ce)}function ts(m,b){return dt(m.lower,b.lower)===0&&dt(m.upper,b.upper)===0&&!!m.lowerOpen==!!b.lowerOpen&&!!m.upperOpen==!!b.upperOpen}function Ud(m,b){return function(R,I,j,L){if(R===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=dt(R,I))===0){if(j&&L)return 0;if(j)return 1;if(L)return-1}return I}(m.lower,b.lower,m.lowerOpen,b.lowerOpen)<=0&&0<=function(R,I,j,L){if(R===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=dt(R,I))===0){if(j&&L)return 0;if(j)return-1;if(L)return 1}return I}(m.upper,b.upper,m.upperOpen,b.upperOpen)}function Gh(m,b,R,I){m.subscribers.add(R),I.addEventListener("abort",function(){var j,L;m.subscribers.delete(R),m.subscribers.size===0&&(j=m,L=b,setTimeout(function(){j.subscribers.size===0&&$(L,j)},3e3))})}var ni={stack:"dbcore",level:0,name:"Cache",create:function(m){var b=m.schema.name;return r(r({},m),{transaction:function(R,I,j){var L,W,Z=m.transaction(R,I,j);return I==="readwrite"&&(W=(L=new AbortController).signal,j=function(oe){return function(){if(L.abort(),I==="readwrite"){for(var ae=new Set,fe=0,ee=R;fe<ee.length;fe++){var ce=ee[fe],re=wo["idb://".concat(b,"/").concat(ce)];if(re){var se=m.table(ce),ue=re.optimisticOps.filter(function(tt){return tt.trans===Z});if(Z._explicit&&oe&&Z.mutatedParts)for(var he=0,ge=Object.values(re.queries.query);he<ge.length;he++)for(var ye=0,be=(Ke=ge[he]).slice();ye<be.length;ye++)$c((De=be[ye]).obsSet,Z.mutatedParts)&&($(Ke,De),De.subscribers.forEach(function(tt){return ae.add(tt)}));else if(0<ue.length){re.optimisticOps=re.optimisticOps.filter(function(tt){return tt.trans!==Z});for(var Pe=0,Ue=Object.values(re.queries.query);Pe<Ue.length;Pe++)for(var Ke,De,Le,We=0,Ve=(Ke=Ue[Pe]).slice();We<Ve.length;We++)(De=Ve[We]).res!=null&&Z.mutatedParts&&(oe&&!De.dirty?(Le=Object.isFrozen(De.res),Le=no(De.res,De.req,ue,se,De,Le),De.dirty?($(Ke,De),De.subscribers.forEach(function(tt){return ae.add(tt)})):Le!==De.res&&(De.res=Le,De.promise=Xe.resolve({result:Le}))):(De.dirty&&$(Ke,De),De.subscribers.forEach(function(tt){return ae.add(tt)})))}}}ae.forEach(function(tt){return tt()})}}},Z.addEventListener("abort",j(!1),{signal:W}),Z.addEventListener("error",j(!1),{signal:W}),Z.addEventListener("complete",j(!0),{signal:W})),Z},table:function(R){var I=m.table(R),j=I.schema.primaryKey;return r(r({},I),{mutate:function(L){var W=Je.trans;if(j.outbound||W.db._options.cache==="disabled"||W.explicit||W.idbtrans.mode!=="readwrite")return I.mutate(L);var Z=wo["idb://".concat(b,"/").concat(R)];return Z?(W=I.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||Ra(j,L).some(function(oe){return oe==null}))?(Z.optimisticOps.push(L),L.mutatedParts&&Ms(L.mutatedParts),W.then(function(oe){0<oe.numFailures&&($(Z.optimisticOps,L),(oe=Kc(0,L,oe))&&Z.optimisticOps.push(oe),L.mutatedParts&&Ms(L.mutatedParts))}),W.catch(function(){$(Z.optimisticOps,L),L.mutatedParts&&Ms(L.mutatedParts)})):W.then(function(oe){var ae=Kc(0,r(r({},L),{values:L.values.map(function(fe,ee){var ce;return oe.failures[ee]?fe:(fe=(ce=j.keyPath)!==null&&ce!==void 0&&ce.includes(".")?K(fe):r({},fe),z(fe,j.keyPath,oe.results[ee]),fe)})}),oe);Z.optimisticOps.push(ae),queueMicrotask(function(){return L.mutatedParts&&Ms(L.mutatedParts)})}),W):I.mutate(L)},query:function(L){if(!Wc(Je,I)||!Bd("query",L))return I.query(L);var W=((ae=Je.trans)===null||ae===void 0?void 0:ae.db._options.cache)==="immutable",ee=Je,Z=ee.requery,oe=ee.signal,ae=function(se,ue,he,ge){var ye=wo["idb://".concat(se,"/").concat(ue)];if(!ye)return[];if(!(ue=ye.queries[he]))return[null,!1,ye,null];var be=ue[(ge.query?ge.query.index.name:null)||""];if(!be)return[null,!1,ye,null];switch(he){case"query":var Pe=be.find(function(Ue){return Ue.req.limit===ge.limit&&Ue.req.values===ge.values&&ts(Ue.req.query.range,ge.query.range)});return Pe?[Pe,!0,ye,be]:[be.find(function(Ue){return("limit"in Ue.req?Ue.req.limit:1/0)>=ge.limit&&(!ge.values||Ue.req.values)&&Ud(Ue.req.query.range,ge.query.range)}),!1,ye,be];case"count":return Pe=be.find(function(Ue){return ts(Ue.req.query.range,ge.query.range)}),[Pe,!!Pe,ye,be]}}(b,R,"query",L),fe=ae[0],ee=ae[1],ce=ae[2],re=ae[3];return fe&&ee?fe.obsSet=L.obsSet:(ee=I.query(L).then(function(se){var ue=se.result;if(fe&&(fe.res=ue),W){for(var he=0,ge=ue.length;he<ge;++he)Object.freeze(ue[he]);Object.freeze(ue)}else se.result=K(ue);return se}).catch(function(se){return re&&fe&&$(re,fe),Promise.reject(se)}),fe={obsSet:L.obsSet,promise:ee,subscribers:new Set,type:"query",req:L,dirty:!1},re?re.push(fe):(re=[fe],(ce=ce||(wo["idb://".concat(b,"/").concat(R)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=re)),Gh(fe,re,Z,oe),fe.promise.then(function(se){return{result:no(se.result,L,ce==null?void 0:ce.optimisticOps,I,fe,W)}})}})}})}};function Bo(m,b){return new Proxy(m,{get:function(R,I,j){return I==="db"?b:Reflect.get(R,I,j)}})}var $o=(Pn.prototype.version=function(m){if(isNaN(m)||m<.1)throw new ve.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var b=this._versions,R=b.filter(function(I){return I._cfg.version===m})[0];return R||(R=new this.Version(m),b.push(R),b.sort(Sa),R.stores({}),this._state.autoSchema=!1,R)},Pn.prototype._whenReady=function(m){var b=this;return this.idbdb&&(this._state.openComplete||Je.letThrough||this._vip)?m():new Xe(function(R,I){if(b._state.openComplete)return I(new ve.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void I(new ve.DatabaseClosed);b.open().catch(Ae)}b._state.dbReadyPromise.then(R,I)}).then(m)},Pn.prototype.use=function(m){var b=m.stack,R=m.create,I=m.level,j=m.name;return j&&this.unuse({stack:b,name:j}),m=this._middlewares[b]||(this._middlewares[b]=[]),m.push({stack:b,create:R,level:I??10,name:j}),m.sort(function(L,W){return L.level-W.level}),this},Pn.prototype.unuse=function(m){var b=m.stack,R=m.name,I=m.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(j){return I?j.create!==I:!!R&&j.name!==R})),this},Pn.prototype.open=function(){var m=this;return ks(Xt,function(){return Uc(m)})},Pn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var m=this._state,b=Jo.indexOf(this);if(0<=b&&Jo.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new Xe(function(R){m.dbReadyResolve=R}),m.openCanceller=new Xe(function(R,I){m.cancelOpen=I}))},Pn.prototype.close=function(R){var b=(R===void 0?{disableAutoOpen:!0}:R).disableAutoOpen,R=this._state;b?(R.isBeingOpened&&R.cancelOpen(new ve.DatabaseClosed),this._close(),R.autoOpen=!1,R.dbOpenError=new ve.DatabaseClosed):(this._close(),R.autoOpen=this._options.autoOpen||R.isBeingOpened,R.openComplete=!1,R.dbOpenError=null)},Pn.prototype.delete=function(m){var b=this;m===void 0&&(m={disableAutoOpen:!0});var R=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new Xe(function(j,L){function W(){b.close(m);var Z=b._deps.indexedDB.deleteDatabase(b.name);Z.onsuccess=Ie(function(){var oe,ae,fe;oe=b._deps,ae=b.name,fe=oe.indexedDB,oe=oe.IDBKeyRange,kr(fe)||ae===ya||Il(fe,oe).delete(ae).catch(Ae),j()}),Z.onerror=mo(L),Z.onblocked=b._fireOnBlocked}if(R)throw new ve.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(W):W()})},Pn.prototype.backendDB=function(){return this.idbdb},Pn.prototype.isOpen=function(){return this.idbdb!==null},Pn.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},Pn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pn.prototype,"tables",{get:function(){var m=this;return s(this._allTables).map(function(b){return m._allTables[b]})},enumerable:!1,configurable:!0}),Pn.prototype.transaction=function(){var m=(function(b,R,I){var j=arguments.length;if(j<2)throw new ve.InvalidArgument("Too few arguments");for(var L=new Array(j-1);--j;)L[j-1]=arguments[j];return I=L.pop(),[b,B(L),I]}).apply(this,arguments);return this._transaction.apply(this,m)},Pn.prototype._transaction=function(m,b,R){var I=this,j=Je.trans;j&&j.db===this&&m.indexOf("!")===-1||(j=null);var L,W,Z=m.indexOf("?")!==-1;m=m.replace("!","").replace("?","");try{if(W=b.map(function(ae){if(ae=ae instanceof I.Table?ae.name:ae,typeof ae!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ae}),m=="r"||m===El)L=El;else{if(m!="rw"&&m!=Td)throw new ve.InvalidArgument("Invalid transaction mode: "+m);L=Td}if(j){if(j.mode===El&&L===Td){if(!Z)throw new ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&W.forEach(function(ae){if(j&&j.storeNames.indexOf(ae)===-1){if(!Z)throw new ve.SubTransaction("Table "+ae+" not included in parent transaction.");j=null}}),Z&&j&&!j.active&&(j=null)}}catch(ae){return j?j._promise(null,function(fe,ee){ee(ae)}):Mn(ae)}var oe=(function ae(fe,ee,ce,re,se){return Xe.resolve().then(function(){var ue=Je.transless||Je,he=fe._createTransaction(ee,ce,fe._dbSchema,re);if(he.explicit=!0,ue={trans:he,transless:ue},re)he.idbtrans=re.idbtrans;else try{he.create(),he.idbtrans._explicit=!0,fe._state.PR1398_maxLoop=3}catch(be){return be.name===Q.InvalidState&&fe.isOpen()&&0<--fe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),fe.close({disableAutoOpen:!1}),fe.open().then(function(){return ae(fe,ee,ce,null,se)})):Mn(be)}var ge,ye=ie(se);return ye&&rn(),ue=Xe.follow(function(){var be;(ge=se.call(he,he))&&(ye?(be=pt.bind(null,null),ge.then(be,be)):typeof ge.next=="function"&&typeof ge.throw=="function"&&(ge=Gc(ge)))},ue),(ge&&typeof ge.then=="function"?Xe.resolve(ge).then(function(be){return he.active?be:Mn(new ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ue.then(function(){return ge})).then(function(be){return re&&he._resolve(),he._completion.then(function(){return be})}).catch(function(be){return he._reject(be),Mn(be)})})}).bind(null,this,L,W,j,R);return j?j._promise(L,oe,"lock"):Je.trans?ks(Je.transless,function(){return I._whenReady(oe)}):this._whenReady(oe)},Pn.prototype.table=function(m){if(!h(this._allTables,m))throw new ve.InvalidTable("Table ".concat(m," does not exist"));return this._allTables[m]},Pn);function Pn(m,b){var R=this;this._middlewares={},this.verno=0;var I=Pn.dependencies;this._options=b=r({addons:Pn.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},I=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var j,L,W,Z,oe,ae={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ae,dbReadyPromise:null,cancelOpen:Ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ae.dbReadyPromise=new Xe(function(ee){ae.dbReadyResolve=ee}),ae.openCanceller=new Xe(function(ee,ce){ae.cancelOpen=ce}),this._state=ae,this.name=m,this.on=wa(this,"populate","blocked","versionchange","close",{ready:[lt,Ae]}),this.once=function(ee,ce){var re=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];R.on(ee).unsubscribe(re),ce.apply(R,se)};return R.on(ee,re)},this.on.ready.subscribe=y(this.on.ready.subscribe,function(ee){return function(ce,re){Pn.vip(function(){var se,ue=R._state;ue.openComplete?(ue.dbOpenError||Xe.resolve().then(ce),re&&ee(ce)):ue.onReadyBeingFired?(ue.onReadyBeingFired.push(ce),re&&ee(ce)):(ee(ce),se=R,re||ee(function he(){se.on.ready.unsubscribe(ce),se.on.ready.unsubscribe(he)}))})}}),this.Collection=(j=this,Yi(Rl.prototype,function(ge,he){this.db=j;var re=Ps,se=null;if(he)try{re=he()}catch(ye){se=ye}var ue=ge._ctx,he=ue.table,ge=he.hook.reading.fire;this._ctx={table:he,index:ue.index,isPrimKey:!ue.index||he.schema.primKey.keyPath&&ue.index===he.schema.primKey.name,range:re,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:se,or:ue.or,valueMapper:ge!==Me?ge:null}})),this.Table=(L=this,Yi(Pl.prototype,function(ee,ce,re){this.db=L,this._tx=re,this.name=ee,this.schema=ce,this.hook=L._allTables[ee]?L._allTables[ee].hook:wa(null,{creating:[cn,Ae],reading:[Ze,Me],updating:[qe,Ae],deleting:[je,Ae]})})),this.Transaction=(W=this,Yi(Md.prototype,function(ee,ce,re,se,ue){var he=this;ee!=="readonly"&&ce.forEach(function(ge){ge=(ge=re[ge])===null||ge===void 0?void 0:ge.yProps,ge&&(ce=ce.concat(ge.map(function(ye){return ye.updatesTable})))}),this.db=W,this.mode=ee,this.storeNames=ce,this.schema=re,this.chromeTransactionDurability=se,this.idbtrans=null,this.on=wa(this,"complete","error","abort"),this.parent=ue||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Xe(function(ge,ye){he._resolve=ge,he._reject=ye}),this._completion.then(function(){he.active=!1,he.on.complete.fire()},function(ge){var ye=he.active;return he.active=!1,he.on.error.fire(ge),he.parent?he.parent._reject(ge):ye&&he.idbtrans&&he.idbtrans.abort(),Mn(ge)})})),this.Version=(Z=this,Yi(Uh.prototype,function(ee){this.db=Z,this._cfg={version:ee,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(oe=this,Yi(Ut.prototype,function(ee,ce,re){if(this.db=oe,this._ctx={table:ee,index:ce===":id"?null:ce,or:re},this._cmp=this._ascending=dt,this._descending=function(se,ue){return dt(ue,se)},this._max=function(se,ue){return 0<dt(se,ue)?se:ue},this._min=function(se,ue){return dt(se,ue)<0?se:ue},this._IDBKeyRange=oe._deps.IDBKeyRange,!this._IDBKeyRange)throw new ve.MissingAPI})),this.on("versionchange",function(ee){0<ee.newVersion?console.warn("Another connection wants to upgrade database '".concat(R.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(R.name,"'. Closing db now to resume the delete request.")),R.close({disableAutoOpen:!1})}),this.on("blocked",function(ee){!ee.newVersion||ee.newVersion<ee.oldVersion?console.warn("Dexie.delete('".concat(R.name,"') was blocked")):console.warn("Upgrade '".concat(R.name,"' blocked by other connection holding version ").concat(ee.oldVersion/10))}),this._maxKey=Lr(b.IDBKeyRange),this._createTransaction=function(ee,ce,re,se){return new R.Transaction(ee,ce,re,R._options.chromeTransactionDurability,se)},this._fireOnBlocked=function(ee){R.on("blocked").fire(ee),Jo.filter(function(ce){return ce.name===R.name&&ce!==R&&!ce._state.vcFired}).map(function(ce){return ce.on("versionchange").fire(ee)})},this.use(zd),this.use(ni),this.use($d),this.use(Ta),this.use(Hc);var fe=new Proxy(this,{get:function(ee,ce,re){if(ce==="_vip")return!0;if(ce==="table")return function(ue){return Bo(R.table(ue),fe)};var se=Reflect.get(ee,ce,re);return se instanceof Pl?Bo(se,fe):ce==="tables"?se.map(function(ue){return Bo(ue,fe)}):ce==="_createTransaction"?function(){return Bo(se.apply(this,arguments),fe)}:se}});this.vip=fe,I.forEach(function(ee){return ee(R)})}var xo,Xn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Yc=(qc.prototype.subscribe=function(m,b,R){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:b,complete:R})},qc.prototype[Xn]=function(){return this},qc);function qc(m){this._subscribe=m}try{xo={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{xo={indexedDB:null,IDBKeyRange:null}}function jl(m){var b,R=!1,I=new Yc(function(j){var L=ie(m),W,Z=!1,oe={},ae={},fe={get closed(){return Z},unsubscribe:function(){Z||(Z=!0,W&&W.abort(),ee&&mn.storagemutated.unsubscribe(re))}};j.start&&j.start(fe);var ee=!1,ce=function(){return Pd(se)},re=function(ue){As(oe,ue),$c(ae,oe)&&ce()},se=function(){var ue,he,ge;!Z&&xo.indexedDB&&(oe={},ue={},W&&W.abort(),W=new AbortController,ge=function(ye){var be=Zt();try{L&&rn();var Pe=xn(m,ye);return Pe=L?Pe.finally(pt):Pe}finally{be&&wn()}}(he={subscr:ue,signal:W.signal,requery:ce,querier:m,trans:null}),Promise.resolve(ge).then(function(ye){R=!0,b=ye,Z||he.signal.aborted||(oe={},function(be){for(var Pe in be)if(h(be,Pe))return;return 1}(ae=ue)||ee||(mn(Nl,re),ee=!0),Pd(function(){return!Z&&j.next&&j.next(ye)}))},function(ye){R=!1,["DatabaseClosedError","AbortError"].includes(ye==null?void 0:ye.name)||Z||Pd(function(){Z||j.error&&j.error(ye)})}))};return setTimeout(ce,0),fe});return I.hasValue=function(){return R},I.getValue=function(){return b},I}var ns=$o;function Ds(m){var b=bo;try{bo=!0,mn.storagemutated.fire(m),Fd(m,!0)}finally{bo=b}}p(ns,r(r({},ke),{delete:function(m){return new ns(m,{addons:[]}).delete()},exists:function(m){return new ns(m,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return b=ns.dependencies,R=b.indexedDB,b=b.IDBKeyRange,(kr(R)?Promise.resolve(R.databases()).then(function(I){return I.map(function(j){return j.name}).filter(function(j){return j!==ya})}):Il(R,b).toCollection().primaryKeys()).then(m)}catch{return Mn(new ve.MissingAPI)}var b,R},defineClass:function(){return function(m){c(this,m)}},ignoreTransaction:function(m){return Je.trans?ks(Je.transless,m):m()},vip:zr,async:function(m){return function(){try{var b=Gc(m.apply(this,arguments));return b&&typeof b.then=="function"?b:Xe.resolve(b)}catch(R){return Mn(R)}}},spawn:function(m,b,R){try{var I=Gc(m.apply(R,b||[]));return I&&typeof I.then=="function"?I:Xe.resolve(I)}catch(j){return Mn(j)}},currentTransaction:{get:function(){return Je.trans||null}},waitFor:function(m,b){return b=Xe.resolve(typeof m=="function"?ns.ignoreTransaction(m):m).timeout(b||6e4),Je.trans?Je.trans.waitFor(b):b},Promise:Xe,debug:{get:function(){return ft},set:function(m){Ct(m)}},derive:S,extend:c,props:p,override:y,Events:wa,on:mn,liveQuery:jl,extendObservabilitySet:As,getByKeyPath:A,setByKeyPath:z,delByKeyPath:function(m,b){typeof b=="string"?z(m,b,void 0):"length"in b&&[].map.call(b,function(R){z(m,R,void 0)})},shallowClone:O,deepClone:K,getObjectDiff:Vc,cmp:dt,asap:M,minKey:-1/0,addons:[],connections:Jo,errnames:Q,dependencies:xo,cache:wo,semVer:"4.2.1",version:"4.2.1".split(".").map(function(m){return parseInt(m)}).reduce(function(m,b,R){return m+b/Math.pow(10,2*R)})})),ns.maxKey=Lr(ns.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mn(Nl,function(m){bo||(m=new CustomEvent(Ad,{detail:m}),bo=!0,dispatchEvent(m),bo=!1)}),addEventListener(Ad,function(m){m=m.detail,bo||Ds(m)}));var ar,bo=!1,Os=function(){};return typeof BroadcastChannel<"u"&&((Os=function(){(ar=new BroadcastChannel(Ad)).onmessage=function(m){return m.data&&Ds(m.data)}})(),typeof ar.unref=="function"&&ar.unref(),mn(Nl,function(m){bo||ar.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!$o.disableBfCache&&m.persisted){ft&&console.debug("Dexie: handling persisted pagehide"),ar!=null&&ar.close();for(var b=0,R=Jo;b<R.length;b++)R[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!$o.disableBfCache&&m.persisted&&(ft&&console.debug("Dexie: handling persisted pageshow"),Os(),Ds({all:new Bn(-1/0,[[]])}))})),Xe.rejectionMapper=function(m,b){return!m||m instanceof de||m instanceof TypeError||m instanceof SyntaxError||!m.name||!Re[m.name]?m:(b=new Re[m.name](b||m.message,m),"stack"in m&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},Ct(ft),r($o,Object.freeze({__proto__:null,Dexie:$o,liveQuery:jl,Entity:un,cmp:dt,PropModification:Fo,replacePrefix:function(m,b){return new Fo({replacePrefix:[m,b]})},add:function(m){return new Fo({add:m})},remove:function(m){return new Fo({remove:m})},default:$o,RangeSet:Bn,mergeRanges:ka,rangesOverlap:Od}),{default:$o}),$o})})(uk);var UF=uk.exports;const r2=dl(UF),V_=Symbol.for("Dexie"),eg=globalThis[V_]||(globalThis[V_]=r2);if(r2.semVer!==eg.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${r2.semVer} and ${eg.semVer}`);const{liveQuery:fW,mergeRanges:hW,rangesOverlap:pW,RangeSet:mW,cmp:gW,Entity:vW,PropModification:yW,replacePrefix:wW,add:xW,remove:bW,DexieYProvider:SW}=eg;class GF extends eg{constructor(){super("AcerekVTTDatabase");mp(this,"games");mp(this,"library");this.version(1).stores({games:"id, name, lastUpdated, isDM"}),this.version(2).stores({games:"id, name, lastUpdated, isDM",library:"id, type, name, *tags, createdAt, updatedAt"})}}const Cc=new GF;async function dk(e,t){const n=Object.keys(e.players).length;await Cc.games.put({id:e.id,name:e.name,gameState:e,lastUpdated:e.updatedAt,playerCount:n,isDM:t})}async function VF(e){await Cc.games.delete(e)}async function HF(e=10){return Cc.games.orderBy("lastUpdated").reverse().limit(e).toArray()}async function cf(e){await Cc.library.put(e)}async function WF(e){await Cc.library.delete(e)}async function KF(){return Cc.library.toArray()}const Us=qx((e,t)=>({undoStack:[],redoStack:[],pushAction:n=>{e(r=>({undoStack:[...r.undoStack,n].slice(-50),redoStack:[]}))},undo:()=>{const n=t();if(n.undoStack.length===0)return null;const r=n.undoStack[n.undoStack.length-1];return e({undoStack:n.undoStack.slice(0,-1),redoStack:[...n.redoStack,r]}),r},redo:()=>{const n=t();if(n.redoStack.length===0)return null;const r=n.redoStack[n.redoStack.length-1];return e({redoStack:n.redoStack.slice(0,-1),undoStack:[...n.undoStack,r]}),r},clearRedoStack:()=>{e({redoStack:[]})},clearHistory:()=>{e({undoStack:[],redoStack:[]})},canUndo:()=>t().undoStack.length>0,canRedo:()=>t().redoStack.length>0})),tg={gridSize:{width:30,height:30},cellSize:50,gridColor:"rgba(255, 255, 255, 0.2)",backgroundColor:"#1a1a2e",defaultTokenSize:1,defaultHP:{current:10,max:10},autoSave:!0,showPlayerCursors:!0,showGridByDefault:!0,snapToGridByDefault:!0,showTokenMetadata:!0};let Ey=null;const YF=1e3;function au(e,t){t&&(Ey&&clearTimeout(Ey),Ey=setTimeout(()=>{dk(e,t).catch(n=>{console.error("Failed to save game:",n)})},YF))}const fk="vtt-settings";function qF(){try{const e=localStorage.getItem(fk);if(e){const t=JSON.parse(e);return{...tg,...t}}}catch(e){console.error("Failed to load settings:",e)}return tg}function H_(e){try{localStorage.setItem(fk,JSON.stringify(e))}catch(t){console.error("Failed to save settings:",t)}}const hr=qx((e,t)=>({game:null,isConnected:!1,myPeerId:null,isDM:!1,selectedTool:"select",selectedElementId:null,selectedElementIds:[],viewportOffset:{x:0,y:0},viewportScale:1,drawingStrokeColor:"#ffffff",drawingFillColor:"#3b82f6",drawingFillEnabled:!1,drawingStrokeWidth:3,settings:qF(),layerVisibility:{grid:!0,map:!0,tokens:!0,drawings:!0,text:!0,fog:!0},previewAsPlayer:!1,createGame:(n,r)=>{const o=Li(10),i=t(),s={id:Li(12),name:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),gridSettings:{cellSize:i.settings.cellSize,width:i.settings.gridSize.width,height:i.settings.gridSize.height,showGrid:i.settings.showGridByDefault,snapToGrid:i.settings.snapToGridByDefault,gridColor:i.settings.gridColor},elements:[],fogOfWar:{enabled:!1,revealed:[]},players:{[o]:{id:o,name:r,color:"#7c3aed",isDM:!0,controlledTokens:[]}},dmPeerId:o};e({game:s,myPeerId:o,isDM:!0}),au(s,!0)},loadGame:n=>{e({game:n})},setConnected:(n,r)=>{e({isConnected:n,myPeerId:r||t().myPeerId})},addElement:(n,r=!1)=>{const o=Li(10),i={...n,id:o};return e(s=>{if(!s.game)return s;r||Us.getState().pushAction({type:"add",timestamp:Date.now(),before:{elements:s.game.elements},after:{elements:[...s.game.elements,i]},elementId:o,description:`Added ${i.type}`});const a={...s.game,elements:[...s.game.elements,i],updatedAt:new Date().toISOString()};return au(a,s.isDM),{game:a}}),o},updateElement:(n,r,o=!1)=>{e(i=>{if(!i.game)return i;const s=i.game.elements.find(d=>d.id===n);if(!s)return i;const a=r.x!==void 0||r.y!==void 0,c="hp"in r&&r.hp!==void 0;!o&&(a||c)&&Us.getState().pushAction({type:a?"move":"update",timestamp:Date.now(),before:{elements:i.game.elements},after:{elements:i.game.elements.map(d=>d.id===n?{...d,...r}:d)},elementId:n,description:`Updated ${s.type}`});const f={...i.game,elements:i.game.elements.map(d=>d.id===n?{...d,...r}:d),updatedAt:new Date().toISOString()};return au(f,i.isDM),{game:f}})},deleteElement:(n,r=!1)=>{e(o=>{if(!o.game)return o;const i=o.game.elements.find(a=>a.id===n);!r&&i&&Us.getState().pushAction({type:"delete",timestamp:Date.now(),before:{elements:o.game.elements},after:{elements:o.game.elements.filter(a=>a.id!==n)},elementId:n,description:`Deleted ${i.type}`});const s={...o.game,elements:o.game.elements.filter(a=>a.id!==n),updatedAt:new Date().toISOString()};return au(s,o.isDM),{game:s,selectedElementId:o.selectedElementId===n?null:o.selectedElementId}})},selectElement:n=>{e({selectedElementId:n,selectedElementIds:n?[n]:[]})},selectElements:n=>{e({selectedElementIds:n,selectedElementId:n.length===1?n[0]:null})},toggleElementSelection:n=>{e(r=>{const i=r.selectedElementIds.includes(n)?r.selectedElementIds.filter(s=>s!==n):[...r.selectedElementIds,n];return{selectedElementIds:i,selectedElementId:i.length===1?i[0]:null}})},addToSelection:n=>{e(r=>{if(r.selectedElementIds.includes(n))return r;const o=[...r.selectedElementIds,n];return{selectedElementIds:o,selectedElementId:o.length===1?o[0]:null}})},clearSelection:()=>{e({selectedElementIds:[],selectedElementId:null})},addElements:n=>{const r=[];return e(o=>{if(!o.game)return o;const i=n.map(a=>{const c=Li(10);return r.push(c),{...a,id:c}}),s={...o.game,elements:[...o.game.elements,...i],updatedAt:new Date().toISOString()};return au(s,o.isDM),{game:s}}),r},deleteElements:n=>{e(r=>{if(!r.game)return r;const o={...r.game,elements:r.game.elements.filter(i=>!n.includes(i.id)),updatedAt:new Date().toISOString()};return au(o,r.isDM),{game:o,selectedElementId:n.includes(r.selectedElementId||"")?null:r.selectedElementId,selectedElementIds:r.selectedElementIds.filter(i=>!n.includes(i))}})},addPlayer:n=>{e(r=>r.game?{game:{...r.game,players:{...r.game.players,[n.id]:n}}}:r)},removePlayer:n=>{e(r=>{if(!r.game)return r;const{[n]:o,...i}=r.game.players;return{game:{...r.game,players:i}}})},updatePlayer:(n,r)=>{e(o=>{if(!o.game)return o;const i=o.game.players[n];return i?{game:{...o.game,players:{...o.game.players,[n]:{...i,...r}}}}:o})},updateGridSettings:n=>{e(r=>r.game?{game:{...r.game,gridSettings:{...r.game.gridSettings,...n},updatedAt:new Date().toISOString()}}:r)},revealFog:(n,r=!1)=>{e(o=>o.game?(r||Us.getState().pushAction({type:"fog-reveal",timestamp:Date.now(),before:{fogOfWar:o.game.fogOfWar},after:{fogOfWar:{...o.game.fogOfWar,revealed:[...o.game.fogOfWar.revealed,n]}},description:"Revealed fog area"}),{game:{...o.game,fogOfWar:{...o.game.fogOfWar,revealed:[...o.game.fogOfWar.revealed,n]},updatedAt:new Date().toISOString()}}):o)},hideFog:(n,r=!1)=>{e(o=>{if(!o.game)return{};const i=(a,c)=>{let f=!1;for(let d=0,h=c.length-1;d<c.length;h=d++){const p=c[d].x,g=c[d].y,w=c[h].x,S=c[h].y;g>a.y!=S>a.y&&a.x<(w-p)*(a.y-g)/(S-g)+p&&(f=!f)}return f},s=o.game.fogOfWar.revealed.filter(a=>{if(a.length===0)return!1;const c=a.reduce((d,h)=>d+h.x,0)/a.length,f=a.reduce((d,h)=>d+h.y,0)/a.length;return!i({x:c,y:f},n)});return r||Us.getState().pushAction({type:"fog-hide",timestamp:Date.now(),before:{fogOfWar:o.game.fogOfWar},after:{fogOfWar:{...o.game.fogOfWar,revealed:s}},description:"Hid fog area"}),{game:{...o.game,fogOfWar:{...o.game.fogOfWar,revealed:s},updatedAt:new Date().toISOString()}}})},toggleFog:n=>{e(r=>r.game?{game:{...r.game,fogOfWar:{...r.game.fogOfWar,enabled:n},updatedAt:new Date().toISOString()}}:r)},startCombat:()=>{e(n=>n.game?{game:{...n.game,combat:{active:!0,round:1,currentTurn:0,combatants:[]}}}:n)},endCombat:()=>{e(n=>n.game?{game:{...n.game,combat:void 0}}:n)},addCombatant:(n,r,o)=>{e(i=>{var f;if(!((f=i.game)!=null&&f.combat))return i;const s=i.game.elements.find(d=>d.id===n);if(!s||s.type!=="token")return i;const a={id:n,name:s.name,initiative:r,dexterity:o,hp:s.hp||{current:10,max:10},conditions:s.conditions||[]},c=[...i.game.combat.combatants,a].sort((d,h)=>h.initiative!==d.initiative?h.initiative-d.initiative:(h.dexterity||0)-(d.dexterity||0));return{game:{...i.game,combat:{...i.game.combat,combatants:c}}}})},removeCombatant:n=>{e(r=>{var o;return(o=r.game)!=null&&o.combat?{game:{...r.game,combat:{...r.game.combat,combatants:r.game.combat.combatants.filter(i=>i.id!==n)}}}:r})},updateCombatant:(n,r)=>{e(o=>{var i;return(i=o.game)!=null&&i.combat?{game:{...o.game,combat:{...o.game.combat,combatants:o.game.combat.combatants.map(s=>s.id===n?{...s,...r}:s)}}}:o})},nextTurn:()=>{e(n=>{var i;if(!((i=n.game)!=null&&i.combat))return n;const r=n.game.combat.currentTurn+1,o=r>=n.game.combat.combatants.length?n.game.combat.round+1:n.game.combat.round;return{game:{...n.game,combat:{...n.game.combat,currentTurn:r%n.game.combat.combatants.length,round:o}}}})},previousTurn:()=>{e(n=>{var i;if(!((i=n.game)!=null&&i.combat))return n;let r=n.game.combat.currentTurn-1,o=n.game.combat.round;return r<0&&(r=n.game.combat.combatants.length-1,o=Math.max(1,o-1)),{game:{...n.game,combat:{...n.game.combat,currentTurn:r,round:o}}}})},updateCombatState:n=>{e(r=>r.game?{game:{...r.game,combat:n}}:r)},addDiceRoll:n=>{e(r=>{if(!r.game)return r;const i=[...r.game.diceRolls||[],n].slice(-50);return{game:{...r.game,diceRolls:i}}})},clearDiceHistory:()=>{e(n=>n.game?{game:{...n.game,diceRolls:[]}}:n)},updateSettings:n=>{e(r=>{const o={...r.settings,...n};return H_(o),{settings:o}})},resetSettings:()=>{H_(tg),e({settings:tg})},setTool:n=>{e({selectedTool:n,selectedElementId:null})},setViewport:(n,r)=>{e({viewportOffset:n,viewportScale:r})},panViewport:n=>{e(r=>({viewportOffset:{x:r.viewportOffset.x+n.x,y:r.viewportOffset.y+n.y}}))},zoomViewport:(n,r)=>{e(o=>{const i=Math.min(Math.max(o.viewportScale+n,.25),3),s=i/o.viewportScale,a={x:r.x-(r.x-o.viewportOffset.x)*s,y:r.y-(r.y-o.viewportOffset.y)*s};return{viewportScale:i,viewportOffset:a}})},setDrawingStrokeColor:n=>{e({drawingStrokeColor:n})},setDrawingFillColor:n=>{e({drawingFillColor:n})},setDrawingFillEnabled:n=>{e({drawingFillEnabled:n})},setDrawingStrokeWidth:n=>{e({drawingStrokeWidth:Math.max(1,Math.min(10,n))})},performUndo:()=>{const n=Us.getState().undo();if(!n)return;const r=t();r.game&&e({game:{...r.game,...n.before,updatedAt:new Date().toISOString()}})},performRedo:()=>{const n=Us.getState().redo();if(!n)return;const r=t();r.game&&e({game:{...r.game,...n.after,updatedAt:new Date().toISOString()}})},toggleLayerVisibility:n=>{e(r=>({layerVisibility:{...r.layerVisibility,[n]:!r.layerVisibility[n]}}))},setLayerVisibility:(n,r)=>{e(o=>({layerVisibility:{...o.layerVisibility,[n]:r}}))},setPreviewAsPlayer:n=>{e({previewAsPlayer:n})}})),{floor:XF,random:QF}=Math,lh="Trystero",ch=(e,t)=>Array(e).fill().map(t),W_="0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",hk=e=>ch(e,()=>W_[XF(QF()*W_.length)]).join(""),gu=hk(20),vu=Promise.all.bind(Promise),ZF=typeof window<"u",{entries:o2,fromEntries:pk,keys:JF}=Object,Ql=()=>{},Vs=e=>new Error(`${lh}: ${e}`),ez=new TextEncoder,tz=new TextDecoder,Bu=e=>ez.encode(e),dm=e=>tz.decode(e),zp=(...e)=>e.join("@"),nz=(e,t,n,r)=>(e.relayUrls||t).slice(0,e.relayUrls?e.relayUrls.length:e.relayRedundancy||n),uh=JSON.stringify,dh=JSON.parse,K_=3333,lu={},rz=(e,t)=>{const n={},r=()=>{const o=new WebSocket(e);o.onclose=()=>{lu[e]??(lu[e]=K_),setTimeout(r,lu[e]),lu[e]*=2},o.onmessage=i=>t(i.data),n.socket=o,n.url=o.url,n.ready=new Promise(i=>o.onopen=()=>{i(n),lu[e]=K_}),n.send=i=>{o.readyState===1&&o.send(i)}};return r(),n},Xx="AES-GCM",Py={},oz=e=>btoa(String.fromCharCode.apply(null,new Uint8Array(e))),iz=e=>{const t=atob(e);return new Uint8Array(t.length).map((n,r)=>t.charCodeAt(r)).buffer},Sf=async e=>{if(Py[e])return Py[e];const t=Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",Bu(e)))).map(n=>n.toString(36)).join("");return Py[e]=t,t},sz=async(e,t,n)=>crypto.subtle.importKey("raw",await crypto.subtle.digest({name:"SHA-256"},Bu(`${e}:${t}:${n}`)),{name:Xx},!1,["encrypt","decrypt"]),mk="$",gk=",",az=async(e,t)=>{const n=crypto.getRandomValues(new Uint8Array(16));return n.join(gk)+mk+oz(await crypto.subtle.encrypt({name:Xx,iv:n},await e,Bu(t)))},lz=async(e,t)=>{const[n,r]=t.split(mk);return dm(await crypto.subtle.decrypt({name:Xx,iv:new Uint8Array(n.split(gk))},await e,iz(r)))};var i2={exports:{}},Ty,Y_;function cz(){if(Y_)return Ty;Y_=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;Ty=function(d,h){h=h||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return h.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var p=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=t?Math.round(d/t)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var h=Math.abs(d);return h>=r?f(d,h,r,"day"):h>=n?f(d,h,n,"hour"):h>=t?f(d,h,t,"minute"):h>=e?f(d,h,e,"second"):d+" ms"}function f(d,h,p,g){var w=h>=p*1.5;return Math.round(d/p)+" "+g+(w?"s":"")}return Ty}function uz(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=o,n.enabled=a,n.humanize=cz(),n.destroy=f,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(d){let h,p=null,g,w;function S(...C){if(!S.enabled)return;const k=S,P=Number(new Date),y=P-(h||P);k.diff=y,k.prev=h,k.curr=P,h=P,C[0]=n.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let E=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(A,z)=>{if(A==="%%")return"%";E++;const O=n.formatters[z];if(typeof O=="function"){const V=C[E];A=O.call(k,V),C.splice(E,1),E--}return A}),n.formatArgs.call(k,C),(k.log||n.log).apply(k,C)}return S.namespace=d,S.useColors=n.useColors(),S.color=n.selectColor(d),S.extend=r,S.destroy=n.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==n.namespaces&&(g=n.namespaces,w=n.enabled(d)),w),set:C=>{p=C}}),typeof n.init=="function"&&n.init(S),S}function r(d,h){const p=n(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const h=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const p of h)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function i(d,h){let p=0,g=0,w=-1,S=0;for(;p<d.length;)if(g<h.length&&(h[g]===d[p]||h[g]==="*"))h[g]==="*"?(w=g,S=p,g++):(p++,g++);else if(w!==-1)g=w+1,S++,p=S;else return!1;for(;g<h.length&&h[g]==="*";)g++;return g===h.length}function s(){const d=[...n.names,...n.skips.map(h=>"-"+h)].join(",");return n.enable(""),d}function a(d){for(const h of n.skips)if(i(d,h))return!1;for(const h of n.names)if(i(d,h))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var dz=uz;(function(e,t){var n={};t.formatArgs=o,t.save=i,t.load=s,t.useColors=r,t.storage=a(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;f.splice(1,0,d,"color: inherit");let h=0,p=0;f[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(h++,g==="%c"&&(p=h))}),f.splice(p,0,d)}t.log=console.debug||console.log||(()=>{});function i(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function s(){let f;try{f=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=n.DEBUG),f}function a(){try{return localStorage}catch{}}e.exports=dz(t);const{formatters:c}=e.exports;c.j=function(f){try{return JSON.stringify(f)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(i2,i2.exports);var fz=i2.exports;const hz=dl(fz),Qs=typeof window<"u"?window:self,s2=Qs.RTCPeerConnection||Qs.mozRTCPeerConnection||Qs.webkitRTCPeerConnection,pz=Qs.RTCSessionDescription||Qs.mozRTCSessionDescription||Qs.webkitRTCSessionDescription,mz=Qs.RTCIceCandidate||Qs.mozRTCIceCandidate||Qs.webkitRTCIceCandidate;var Qx={exports:{}},$u=typeof Reflect=="object"?Reflect:null,q_=$u&&typeof $u.apply=="function"?$u.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},fm;$u&&typeof $u.ownKeys=="function"?fm=$u.ownKeys:Object.getOwnPropertySymbols?fm=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:fm=function(t){return Object.getOwnPropertyNames(t)};function gz(e){console&&console.warn&&console.warn(e)}var vk=Number.isNaN||function(t){return t!==t};function pn(){pn.init.call(this)}Qx.exports=pn;Qx.exports.once=xz;pn.EventEmitter=pn;pn.prototype._events=void 0;pn.prototype._eventsCount=0;pn.prototype._maxListeners=void 0;var X_=10;function t0(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(pn,"defaultMaxListeners",{enumerable:!0,get:function(){return X_},set:function(e){if(typeof e!="number"||e<0||vk(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");X_=e}});pn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};pn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||vk(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function yk(e){return e._maxListeners===void 0?pn.defaultMaxListeners:e._maxListeners}pn.prototype.getMaxListeners=function(){return yk(this)};pn.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=t==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")q_(c,this,n);else for(var f=c.length,d=_k(c,f),r=0;r<f;++r)q_(d[r],this,n);return!0};function wk(e,t,n,r){var o,i,s;if(t0(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),s===void 0)s=i[t]=n,++e._eventsCount;else if(typeof s=="function"?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),o=yk(e),o>0&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,gz(a)}return e}pn.prototype.addListener=function(t,n){return wk(this,t,n,!1)};pn.prototype.on=pn.prototype.addListener;pn.prototype.prependListener=function(t,n){return wk(this,t,n,!0)};function vz(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xk(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=vz.bind(r);return o.listener=n,r.wrapFn=o,o}pn.prototype.once=function(t,n){return t0(n),this.on(t,xk(this,t,n)),this};pn.prototype.prependOnceListener=function(t,n){return t0(n),this.prependListener(t,xk(this,t,n)),this};pn.prototype.removeListener=function(t,n){var r,o,i,s,a;if(t0(n),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():yz(r,i),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};pn.prototype.off=pn.prototype.removeListener;pn.prototype.removeAllListeners=function(t){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),s;for(o=0;o<i.length;++o)s=i[o],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this};function bk(e,t,n){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?wz(o):_k(o,o.length)}pn.prototype.listeners=function(t){return bk(this,t,!0)};pn.prototype.rawListeners=function(t){return bk(this,t,!1)};pn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Sk.call(e,t)};pn.prototype.listenerCount=Sk;function Sk(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}pn.prototype.eventNames=function(){return this._eventsCount>0?fm(this._events):[]};function _k(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function yz(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function wz(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function xz(e,t){return new Promise(function(n,r){function o(s){e.removeListener(t,i),r(s)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}Ck(e,t,i,{once:!0}),t!=="error"&&bz(e,o,{once:!0})})}function bz(e,t,n){typeof e.on=="function"&&Ck(e,"error",t,n)}function Ck(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Sz=Qx.exports,_z=Sz;const{EventEmitter:_W}=_z;var Cz={};function Q_(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}function kz(e,t,n){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");n||(n={}),typeof t=="object"&&(n=t,t=""),t&&(n.code=t);try{return Q_(e,n)}catch{n.message=e.message,n.stack=e.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),Q_(new o,n)}}var Ez=kz;const Gt=dl(Ez);/* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
*
* @author   Jimmy Wrting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
* @license  MIT
*/const Z_="0123456789abcdef",kk=[];for(let e=0;e<256;e++)kk[e]=Z_[e>>4&15]+Z_[e&15];const J_=e=>{const t=e.length;let n="",r=0;for(;r<t;)n+=kk[e[r++]];return n};var e5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bp=0;Bp<e5.length;Bp++)Pz[e5.charCodeAt(Bp)]=Bp;new TextDecoder;const Tz=new TextEncoder,Rz=e=>Tz.encode(e),t5=typeof window<"u"?window:self,a2=t5.crypto||t5.msCrypto||{};a2.subtle||a2.webkitSubtle;const n5=e=>{const t=new Uint8Array(e);return a2.getRandomValues(t)};/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const Nz=hz("simple-peer"),Ry=64*1024,Az=5*1e3,Mz=5*1e3;function r5(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function Iz(e){console.warn(e)}let n0=class l2 extends Cz.Duplex{constructor(n){n=Object.assign({allowHalfOpen:!1},n);super(n);mp(this,"_pc");if(this.__objectMode=!!n.objectMode,this._id=J_(n5(4)).slice(0,7),this._debug("new peer %o",n),this.channelName=n.initiator?n.channelName||J_(n5(20)):null,this.initiator=n.initiator||!1,this.channelConfig=n.channelConfig||l2.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},l2.config,n.config),this.offerOptions=n.offerOptions||{},this.answerOptions=n.answerOptions||{},this.sdpTransform=n.sdpTransform||(r=>r),this.trickle=n.trickle!==void 0?n.trickle:!0,this.allowHalfTrickle=n.allowHalfTrickle!==void 0?n.allowHalfTrickle:!1,this.iceCompleteTimeout=n.iceCompleteTimeout||Az,this._destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,!s2)throw Gt(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new s2(this.config)}catch(r){this.__destroy(Gt(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.__destroy(Gt(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(n){if(!this._destroying){if(this.destroyed)throw Gt(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof n=="string")try{n=JSON.parse(n)}catch{n={}}this._debug("signal()"),n.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),n.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(n.transceiverRequest.kind,n.transceiverRequest.init)),n.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(n.candidate):this._pendingCandidates.push(n.candidate)),n.sdp&&this._pc.setRemoteDescription(new pz(n)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.__destroy(Gt(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!n.sdp&&!n.candidate&&!n.renegotiate&&!n.transceiverRequest&&this.__destroy(Gt(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(n){const r=new mz(n);this._pc.addIceCandidate(r).catch(o=>{!r.address||r.address.endsWith(".local")?Iz("Ignoring unsupported ICE candidate."):this.__destroy(Gt(o,"ERR_ADD_ICE_CANDIDATE"))})}send(n){if(!this._destroying){if(this.destroyed)throw Gt(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(n)}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,queueMicrotask(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this._destroying){if(this.destroyed)throw Gt(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}_final(n){this._readableState.ended||this.push(null),n(null)}__destroy(n){this.end(),this._destroy(()=>{},n)}_destroy(n,r){this.destroyed||this._destroying||(this._destroying=!0,this._debug("destroying (error: %s)",r&&(r.message||r)),setTimeout(()=>{if(this._connected&&this.emit("disconnect"),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,r&&this.emit("error",r),n()},0))}_setupData(n){if(!n.channel)return this.__destroy(Gt(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=n.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Ry),this.channelName=this._channel.label,this._channel.onmessage=o=>{this._onChannelMessage(o)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=o=>{const i=o.error instanceof Error?o.error:new Error(`Datachannel error: ${o.message} ${o.filename}:${o.lineno}:${o.colno}`);this.__destroy(Gt(i,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},Mz)}_write(n,r){if(this.destroyed)return r(Gt(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(n)}catch(o){return this.__destroy(Gt(o,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Ry?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=n,this._cb=r}_onFinish(){if(this.destroyed)return;const n=()=>{setTimeout(()=>this.__destroy(),1e3)};this._connected?n():this.once("connect",n)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(n=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(n.sdp=r5(n.sdp)),n.sdp=this.sdpTransform(n.sdp);const r=()=>{if(this.destroyed)return;const s=this._pc.localDescription||n;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp})},o=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},i=s=>{this.__destroy(Gt(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(n).then(o).catch(i)}).catch(n=>{this.__destroy(Gt(n,"ERR_CREATE_OFFER"))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(n=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(n.sdp=r5(n.sdp)),n.sdp=this.sdpTransform(n.sdp);const r=()=>{var a;if(this.destroyed)return;const s=this._pc.localDescription||n;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp}),this.initiator||(a=this._requestMissingTransceivers)==null||a.call(this)},o=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},i=s=>{this.__destroy(Gt(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(n).then(o).catch(i)}).catch(n=>{this.__destroy(Gt(n,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._destroying||this._pc.connectionState==="failed"&&this.__destroy(Gt(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const n=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",n,r),this.emit("iceStateChange",n,r),(n==="connected"||n==="completed")&&(this._pcReady=!0,this._maybeReady()),n==="failed"&&this.__destroy(Gt(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),n==="closed"&&this.__destroy(Gt(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(n){const r=o=>(Object.prototype.toString.call(o.values)==="[object Array]"&&o.values.forEach(i=>{Object.assign(o,i)}),o);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(o=>{const i=[];o.forEach(s=>{i.push(r(s))}),n(null,i)},o=>n(o)):this._pc.getStats.length>0?this._pc.getStats(o=>{if(this.destroyed)return;const i=[];o.result().forEach(s=>{const a={};s.names().forEach(c=>{a[c]=s.stat(c)}),a.id=s.id,a.type=s.type,a.timestamp=s.timestamp,i.push(r(a))}),n(null,i)},o=>n(o)):n(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const n=()=>{this.destroyed||this._destroying||this.getStats((r,o)=>{if(this.destroyed||this._destroying)return;r&&(o=[]);const i={},s={},a={};let c=!1;o.forEach(d=>{(d.type==="remotecandidate"||d.type==="remote-candidate")&&(i[d.id]=d),(d.type==="localcandidate"||d.type==="local-candidate")&&(s[d.id]=d),(d.type==="candidatepair"||d.type==="candidate-pair")&&(a[d.id]=d)});const f=d=>{c=!0;let h=s[d.localCandidateId];h&&(h.ip||h.address)?(this.localAddress=h.ip||h.address,this.localPort=Number(h.port)):h&&h.ipAddress?(this.localAddress=h.ipAddress,this.localPort=Number(h.portNumber)):typeof d.googLocalAddress=="string"&&(h=d.googLocalAddress.split(":"),this.localAddress=h[0],this.localPort=Number(h[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let p=i[d.remoteCandidateId];p&&(p.ip||p.address)?(this.remoteAddress=p.ip||p.address,this.remotePort=Number(p.port)):p&&p.ipAddress?(this.remoteAddress=p.ipAddress,this.remotePort=Number(p.portNumber)):typeof d.googRemoteAddress=="string"&&(p=d.googRemoteAddress.split(":"),this.remoteAddress=p[0],this.remotePort=Number(p[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(o.forEach(d=>{d.type==="transport"&&d.selectedCandidatePairId&&f(a[d.selectedCandidatePairId]),(d.type==="googCandidatePair"&&d.googActiveConnection==="true"||(d.type==="candidatepair"||d.type==="candidate-pair")&&d.selected)&&f(d)}),!c&&(!Object.keys(a).length||Object.keys(s).length)){setTimeout(n,100);return}else this._connecting=!1,this._connected=!0,this.emit("connect");if(this._chunk){try{this.send(this._chunk)}catch(h){return this.__destroy(Gt(h,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const d=this._cb;this._cb=null,d(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};n()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Ry||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(n=>{this._pc.removeTrack(n),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(n){this.destroyed||(n.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:n.candidate.candidate,sdpMLineIndex:n.candidate.sdpMLineIndex,sdpMid:n.candidate.sdpMid}}):!n.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),n.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(n){if(this.destroyed)return;let r=n.data;r instanceof ArrayBuffer?r=new Uint8Array(r):this.__objectMode===!1&&(r=Rz(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const n=this._cb;this._cb=null,n(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.__destroy())}_debug(){const n=[].slice.call(arguments);n[0]="["+this._id+"] "+n[0],Nz.apply(null,n)}};n0.WEBRTC_SUPPORT=!!s2;n0.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};n0.channelConfig={};/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */class Dz extends n0{constructor(t={}){super(t),this._pc&&(this.streams=t.streams||(t.stream?[t.stream]:[]),this._senderMap=new Map,this.streams&&this.streams.forEach(n=>{this.addStream(n)}),this._pc.ontrack=n=>{this._onTrack(n)})}addTransceiver(t,n){if(!this._destroying){if(this.destroyed)throw Gt(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,n),this._needsNegotiation()}catch(r){this.__destroy(Gt(r,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:n}})}}addStream(t){if(!this._destroying){if(this.destroyed)throw Gt(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(n=>{this.addTrack(n,t)})}}addTrack(t,n){if(this._destroying)return;if(this.destroyed)throw Gt(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const r=this._senderMap.get(t)||new Map;let o=r.get(n);if(!o)o=this._pc.addTrack(t,n),r.set(n,o),this._senderMap.set(t,r),this._needsNegotiation();else throw o.removed?Gt(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):Gt(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,n,r){if(this._destroying)return;if(this.destroyed)throw Gt(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const o=this._senderMap.get(t),i=o?o.get(r):null;if(!i)throw Gt(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");n&&this._senderMap.set(n,o),i.replaceTrack!=null?i.replaceTrack(n):this.__destroy(Gt(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,n){if(this._destroying)return;if(this.destroyed)throw Gt(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const r=this._senderMap.get(t),o=r?r.get(n):null;if(!o)throw Gt(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{o.removed=!0,this._pc.removeTrack(o)}catch(i){i.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(o):this.__destroy(Gt(i,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this._destroying){if(this.destroyed)throw Gt(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(n=>{this.removeTrack(n,t)})}}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_onTrack(t){this.destroyed||t.streams.forEach(n=>{this._debug("on track"),this.emit("track",t.track,n),this._remoteTracks.push({track:t.track,stream:n}),!this._remoteStreams.some(r=>r.id===n.id)&&(this._remoteStreams.push(n),queueMicrotask(()=>{this._debug("on stream"),this.emit("stream",n)}))})}}const o5="data",i5="signal",s5=(e,t)=>{const n=new Dz({iceServers:[{urls:Oz}],...t,initiator:e,trickle:!1}),r=i=>o.push(i);let o=[];return n.on(o5,r),{id:n._id,created:Date.now(),connection:n._pc,get channel(){return n._channel},get isDead(){return n.destroyed},signal:i=>new Promise(s=>{e||n.on(i5,s),n.signal(i)}),sendData:i=>n.send(i),destroy:()=>n.destroy(),setHandlers:i=>Object.entries(i).forEach(([s,a])=>n.on(s,a)),offerPromise:e?new Promise(i=>n.on(i5,i)):Promise.resolve(),addStream:i=>n.addStream(i),removeStream:i=>n.removeStream(i),addTrack:(i,s)=>n.addTrack(i,s),removeTrack:(i,s)=>n.removeTrack(i,s),replaceTrack:(i,s,a)=>n.replaceTrack(i,s,a),drainEarlyData:i=>{n.off(o5,r),o.forEach(i),o=null}}},Oz=[...ch(5,(e,t)=>`stun:stun${t||""}.l.google.com:19302`),"stun:global.stun.twilio.com:3478"],jz=Object.getPrototypeOf(Uint8Array),hm=12,Ek=0,pm=Ek+hm,mm=pm+1,_f=mm+1,Cf=_f+1,Gl=16*2**10-Cf,$p=255,a5="bufferedamountlow",cu=e=>"@_"+e,Lz=(e,t,n)=>{const r={},o={},i={},s={},a={},c={},f={},d={onPeerJoin:Ql,onPeerLeave:Ql,onPeerStream:Ql,onPeerTrack:Ql},h=(F,K)=>(F?Array.isArray(F)?F:[F]:JF(r)).flatMap(ne=>{const G=r[ne];return G?K(ne,G):(console.warn(`${lh}: no peer with id ${ne} found`),[])}),p=F=>{r[F]&&(delete r[F],delete s[F],delete a[F],d.onPeerLeave(F),t(F))},g=F=>{if(o[F])return i[F];if(!F)throw Vs("action type argument is required");const K=Bu(F);if(K.byteLength>hm)throw Vs(`action type string "${F}" (${K.byteLength}b) exceeds byte limit (${hm}). Hint: choose a shorter name.`);const ne=new Uint8Array(hm);ne.set(K);let G=0;return o[F]={onComplete:Ql,onProgress:Ql,setOnComplete:X=>o[F]={...o[F],onComplete:X},setOnProgress:X=>o[F]={...o[F],onProgress:X},send:async(X,Y,$,q)=>{if($&&typeof $!="object")throw Vs("action meta argument must be an object");const J=typeof X;if(J==="undefined")throw Vs("action data cannot be undefined");const ie=J!=="string",te=X instanceof Blob,de=te||X instanceof ArrayBuffer||X instanceof jz;if($&&!de)throw Vs("action meta argument can only be used with binary data");const He=de?new Uint8Array(te?await X.arrayBuffer():X):Bu(ie?uh(X):X),Te=$?Bu(uh($)):null,Ee=Math.ceil(He.byteLength/Gl)+($?1:0)||1,Q=ch(Ee,(we,ve)=>{const Re=ve===Ee-1,ke=$&&ve===0,Ae=new Uint8Array(Cf+(ke?Te.byteLength:Re?He.byteLength-Gl*(Ee-($?2:1)):Gl));return Ae.set(ne),Ae.set([G],pm),Ae.set([Re|ke<<1|de<<2|ie<<3],mm),Ae.set([Math.round((ve+1)/Ee*$p)],_f),Ae.set($?ke?Te:He.subarray((ve-1)*Gl,ve*Gl):He.subarray(ve*Gl,(ve+1)*Gl),Cf),Ae});return G=G+1&$p,vu(h(Y,async(we,ve)=>{const{channel:Re}=ve;let ke=0;for(;ke<Ee;){const Ae=Q[ke];if(Re.bufferedAmount>Re.bufferedAmountLowThreshold&&await new Promise(Me=>{const Ze=()=>{Re.removeEventListener(a5,Ze),Me()};Re.addEventListener(a5,Ze)}),!r[we])break;ve.sendData(Ae),ke++,q==null||q(Ae[_f]/$p,we,$)}}))}},i[F]||(i[F]=[o[F].send,o[F].setOnComplete,o[F].setOnProgress])},w=(F,K)=>{var Ee,Q;const ne=new Uint8Array(K),G=dm(ne.subarray(Ek,pm)).replaceAll("\0",""),[X]=ne.subarray(pm,mm),[Y]=ne.subarray(mm,_f),[$]=ne.subarray(_f,Cf),q=ne.subarray(Cf),J=!!(Y&1),ie=!!(Y&2),te=!!(Y&4),de=!!(Y&8);if(!o[G]){console.warn(`${lh}: received message with unregistered type (${G})`);return}s[F]||(s[F]={}),(Ee=s[F])[G]||(Ee[G]={});const He=(Q=s[F][G])[X]||(Q[X]={chunks:[]});if(ie?He.meta=dh(dm(q)):He.chunks.push(q),o[G].onProgress($/$p,F,He.meta),!J)return;const Te=new Uint8Array(He.chunks.reduce((we,ve)=>we+ve.byteLength,0));if(He.chunks.reduce((we,ve)=>(Te.set(ve,we),we+ve.byteLength),0),delete s[F][G][X],te)o[G].onComplete(Te,F,He.meta);else{const we=dm(Te);o[G].onComplete(de?dh(we):we,F)}},S=async()=>{await B(""),await new Promise(F=>setTimeout(F,99)),o2(r).forEach(([F,K])=>{K.destroy(),delete r[F]}),n()},[C,k]=g(cu("ping")),[P,y]=g(cu("pong")),[E,M]=g(cu("signal")),[A,z]=g(cu("stream")),[O,V]=g(cu("track")),[B,U]=g(cu("leave"));return e((F,K)=>{var ne;r[K]||(r[K]=F,F.setHandlers({data:G=>w(K,G),stream:G=>{d.onPeerStream(G,K,c[K]),delete c[K]},track:(G,X)=>{d.onPeerTrack(G,X,K,f[K]),delete f[K]},signal:G=>E(G,K),close:()=>p(K),error:()=>p(K)}),d.onPeerJoin(K),(ne=F.drainEarlyData)==null||ne.call(F,G=>w(K,G)))}),k((F,K)=>P("",K)),y((F,K)=>{var ne;(ne=a[K])==null||ne.call(a),delete a[K]}),M((F,K)=>{var ne;return(ne=r[K])==null?void 0:ne.signal(F)}),z((F,K)=>c[K]=F),V((F,K)=>f[K]=F),U((F,K)=>p(K)),ZF&&addEventListener("beforeunload",S),{makeAction:g,leave:S,ping:async F=>{if(!F)throw Vs("ping() must be called with target peer ID");const K=Date.now();return C("",F),await new Promise(ne=>a[F]=ne),Date.now()-K},getPeers:()=>pk(o2(r).map(([F,K])=>[F,K.connection])),addStream:(F,K,ne)=>h(K,async(G,X)=>{ne&&await A(ne,G),X.addStream(F)}),removeStream:(F,K)=>h(K,(ne,G)=>G.removeStream(F)),addTrack:(F,K,ne,G)=>h(ne,async(X,Y)=>{G&&await O(G,X),Y.addTrack(F,K)}),removeTrack:(F,K,ne)=>h(ne,(G,X)=>X.removeTrack(F,K)),replaceTrack:(F,K,ne,G,X)=>h(G,async(Y,$)=>{X&&await O(X,Y),$.replaceTrack(F,K,ne)}),onPeerJoin:F=>d.onPeerJoin=F,onPeerLeave:F=>d.onPeerLeave=F,onPeerStream:F=>d.onPeerStream=F,onPeerTrack:F=>d.onPeerTrack=F}},Fz=20,zz=5333,l5=57333,Bz=({init:e,subscribe:t,announce:n})=>{const r={};let o=!1,i,s,a;return(c,f,d)=>{var X;const{appId:h}=c;if((X=r[h])!=null&&X[f])return r[h][f];const p={},g={},w=zp(lh,h,f),S=Sf(w),C=Sf(zp(w,gu)),k=sz(c.password||"",h,f),P=Y=>async $=>({type:$.type,sdp:await Y(k,$.sdp)}),y=P(lz),E=P(az),M=()=>s5(!0,c.rtcConfig),A=(Y,$,q)=>{var J;if(g[$]){g[$]!==Y&&Y.destroy();return}g[$]=Y,G(Y,$),(J=p[$])==null||J.forEach((ie,te)=>{te!==q&&ie.destroy()}),delete p[$]},z=(Y,$)=>{g[$]===Y&&delete g[$]},O=(Y,$)=>{var J;if(g[Y])return;const q=(J=p[Y])==null?void 0:J[$];q&&(delete p[Y][$],q.destroy())},V=Y=>(s.push(...ch(Y,M)),vu(s.splice(0,Y).map($=>$.offerPromise.then(E).then(q=>({peer:$,offer:q}))))),B=(Y,$)=>d==null?void 0:d({error:`incorrect password (${c.password}) when decrypting ${$}`,appId:h,peerId:Y,roomId:f}),U=Y=>async($,q,J)=>{var Q,we,ve;const[ie,te]=await vu([S,C]);if($!==ie&&$!==te)return;const{peerId:de,offer:He,answer:Te,peer:Ee}=typeof q=="string"?dh(q):q;if(!(de===gu||g[de])){if(de&&!He&&!Te){if((Q=p[de])!=null&&Q[Y])return;const[[{peer:Re,offer:ke}],Ae]=await vu([V(1),Sf(zp(w,de))]);p[de]||(p[de]=[]),p[de][Y]=Re,setTimeout(()=>O(de,Y),F[Y]*.9),Re.setHandlers({connect:()=>A(Re,de,Y),close:()=>z(Re,de)}),J(Ae,uh({peerId:gu,offer:ke}))}else if(He){if(((we=p[de])==null?void 0:we[Y])&&gu>de)return;const ke=s5(!1,c.rtcConfig);ke.setHandlers({connect:()=>A(ke,de,Y),close:()=>z(ke,de)});let Ae;try{Ae=await y(He)}catch{B(de,"offer");return}if(ke.isDead)return;const[Me,Ze]=await vu([Sf(zp(w,de)),ke.signal(Ae)]);J(Me,uh({peerId:gu,answer:await E(Ze)}))}else if(Te){let Re;try{Re=await y(Te)}catch{B(de,"answer");return}if(Ee)Ee.setHandlers({connect:()=>A(Ee,de,Y),close:()=>z(Ee,de)}),Ee.signal(Re);else{const ke=(ve=p[de])==null?void 0:ve[Y];ke&&!ke.isDead&&ke.signal(Re)}}}};if(!c)throw Vs("requires a config map as the first argument");if(!h&&!c.firebaseApp)throw Vs("config map is missing appId field");if(!f)throw Vs("roomId argument required");if(!o){const Y=e(c);s=ch(Fz,M),i=Array.isArray(Y)?Y:[Y],o=!0,a=setInterval(()=>s=s.filter($=>{const q=Date.now()-$.created<l5;return q||$.destroy(),q}),l5*1.03)}const F=i.map(()=>zz),K=[],ne=i.map(async(Y,$)=>t(await Y,await S,await C,U($),V));vu([S,C]).then(([Y,$])=>{const q=async(J,ie)=>{const te=await n(J,Y,$);typeof te=="number"&&(F[ie]=te),K[ie]=setTimeout(()=>q(J,ie),F[ie])};ne.forEach(async(J,ie)=>{await J,q(await i[ie],ie)})});let G=Ql;return r[h]||(r[h]={}),r[h][f]=Lz(Y=>G=Y,Y=>delete g[Y],()=>{delete r[h][f],K.forEach(clearTimeout),ne.forEach(async Y=>(await Y)()),clearInterval(a)})}},Ny={},Pk={},Vl={},Hl={},uf={},c5={},Up={},$z="announce",Tk=20,u5=10,Uz=33333,Gz=120333,Vz=3,Hz=async e=>{if(Ny[e])return Ny[e];const t=(await Sf(e)).slice(0,Tk);return Ny[e]=t,Pk[t]=e,t},d5=async(e,t,n)=>e.send(uh({action:$z,info_hash:await Hz(t),peer_id:gu,...n})),f5=(e,t,n)=>console.warn(`${lh}: torrent tracker ${n?"failure":"warning"} from ${e} - ${t}`),h5=Bz({init:e=>nz(e,Wz,Vz).map(t=>{const n=rz(t,o=>{var d,h;const i=dh(o),s=i["failure reason"],a=i["warning message"],{interval:c}=i,f=Pk[i.info_hash];if(s){f5(r,s,!0);return}if(a&&f5(r,a),c&&c*1e3>uf[r]&&Hl[r][f]){const p=Math.min(c*1e3,Gz);clearInterval(Vl[r][f]),uf[r]=p,Vl[r][f]=setInterval(Hl[r][f],p)}c5[i.offer_id]||(i.offer||i.answer)&&(c5[i.offer_id]=!0,(h=(d=Up[r])[f])==null||h.call(d,i))}),{url:r}=n;return Up[r]={},n.ready}),subscribe:(e,t,n,r,o)=>{const{url:i}=e,s=async()=>{const a=pk((await o(u5)).map(c=>[hk(Tk),c]));Up[e.url][t]=c=>{if(c.offer)r(t,{offer:c.offer,peerId:c.peer_id},(f,d)=>d5(e,t,{answer:dh(d).answer,offer_id:c.offer_id,to_peer_id:c.peer_id}));else if(c.answer){const f=a[c.offer_id];f&&r(t,{answer:c.answer,peerId:c.peer_id,peer:f.peer})}},d5(e,t,{numwant:u5,offers:o2(a).map(([c,{offer:f}])=>({offer_id:c,offer:f}))})};return uf[i]=Uz,Hl[i]||(Hl[i]={}),Hl[i][t]=s,Vl[i]||(Vl[i]={}),Vl[i][t]=setInterval(s,uf[i]),s(),()=>{clearInterval(Vl[i][t]),delete Up[i][t],delete Hl[i][t]}},announce:e=>uf[e.url]}),Wz=["tracker.webtorrent.dev","tracker.openwebtorrent.com","tracker.btorrent.xyz","tracker.files.fm:7073/announce"].map(e=>"wss://"+e),p5="acererak-vtt-v1";function Kz(){const e=N.useRef(null),[t,n]=N.useState({roomId:null,peers:[],isHost:!1}),r=N.useRef({}),{game:o,loadGame:i,addElement:s,updateElement:a,deleteElement:c,addPlayer:f,removePlayer:d,updatePlayer:h,setConnected:p,myPeerId:g,addDiceRoll:w}=hr(),{toggleFog:S}=hr(U=>({toggleFog:U.toggleFog})),C=N.useCallback(U=>{e.current&&e.current.leave();const F=h5({appId:p5},U);return e.current=F,n({roomId:U,peers:[],isHost:!0}),P(F,!0),p(!0,g||void 0),U},[g,p]),k=N.useCallback((U,F,K)=>{e.current&&e.current.leave();const ne=h5({appId:p5},U);e.current=ne,n({roomId:U,peers:[],isHost:!1}),P(ne,!1),ne.onPeerJoin(G=>{console.log("Connected to peer:",G),r.current.sendRequestSync&&r.current.sendRequestSync(null),r.current.sendPlayerJoin&&g&&r.current.sendPlayerJoin({id:g,name:F,color:K,isDM:!1,controlledTokens:[]})}),p(!0,g||void 0)},[g,p]),P=N.useCallback((U,F)=>{const[K,ne]=U.makeAction("sync"),[G,X]=U.makeAction("elUpdate"),[Y,$]=U.makeAction("elDelete"),[q,J]=U.makeAction("cursor"),[ie,te]=U.makeAction("ping"),[de,He]=U.makeAction("plyJoin"),[Te,Ee]=U.makeAction("plyLeave"),[Q,we]=U.makeAction("reqSync"),[ve,Re]=U.makeAction("fogUpdate"),[ke,Ae]=U.makeAction("diceRoll");r.current={sendSync:K,sendElementUpdate:G,sendElementDelete:Y,sendCursor:q,sendPing:ie,sendPlayerJoin:de,sendPlayerLeave:Te,sendRequestSync:Q,sendFogUpdate:ve,sendDiceRoll:ke},U.onPeerJoin(Me=>{console.log("Peer joined:",Me),n(Ze=>({...Ze,peers:[...Ze.peers,Me]})),F&&o&&K(o,[Me])}),U.onPeerLeave(Me=>{console.log("Peer left:",Me),n(Ze=>({...Ze,peers:Ze.peers.filter(Qe=>Qe!==Me)})),d(Me)}),ne((Me,Ze)=>{console.log("Received sync from:",Ze),i(Me)}),X((Me,Ze)=>{(o==null?void 0:o.elements.find(cn=>cn.id===Me.id))?a(Me.id,Me):s(Me)}),$((Me,Ze)=>{c(Me)}),J((Me,Ze)=>{h(Ze,{cursor:Me})}),te((Me,Ze)=>{console.log("Ping from",Ze,"at",Me.position)}),He((Me,Ze)=>{f(Me),Xs.show({title:"Player Joined",message:`${Me.name} has joined the game`,color:"green",autoClose:4e3})}),Ee((Me,Ze)=>{var je;const Qe=(je=hr.getState().game)==null?void 0:je.players[Me],cn=(Qe==null?void 0:Qe.name)||"Unknown player";d(Me),Xs.show({title:"Player Left",message:`${cn} has left the game`,color:"orange",autoClose:4e3})}),we((Me,Ze)=>{F&&o&&K(o,[Ze])}),Re((Me,Ze)=>{console.log("Received fog update"),Me.enabled!==void 0&&S(Me.enabled);const Qe=hr.getState().game;Qe&&hr.setState({game:{...Qe,fogOfWar:{enabled:Me.enabled??Qe.fogOfWar.enabled,revealed:Me.revealed??Qe.fogOfWar.revealed},updatedAt:new Date().toISOString()}})}),Ae((Me,Ze)=>{console.log("Received dice roll from peer:",Me),w(Me),Xs.show({title:"Dice Roll",message:`${Me.playerName} rolled ${Me.formula}: ${Me.result}`,color:"violet",autoClose:4e3})})},[o,i,s,a,c,f,d,h,S,w]),y=N.useCallback(U=>{r.current.sendElementUpdate&&r.current.sendElementUpdate(U)},[]),E=N.useCallback(U=>{r.current.sendElementDelete&&r.current.sendElementDelete(U)},[]),M=N.useCallback(U=>{r.current.sendCursor&&r.current.sendCursor(U)},[]),A=N.useCallback((U,F)=>{r.current.sendPing&&r.current.sendPing({position:U,color:F})},[]),z=N.useCallback(()=>{r.current.sendSync&&o&&r.current.sendSync(o)},[o]),O=N.useCallback(U=>{r.current.sendFogUpdate&&r.current.sendFogUpdate(U)},[]),V=N.useCallback(U=>{r.current.sendDiceRoll&&r.current.sendDiceRoll(U)},[]),B=N.useCallback(()=>{e.current&&(r.current.sendPlayerLeave&&g&&r.current.sendPlayerLeave(g),e.current.leave(),e.current=null),n({roomId:null,peers:[],isHost:!1}),p(!1)},[g,p]);return N.useEffect(()=>()=>{e.current&&e.current.leave()},[]),{...t,createRoom:C,joinRoom:k,leaveRoom:B,broadcastElementUpdate:y,broadcastElementDelete:E,broadcastCursor:M,broadcastPing:A,broadcastSync:z,broadcastFogUpdate:O,broadcastDiceRoll:V}}function Yz(e={}){const{setTool:t,selectedTool:n,deleteElement:r,selectedElementId:o,selectedElementIds:i,game:s,isDM:a}=hr(),{undo:c,redo:f,canUndo:d,canRedo:h}=Us(),p=N.useRef(!1),g=N.useRef("select"),w=N.useCallback(C=>{const k=C.target;if(k.tagName==="INPUT"||k.tagName==="TEXTAREA")return;const P=C.key.toLowerCase(),y=C.ctrlKey||C.metaKey;if(y&&P==="c"&&i.length>0){C.preventDefault(),e.onCopy&&e.onCopy();return}if(y&&P==="x"&&i.length>0){C.preventDefault(),e.onCut&&e.onCut();return}if(y&&P==="v"){C.preventDefault(),e.onPaste&&e.onPaste();return}if(y&&P==="z"&&!C.shiftKey){C.preventDefault(),d()&&c()&&e.onUndo&&e.onUndo();return}if(y&&P==="y"||y&&C.shiftKey&&P==="z"){C.preventDefault(),h()&&f()&&e.onRedo&&e.onRedo();return}if(y&&P==="s"){C.preventDefault(),s&&a&&(dk(s,a).catch(E=>{console.error("Failed to save game:",E)}),e.onSave&&e.onSave());return}if(P==="delete"&&o){C.preventDefault(),r(o),e.onDelete&&e.onDelete();return}if(P==="escape"){C.preventDefault(),t("select"),e.onEscape&&e.onEscape();return}if(!y){if(P===" "&&!p.current){C.preventDefault(),p.current=!0,g.current=n,t("pan");return}if(!y&&!C.shiftKey&&!C.altKey)switch(P){case"s":C.preventDefault(),t("select");break;case"d":C.preventDefault(),t("draw-freehand");break;case"l":C.preventDefault(),t("draw-line");break;case"r":C.preventDefault(),t("draw-rectangle");break;case"c":C.preventDefault(),t("draw-circle");break;case"t":C.preventDefault(),t("text");break;case"m":C.preventDefault(),t("measure");break;case"p":C.preventDefault(),t("ping");break;case"n":C.preventDefault(),t("token");break}}},[t,n,r,o,s,a,c,f,d,h,e]),S=N.useCallback(C=>{C.key.toLowerCase()===" "&&p.current&&(C.preventDefault(),p.current=!1,t(g.current))},[t]);return N.useEffect(()=>(window.addEventListener("keydown",w),window.addEventListener("keyup",S),()=>{window.removeEventListener("keydown",w),window.removeEventListener("keyup",S)}),[w,S]),{canUndo:d(),canRedo:h()}}var qz=Object.defineProperty,ng=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty,Nk=Object.prototype.propertyIsEnumerable,m5=(e,t,n)=>t in e?qz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xz=(e,t)=>{for(var n in t||(t={}))Rk.call(t,n)&&m5(e,n,t[n]);if(ng)for(var n of ng(t))Nk.call(t,n)&&m5(e,n,t[n]);return e},Qz=(e,t)=>{var n={};for(var r in e)Rk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ng)for(var r of ng(e))t.indexOf(r)<0&&Nk.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var gc;(e=>{const t=class{constructor(c,f,d,h){if(this.version=c,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let w=0;w<this.size;w++)p.push(!1);for(let w=0;w<this.size;w++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),h==-1){let w=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const C=this.getPenaltyScore();C<w&&(h=S,w=C),this.applyMask(S)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,f){const d=e.QrSegment.makeSegments(c);return t.encodeSegments(d,f)}static encodeBinary(c,f){const d=e.QrSegment.makeBytes(c);return t.encodeSegments([d],f)}static encodeSegments(c,f,d=1,h=40,p=-1,g=!0){if(!(t.MIN_VERSION<=d&&d<=h&&h<=t.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let w,S;for(w=d;;w++){const y=t.getNumDataCodewords(w,f)*8,E=a.getTotalBits(c,w);if(E<=y){S=E;break}if(w>=h)throw new RangeError("Data too long")}for(const y of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])g&&S<=t.getNumDataCodewords(w,y)*8&&(f=y);let C=[];for(const y of c){r(y.mode.modeBits,4,C),r(y.numChars,y.mode.numCharCountBits(w),C);for(const E of y.getData())C.push(E)}i(C.length==S);const k=t.getNumDataCodewords(w,f)*8;i(C.length<=k),r(0,Math.min(4,k-C.length),C),r(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let y=236;C.length<k;y^=253)r(y,8,C);let P=[];for(;P.length*8<C.length;)P.push(0);return C.forEach((y,E)=>P[E>>>3]|=y<<7-(E&7)),new t(w,f,P,p)}getModule(c,f){return 0<=c&&c<this.size&&0<=f&&f<this.size&&this.modules[f][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),f=c.length;for(let d=0;d<f;d++)for(let h=0;h<f;h++)d==0&&h==0||d==0&&h==f-1||d==f-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const f=this.errorCorrectionLevel.formatBits<<3|c;let d=f;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const h=(f<<10|d)^21522;i(h>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,o(h,p));this.setFunctionModule(8,7,o(h,6)),this.setFunctionModule(8,8,o(h,7)),this.setFunctionModule(7,8,o(h,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,o(h,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,o(h,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,o(h,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const f=this.version<<12|c;i(f>>>18==0);for(let d=0;d<18;d++){const h=o(f,d),p=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(p,g,h),this.setFunctionModule(g,p,h)}}drawFinderPattern(c,f){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const p=Math.max(Math.abs(h),Math.abs(d)),g=c+h,w=f+d;0<=g&&g<this.size&&0<=w&&w<this.size&&this.setFunctionModule(g,w,p!=2&&p!=4)}}drawAlignmentPattern(c,f){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,f+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,f,d){this.modules[f][c]=d,this.isFunction[f][c]=!0}addEccAndInterleave(c){const f=this.version,d=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(f,d))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][f],p=t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][f],g=Math.floor(t.getNumRawDataModules(f)/8),w=h-g%h,S=Math.floor(g/h);let C=[];const k=t.reedSolomonComputeDivisor(p);for(let y=0,E=0;y<h;y++){let M=c.slice(E,E+S-p+(y<w?0:1));E+=M.length;const A=t.reedSolomonComputeRemainder(M,k);y<w&&M.push(0),C.push(M.concat(A))}let P=[];for(let y=0;y<C[0].length;y++)C.forEach((E,M)=>{(y!=S-p||M>=w)&&P.push(E[y])});return i(P.length==g),P}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let p=0;p<2;p++){const g=d-p,S=(d+1&2)==0?this.size-1-h:h;!this.isFunction[S][g]&&f<c.length*8&&(this.modules[S][g]=o(c[f>>>3],7-(f&7)),f++)}}i(f==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+f)%2==0;break;case 1:h=f%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+f)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(f/2))%2==0;break;case 5:h=d*f%2+d*f%3==0;break;case 6:h=(d*f%2+d*f%3)%2==0;break;case 7:h=((d+f)%2+d*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][d]&&h&&(this.modules[f][d]=!this.modules[f][d])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let g=!1,w=0,S=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[p][C]==g?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,S),g||(c+=this.finderPenaltyCountPatterns(S)*t.PENALTY_N3),g=this.modules[p][C],w=1);c+=this.finderPenaltyTerminateAndCount(g,w,S)*t.PENALTY_N3}for(let p=0;p<this.size;p++){let g=!1,w=0,S=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][p]==g?(w++,w==5?c+=t.PENALTY_N1:w>5&&c++):(this.finderPenaltyAddHistory(w,S),g||(c+=this.finderPenaltyCountPatterns(S)*t.PENALTY_N3),g=this.modules[C][p],w=1);c+=this.finderPenaltyTerminateAndCount(g,w,S)*t.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let g=0;g<this.size-1;g++){const w=this.modules[p][g];w==this.modules[p][g+1]&&w==this.modules[p+1][g]&&w==this.modules[p+1][g+1]&&(c+=t.PENALTY_N2)}let f=0;for(const p of this.modules)f=p.reduce((g,w)=>g+(w?1:0),f);const d=this.size*this.size,h=Math.ceil(Math.abs(f*20-d*10)/d)-1;return i(0<=h&&h<=9),c+=h*t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=f)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;f-=(25*d-10)*d-55,c>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(c,f){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let f=[];for(let h=0;h<c-1;h++)f.push(0);f.push(1);let d=1;for(let h=0;h<c;h++){for(let p=0;p<f.length;p++)f[p]=t.reedSolomonMultiply(f[p],d),p+1<f.length&&(f[p]^=f[p+1]);d=t.reedSolomonMultiply(d,2)}return f}static reedSolomonComputeRemainder(c,f){let d=f.map(h=>0);for(const h of c){const p=h^d.shift();d.push(0),f.forEach((g,w)=>d[w]^=t.reedSolomonMultiply(g,p))}return d}static reedSolomonMultiply(c,f){if(c>>>8||f>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(f>>>h&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const f=c[1];i(f<=this.size*3);const d=f>0&&c[2]==f&&c[3]==f*3&&c[4]==f&&c[5]==f;return(d&&c[0]>=f*4&&c[6]>=f?1:0)+(d&&c[6]>=f*4&&c[0]>=f?1:0)}finderPenaltyTerminateAndCount(c,f,d){return c&&(this.finderPenaltyAddHistory(f,d),f=0),f+=this.size,this.finderPenaltyAddHistory(f,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,f){f[0]==0&&(c+=this.size),f.pop(),f.unshift(c)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(c,f,d){if(f<0||f>31||c>>>f)throw new RangeError("Value out of range");for(let h=f-1;h>=0;h--)d.push(c>>>h&1)}function o(c,f){return(c>>>f&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const s=class{constructor(c,f,d){if(this.mode=c,this.numChars=f,this.bitData=d,f<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let f=[];for(const d of c)r(d,8,f);return new s(s.Mode.BYTE,c.length,f)}static makeNumeric(c){if(!s.isNumeric(c))throw new RangeError("String contains non-numeric characters");let f=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);r(parseInt(c.substr(d,h),10),h*3+1,f),d+=h}return new s(s.Mode.NUMERIC,c.length,f)}static makeAlphanumeric(c){if(!s.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],d;for(d=0;d+2<=c.length;d+=2){let h=s.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=s.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(h,11,f)}return d<c.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,f),new s(s.Mode.ALPHANUMERIC,c.length,f)}static makeSegments(c){return c==""?[]:s.isNumeric(c)?[s.makeNumeric(c)]:s.isAlphanumeric(c)?[s.makeAlphanumeric(c)]:[s.makeBytes(s.toUtf8ByteArray(c))]}static makeEci(c){let f=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,f);else if(c<16384)r(2,2,f),r(c,14,f);else if(c<1e6)r(6,3,f),r(c,21,f);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,f)}static isNumeric(c){return s.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return s.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,f){let d=0;for(const h of c){const p=h.mode.numCharCountBits(f);if(h.numChars>=1<<p)return 1/0;d+=4+p+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let f=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?f.push(c.charCodeAt(d)):(f.push(parseInt(c.substr(d+1,2),16)),d+=2);return f}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(gc||(gc={}));(e=>{(t=>{const n=class{constructor(o,i){this.ordinal=o,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(gc||(gc={}));(e=>{(t=>{const n=class{constructor(o,i){this.modeBits=o,this.numBitsCharCount=i}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(gc||(gc={}));var kf=gc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Zz={L:kf.QrCode.Ecc.LOW,M:kf.QrCode.Ecc.MEDIUM,Q:kf.QrCode.Ecc.QUARTILE,H:kf.QrCode.Ecc.HIGH},Jz=128,eB="L",tB="#FFFFFF",nB="#000000",rB=!1,Ak=4,oB=.1;function iB(e,t=0){const n=[];return e.forEach(function(r,o){let i=null;r.forEach(function(s,a){if(!s&&i!==null){n.push(`M${i+t} ${o+t}h${a-i}v1H${i+t}z`),i=null;return}if(a===r.length-1){if(!s)return;i===null?n.push(`M${a+t},${o+t} h1v1H${a+t}z`):n.push(`M${i+t},${o+t} h${a+1-i}v1H${i+t}z`);return}s&&i===null&&(i=a)})}),n.join("")}function sB(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((o,i)=>i<t.x||i>=t.x+t.w?o:!1))}function aB(e,t,n,r){if(r==null)return null;const o=n?Ak:0,i=e.length+o*2,s=Math.floor(t*oB),a=i/t,c=(r.width||s)*a,f=(r.height||s)*a,d=r.x==null?e.length/2-c/2:r.x*a,h=r.y==null?e.length/2-f/2:r.y*a;let p=null;if(r.excavate){let g=Math.floor(d),w=Math.floor(h),S=Math.ceil(c+d-g),C=Math.ceil(f+h-w);p={x:g,y:w,w:S,h:C}}return{x:d,y:h,h:f,w:c,excavation:p}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function lB(e){const t=e,{value:n,size:r=Jz,level:o=eB,bgColor:i=tB,fgColor:s=nB,includeMargin:a=rB,imageSettings:c}=t,f=Qz(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=kf.QrCode.encodeText(n,Zz[o]).getModules();const h=a?Ak:0,p=d.length+h*2,g=aB(d,r,a,c);let w=null;c!=null&&g!=null&&(g.excavation!=null&&(d=sB(d,g.excavation)),w=Rt.createElement("image",{xlinkHref:c.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const S=iB(d,h);return Rt.createElement("svg",Xz({height:r,width:r,viewBox:`0 0 ${p} ${p}`},f),Rt.createElement("path",{fill:i,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),Rt.createElement("path",{fill:s,d:S,shapeRendering:"crispEdges"}),w)}function cB({room:e}){const{createGame:t,loadGame:n}=hr(),[r,o]=N.useState("recent"),[i,s]=N.useState(""),[a,c]=N.useState(""),[f,d]=N.useState(null),[h,p]=N.useState(""),[g,w]=N.useState(""),[S,C]=N.useState("#3b82f6"),[k,P]=N.useState([]),y=()=>{if(!i.trim()||!a.trim())return;t(i,a);const B=Li(8);e.createRoom(B),d(B)},E=()=>{!h.trim()||!g.trim()||e.joinRoom(h.trim(),g,S)},M=()=>f?`${window.location.origin+window.location.pathname}?room=${f}`:"";N.useEffect(()=>{A()},[]),N.useEffect(()=>{const U=new URLSearchParams(window.location.search).get("room");U&&(p(U),o("join"))},[]);const A=async()=>{const B=await HF(10);P(B)},z=B=>{n(B.gameState)},O=async B=>{await VF(B),await A()},V=B=>{const U=new Date(B),K=new Date().getTime()-U.getTime(),ne=Math.floor(K/6e4),G=Math.floor(K/36e5),X=Math.floor(K/864e5);return ne<1?"Just now":ne<60?`${ne}m ago`:G<24?`${G}h ago`:X<7?`${X}d ago`:U.toLocaleDateString()};return x.jsx(kx,{size:"sm",py:"xl",children:x.jsxs(_n,{shadow:"md",p:"xl",radius:"md",withBorder:!0,children:[x.jsx(Kx,{order:1,ta:"center",mb:"md",children:" Acererak VTT"}),x.jsx(mt,{c:"dimmed",ta:"center",mb:"xl",children:"Decentralized Virtual Tabletop for TTRPG"}),x.jsxs(Vt,{value:r,onChange:o,children:[x.jsxs(Vt.List,{grow:!0,mb:"lg",children:[x.jsx(Vt.Tab,{value:"recent",children:"Recent Games"}),x.jsx(Vt.Tab,{value:"create",children:"Create Game"}),x.jsx(Vt.Tab,{value:"join",children:"Join Game"})]}),x.jsx(Vt.Panel,{value:"recent",children:x.jsx($t,{children:k.length===0?x.jsx(mt,{c:"dimmed",ta:"center",py:"xl",children:"No saved games yet. Create a new game to get started!"}):k.map(B=>x.jsxs(Gg,{shadow:"sm",padding:"md",radius:"md",withBorder:!0,children:[x.jsxs(vt,{justify:"space-between",mb:"xs",children:[x.jsx(mt,{fw:500,children:B.name}),x.jsxs(vt,{gap:"xs",children:[B.isDM&&x.jsx(Do,{color:"violet",variant:"light",size:"sm",children:"DM"}),x.jsxs(Do,{color:"gray",variant:"light",size:"sm",children:[B.playerCount," ",B.playerCount===1?"player":"players"]})]})]}),x.jsxs(mt,{size:"sm",c:"dimmed",mb:"md",children:["Last played: ",V(B.lastUpdated)]}),x.jsxs(vt,{justify:"flex-end",children:[x.jsx(Kt,{variant:"subtle",color:"red",size:"xs",onClick:()=>O(B.id),children:"Delete"}),x.jsx(Kt,{variant:"filled",size:"xs",onClick:()=>z(B),children:"Load Game"})]})]},B.id))})}),x.jsx(Vt.Panel,{value:"create",children:f?x.jsxs($t,{align:"center",children:[x.jsx(mt,{fw:500,size:"lg",children:"Game Created!"}),x.jsx(mt,{c:"dimmed",size:"sm",children:"Share this QR code or link with your players"}),x.jsx(Oe,{p:"md",bg:"white",style:{borderRadius:8},children:x.jsx(lB,{value:M(),size:200,level:"M"})}),x.jsxs(vt,{gap:"xs",align:"center",children:[x.jsx(wx,{block:!0,style:{flex:1},children:f}),x.jsx(Z1,{value:f,children:({copied:B,copy:U})=>x.jsx($n,{label:B?"Copied!":"Copy Room ID",children:x.jsx(an,{color:B?"teal":"gray",variant:"subtle",onClick:U,children:B?"":""})})})]}),x.jsx(Z1,{value:M(),children:({copied:B,copy:U})=>x.jsx(Kt,{variant:"light",color:B?"teal":"blue",onClick:U,fullWidth:!0,children:B?"Link Copied!":"Copy Invite Link"})}),x.jsxs(mt,{size:"sm",c:"dimmed",mt:"md",children:["Waiting for players... (",e.peers.length," connected)"]}),x.jsx(Kt,{fullWidth:!0,mt:"md",onClick:()=>{},children:"Start Game "})]}):x.jsxs($t,{children:[x.jsx(Nr,{label:"Game Name",placeholder:"My Epic Campaign",value:i,onChange:B=>s(B.currentTarget.value),required:!0}),x.jsx(Nr,{label:"Your Name (DM)",placeholder:"Dungeon Master",value:a,onChange:B=>c(B.currentTarget.value),required:!0}),x.jsx(Kt,{fullWidth:!0,mt:"md",onClick:y,disabled:!i.trim()||!a.trim(),children:"Create Game"})]})}),x.jsx(Vt.Panel,{value:"join",children:x.jsxs($t,{children:[x.jsx(Nr,{label:"Room ID",placeholder:"Enter room ID or scan QR",value:h,onChange:B=>p(B.currentTarget.value),required:!0}),x.jsx(Nr,{label:"Your Name",placeholder:"Player Name",value:g,onChange:B=>w(B.currentTarget.value),required:!0}),x.jsx(ji,{label:"Your Color",value:S,onChange:C,swatches:["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"]}),x.jsx(Kt,{fullWidth:!0,mt:"md",onClick:E,disabled:!h.trim()||!g.trim(),children:"Join Game"})]})})]})]})})}var Mk={exports:{}},r0={},rg={},Dt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof ym<"u"?ym:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(o){}).toString()),dblClickWindow:400,getAngle(o){return e.Konva.angleDeg?o*t:o},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var o;return(o=e.Konva.Transformer)===null||o===void 0?void 0:o.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(o){e.glob.Konva=o}};const r=o=>{e.Konva[o.prototype.getClassName()]=o};e._registerNode=r,e.Konva._injectGlobal(e.Konva)})(Dt);var zn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=Dt;class n{constructor(E=[1,0,0,1,0,0]){this.dirty=!1,this.m=E&&E.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(E){E.m[0]=this.m[0],E.m[1]=this.m[1],E.m[2]=this.m[2],E.m[3]=this.m[3],E.m[4]=this.m[4],E.m[5]=this.m[5]}point(E){const M=this.m;return{x:M[0]*E.x+M[2]*E.y+M[4],y:M[1]*E.x+M[3]*E.y+M[5]}}translate(E,M){return this.m[4]+=this.m[0]*E+this.m[2]*M,this.m[5]+=this.m[1]*E+this.m[3]*M,this}scale(E,M){return this.m[0]*=E,this.m[1]*=E,this.m[2]*=M,this.m[3]*=M,this}rotate(E){const M=Math.cos(E),A=Math.sin(E),z=this.m[0]*M+this.m[2]*A,O=this.m[1]*M+this.m[3]*A,V=this.m[0]*-A+this.m[2]*M,B=this.m[1]*-A+this.m[3]*M;return this.m[0]=z,this.m[1]=O,this.m[2]=V,this.m[3]=B,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(E,M){const A=this.m[0]+this.m[2]*M,z=this.m[1]+this.m[3]*M,O=this.m[2]+this.m[0]*E,V=this.m[3]+this.m[1]*E;return this.m[0]=A,this.m[1]=z,this.m[2]=O,this.m[3]=V,this}multiply(E){const M=this.m[0]*E.m[0]+this.m[2]*E.m[1],A=this.m[1]*E.m[0]+this.m[3]*E.m[1],z=this.m[0]*E.m[2]+this.m[2]*E.m[3],O=this.m[1]*E.m[2]+this.m[3]*E.m[3],V=this.m[0]*E.m[4]+this.m[2]*E.m[5]+this.m[4],B=this.m[1]*E.m[4]+this.m[3]*E.m[5]+this.m[5];return this.m[0]=M,this.m[1]=A,this.m[2]=z,this.m[3]=O,this.m[4]=V,this.m[5]=B,this}invert(){const E=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),M=this.m[3]*E,A=-this.m[1]*E,z=-this.m[2]*E,O=this.m[0]*E,V=E*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),B=E*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=M,this.m[1]=A,this.m[2]=z,this.m[3]=O,this.m[4]=V,this.m[5]=B,this}getMatrix(){return this.m}decompose(){const E=this.m[0],M=this.m[1],A=this.m[2],z=this.m[3],O=this.m[4],V=this.m[5],B=E*z-M*A,U={x:O,y:V,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(E!=0||M!=0){const F=Math.sqrt(E*E+M*M);U.rotation=M>0?Math.acos(E/F):-Math.acos(E/F),U.scaleX=F,U.scaleY=B/F,U.skewX=(E*A+M*z)/B,U.skewY=0}else if(A!=0||z!=0){const F=Math.sqrt(A*A+z*z);U.rotation=Math.PI/2-(z>0?Math.acos(-A/F):-Math.acos(A/F)),U.scaleX=B/F,U.scaleY=F,U.skewX=0,U.skewY=(E*A+M*z)/B}return U.rotation=e.Util._getRotation(U.rotation),U}}e.Transform=n;const r="[object Array]",o="[object Number]",i="[object String]",s="[object Boolean]",a=Math.PI/180,c=180/Math.PI,f="#",d="",h="0",p="Konva warning: ",g="Konva error: ",w="rgb(",S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let k=[];const P=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(y){setTimeout(y,60)};e.Util={_isElement(y){return!!(y&&y.nodeType==1)},_isFunction(y){return!!(y&&y.constructor&&y.call&&y.apply)},_isPlainObject(y){return!!y&&y.constructor===Object},_isArray(y){return Object.prototype.toString.call(y)===r},_isNumber(y){return Object.prototype.toString.call(y)===o&&!isNaN(y)&&isFinite(y)},_isString(y){return Object.prototype.toString.call(y)===i},_isBoolean(y){return Object.prototype.toString.call(y)===s},isObject(y){return y instanceof Object},isValidSelector(y){if(typeof y!="string")return!1;const E=y[0];return E==="#"||E==="."||E===E.toUpperCase()},_sign(y){return y===0||y>0?1:-1},requestAnimFrame(y){k.push(y),k.length===1&&P(function(){const E=k;k=[],E.forEach(function(M){M()})})},createCanvasElement(){const y=document.createElement("canvas");try{y.style=y.style||{}}catch{}return y},createImageElement(){return document.createElement("img")},_isInDocument(y){for(;y=y.parentNode;)if(y==document)return!0;return!1},_urlToImage(y,E){const M=e.Util.createImageElement();M.onload=function(){E(M)},M.src=y},_rgbToHex(y,E,M){return((1<<24)+(y<<16)+(E<<8)+M).toString(16).slice(1)},_hexToRgb(y){y=y.replace(f,d);const E=parseInt(y,16);return{r:E>>16&255,g:E>>8&255,b:E&255}},getRandomColor(){let y=(Math.random()*16777215<<0).toString(16);for(;y.length<6;)y=h+y;return f+y},getRGB(y){let E;return y in S?(E=S[y],{r:E[0],g:E[1],b:E[2]}):y[0]===f?this._hexToRgb(y.substring(1)):y.substr(0,4)===w?(E=C.exec(y.replace(/ /g,"")),{r:parseInt(E[1],10),g:parseInt(E[2],10),b:parseInt(E[3],10)}):{r:0,g:0,b:0}},colorToRGBA(y){return y=y||"black",e.Util._namedColorToRBA(y)||e.Util._hex3ColorToRGBA(y)||e.Util._hex4ColorToRGBA(y)||e.Util._hex6ColorToRGBA(y)||e.Util._hex8ColorToRGBA(y)||e.Util._rgbColorToRGBA(y)||e.Util._rgbaColorToRGBA(y)||e.Util._hslColorToRGBA(y)},_namedColorToRBA(y){const E=S[y.toLowerCase()];return E?{r:E[0],g:E[1],b:E[2],a:1}:null},_rgbColorToRGBA(y){if(y.indexOf("rgb(")===0){y=y.match(/rgb\(([^)]+)\)/)[1];const E=y.split(/ *, */).map(Number);return{r:E[0],g:E[1],b:E[2],a:1}}},_rgbaColorToRGBA(y){if(y.indexOf("rgba(")===0){y=y.match(/rgba\(([^)]+)\)/)[1];const E=y.split(/ *, */).map((M,A)=>M.slice(-1)==="%"?A===3?parseInt(M)/100:parseInt(M)/100*255:Number(M));return{r:E[0],g:E[1],b:E[2],a:E[3]}}},_hex8ColorToRGBA(y){if(y[0]==="#"&&y.length===9)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:parseInt(y.slice(7,9),16)/255}},_hex6ColorToRGBA(y){if(y[0]==="#"&&y.length===7)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:1}},_hex4ColorToRGBA(y){if(y[0]==="#"&&y.length===5)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:parseInt(y[4]+y[4],16)/255}},_hex3ColorToRGBA(y){if(y[0]==="#"&&y.length===4)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:1}},_hslColorToRGBA(y){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(y)){const[E,...M]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(y),A=Number(M[0])/360,z=Number(M[1])/100,O=Number(M[2])/100;let V,B,U;if(z===0)return U=O*255,{r:Math.round(U),g:Math.round(U),b:Math.round(U),a:1};O<.5?V=O*(1+z):V=O+z-O*z;const F=2*O-V,K=[0,0,0];for(let ne=0;ne<3;ne++)B=A+1/3*-(ne-1),B<0&&B++,B>1&&B--,6*B<1?U=F+(V-F)*6*B:2*B<1?U=V:3*B<2?U=F+(V-F)*(2/3-B)*6:U=F,K[ne]=U*255;return{r:Math.round(K[0]),g:Math.round(K[1]),b:Math.round(K[2]),a:1}}},haveIntersection(y,E){return!(E.x>y.x+y.width||E.x+E.width<y.x||E.y>y.y+y.height||E.y+E.height<y.y)},cloneObject(y){const E={};for(const M in y)this._isPlainObject(y[M])?E[M]=this.cloneObject(y[M]):this._isArray(y[M])?E[M]=this.cloneArray(y[M]):E[M]=y[M];return E},cloneArray(y){return y.slice(0)},degToRad(y){return y*a},radToDeg(y){return y*c},_degToRad(y){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(y)},_radToDeg(y){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(y)},_getRotation(y){return t.Konva.angleDeg?e.Util.radToDeg(y):y},_capitalize(y){return y.charAt(0).toUpperCase()+y.slice(1)},throw(y){throw new Error(g+y)},error(y){console.error(g+y)},warn(y){t.Konva.showWarnings&&console.warn(p+y)},each(y,E){for(const M in y)E(M,y[M])},_inRange(y,E,M){return E<=y&&y<M},_getProjectionToSegment(y,E,M,A,z,O){let V,B,U;const F=(y-M)*(y-M)+(E-A)*(E-A);if(F==0)V=y,B=E,U=(z-M)*(z-M)+(O-A)*(O-A);else{const K=((z-y)*(M-y)+(O-E)*(A-E))/F;K<0?(V=y,B=E,U=(y-z)*(y-z)+(E-O)*(E-O)):K>1?(V=M,B=A,U=(M-z)*(M-z)+(A-O)*(A-O)):(V=y+K*(M-y),B=E+K*(A-E),U=(V-z)*(V-z)+(B-O)*(B-O))}return[V,B,U]},_getProjectionToLine(y,E,M){const A=e.Util.cloneObject(y);let z=Number.MAX_VALUE;return E.forEach(function(O,V){if(!M&&V===E.length-1)return;const B=E[(V+1)%E.length],U=e.Util._getProjectionToSegment(O.x,O.y,B.x,B.y,y.x,y.y),F=U[0],K=U[1],ne=U[2];ne<z&&(A.x=F,A.y=K,z=ne)}),A},_prepareArrayForTween(y,E,M){const A=[],z=[];if(y.length>E.length){const V=E;E=y,y=V}for(let V=0;V<y.length;V+=2)A.push({x:y[V],y:y[V+1]});for(let V=0;V<E.length;V+=2)z.push({x:E[V],y:E[V+1]});const O=[];return z.forEach(function(V){const B=e.Util._getProjectionToLine(V,A,M);O.push(B.x),O.push(B.y)}),O},_prepareToStringify(y){let E;y.visitedByCircularReferenceRemoval=!0;for(const M in y)if(y.hasOwnProperty(M)&&y[M]&&typeof y[M]=="object"){if(E=Object.getOwnPropertyDescriptor(y,M),y[M].visitedByCircularReferenceRemoval||e.Util._isElement(y[M]))if(E.configurable)delete y[M];else return null;else if(e.Util._prepareToStringify(y[M])===null)if(E.configurable)delete y[M];else return null}return delete y.visitedByCircularReferenceRemoval,y},_assign(y,E){for(const M in E)y[M]=E[M];return y},_getFirstPointerId(y){return y.touches?y.changedTouches[0].identifier:y.pointerId||999},releaseCanvas(...y){t.Konva.releaseCanvasOnDestroy&&y.forEach(E=>{E.width=0,E.height=0})},drawRoundedRectPath(y,E,M,A){let z=0,O=0,V=0,B=0;typeof A=="number"?z=O=V=B=Math.min(A,E/2,M/2):(z=Math.min(A[0]||0,E/2,M/2),O=Math.min(A[1]||0,E/2,M/2),B=Math.min(A[2]||0,E/2,M/2),V=Math.min(A[3]||0,E/2,M/2)),y.moveTo(z,0),y.lineTo(E-O,0),y.arc(E-O,O,O,Math.PI*3/2,0,!1),y.lineTo(E,M-B),y.arc(E-B,M-B,B,0,Math.PI/2,!1),y.lineTo(V,M),y.arc(V,M-V,V,Math.PI/2,Math.PI,!1),y.lineTo(0,z),y.arc(z,z,z,Math.PI,Math.PI*3/2,!1)}}})(zn);var Nn={},Bi={},Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.HitContext=Zs.SceneContext=Zs.Context=void 0;const Ik=zn,uB=Dt;function dB(e){const t=[],n=e.length,r=Ik.Util;for(let o=0;o<n;o++){let i=e[o];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),t.push(i)}return t}const g5=",",fB="(",hB=")",pB="([",mB="])",gB=";",vB="()",yB="=",v5=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],wB=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],xB=100;class o0{constructor(t){this.canvas=t,uB.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){let r=this.traceArr,o=r.length,i="",s,a,c,f;for(s=0;s<o;s++)a=r[s],c=a.method,c?(f=a.args,i+=c,t?i+=vB:Ik.Util._isArray(f[0])?i+=pB+f.join(g5)+mB:(n&&(f=f.map(d=>typeof d=="number"?Math.floor(d):d)),i+=fB+f.join(g5)+hB)):(i+=a.property,t||(i+=yB+a.val)),i+=gB;return i}clearTrace(){this.traceArr=[]}_trace(t){let n=this.traceArr,r;n.push(t),r=n.length,r>=xB&&n.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){const n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(t,n){this._context[t]=n}arc(t,n,r,o,i,s){this._context.arc(t,n,r,o,i,s)}arcTo(t,n,r,o,i){this._context.arcTo(t,n,r,o,i)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,r,o,i,s){this._context.bezierCurveTo(t,n,r,o,i,s)}clearRect(t,n,r,o){this._context.clearRect(t,n,r,o)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,n){const r=arguments;if(r.length===2)return this._context.createImageData(t,n);if(r.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,r,o){return this._context.createLinearGradient(t,n,r,o)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,r,o,i,s){return this._context.createRadialGradient(t,n,r,o,i,s)}drawImage(t,n,r,o,i,s,a,c,f){const d=arguments,h=this._context;d.length===3?h.drawImage(t,n,r):d.length===5?h.drawImage(t,n,r,o,i):d.length===9&&h.drawImage(t,n,r,o,i,s,a,c,f)}ellipse(t,n,r,o,i,s,a,c){this._context.ellipse(t,n,r,o,i,s,a,c)}isPointInPath(t,n,r,o){return r?this._context.isPointInPath(r,t,n,o):this._context.isPointInPath(t,n,o)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,n,r,o){this._context.fillRect(t,n,r,o)}strokeRect(t,n,r,o){this._context.strokeRect(t,n,r,o)}fillText(t,n,r,o){o?this._context.fillText(t,n,r,o):this._context.fillText(t,n,r)}measureText(t){return this._context.measureText(t)}getImageData(t,n,r,o){return this._context.getImageData(t,n,r,o)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,r,o){this._context.rect(t,n,r,o)}roundRect(t,n,r,o,i){this._context.roundRect(t,n,r,o,i)}putImageData(t,n,r){this._context.putImageData(t,n,r)}quadraticCurveTo(t,n,r,o){this._context.quadraticCurveTo(t,n,r,o)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,r,o,i,s){this._context.setTransform(t,n,r,o,i,s)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,r,o){this._context.strokeText(t,n,r,o)}transform(t,n,r,o,i,s){this._context.transform(t,n,r,o,i,s)}translate(t,n){this._context.translate(t,n)}_enableTrace(){let t=this,n=v5.length,r=this.setAttr,o,i;const s=function(a){let c=t[a],f;t[a]=function(){return i=dB(Array.prototype.slice.call(arguments,0)),f=c.apply(t,arguments),t._trace({method:a,args:i}),f}};for(o=0;o<n;o++)s(v5[o]);t.setAttr=function(){r.apply(t,arguments);const a=arguments[0];let c=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(c=c/this.canvas.getPixelRatio()),t._trace({property:a,val:c})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Zs.Context=o0;wB.forEach(function(e){Object.defineProperty(o0.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class bB extends o0{constructor(t,{willReadFrequently:n=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(t){const n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),r=t.getFillPriority();if(n&&r==="color"){this._fillColor(t);return}const o=t.getFillPatternImage();if(o&&r==="pattern"){this._fillPattern(t);return}const i=t.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(t);return}const s=t.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):o?this._fillPattern(t):i?this._fillLinearGradient(t):s&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),o=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(o){for(let s=0;s<o.length;s+=2)i.addColorStop(o[s],o[s+1]);this.setAttr("strokeStyle",i)}}_stroke(t){const n=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}}_applyShadow(t){var n,r,o;const i=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=t.getShadowBlur())!==null&&r!==void 0?r:5,a=(o=t.getShadowOffset())!==null&&o!==void 0?o:{x:0,y:0},c=t.getAbsoluteScale(),f=this.canvas.getPixelRatio(),d=c.x*f,h=c.y*f;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*h)}}Zs.SceneContext=bB;class SB extends o0{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const n=t.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);const r=t.hitStrokeWidth(),o=r==="auto"?t.strokeWidth():r;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),n||this.restore()}}}Zs.HitContext=SB;Object.defineProperty(Bi,"__esModule",{value:!0});Bi.HitCanvas=Bi.SceneCanvas=Bi.Canvas=void 0;const og=zn,Dk=Zs,Ok=Dt;let Gp;function _B(){if(Gp)return Gp;const e=og.Util.createCanvasElement(),t=e.getContext("2d");return Gp=function(){const n=Ok.Konva._global.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/r}(),og.Util.releaseCanvas(e),Gp}class Zx{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(t||{}).pixelRatio||Ok.Konva.pixelRatio||_B();this.pixelRatio=r,this._canvas=og.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(o){return og.Util.error("Unable to get data URL. "+o.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Bi.Canvas=Zx;class CB extends Zx{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new Dk.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}Bi.SceneCanvas=CB;class kB extends Zx{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new Dk.HitContext(this),this.setSize(t.width,t.height)}}Bi.HitCanvas=kB;var i0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=Dt,n=zn;e.DD={get isDragging(){let r=!1;return e.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return e.DD._dragElements.forEach(o=>{r=o.node}),r},_dragElements:new Map,_drag(r){const o=[];e.DD._dragElements.forEach((i,s)=>{const{node:a}=i,c=a.getStage();c.setPointersPositions(r),i.pointerId===void 0&&(i.pointerId=n.Util._getFirstPointerId(r));const f=c._changedPointerPositions.find(d=>d.id===i.pointerId);if(f){if(i.dragStatus!=="dragging"){const d=a.dragDistance();if(Math.max(Math.abs(f.x-i.startPointerPos.x),Math.abs(f.y-i.startPointerPos.y))<d||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,i),o.push(a)}}),o.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:r},!0)})},_endDragBefore(r){const o=[];e.DD._dragElements.forEach(i=>{const{node:s}=i,a=s.getStage();if(r&&a.setPointersPositions(r),!a._changedPointerPositions.find(d=>d.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,i.dragStatus="stopped");const f=i.node.getLayer()||i.node instanceof t.Konva.Stage&&i.node;f&&o.indexOf(f)===-1&&o.push(f)}),o.forEach(i=>{i.draw()})},_endDragAfter(r){e.DD._dragElements.forEach((o,i)=>{o.dragStatus==="stopped"&&o.node.fire("dragend",{type:"dragend",target:o.node,evt:r},!0),o.dragStatus!=="dragging"&&e.DD._dragElements.delete(i)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))})(i0);var jt={},wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.RGBComponent=EB;wt.alphaComponent=PB;wt.getNumberValidator=TB;wt.getNumberOrArrayOfNumbersValidator=RB;wt.getNumberOrAutoValidator=NB;wt.getStringValidator=AB;wt.getStringOrGradientValidator=MB;wt.getFunctionValidator=IB;wt.getNumberArrayValidator=DB;wt.getBooleanValidator=OB;wt.getComponentValidator=jB;const fa=Dt,Gn=zn;function ha(e){return Gn.Util._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Gn.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}function EB(e){return e>255?255:e<0?0:Math.round(e)}function PB(e){return e>1?1:e<1e-4?1e-4:e}function TB(){if(fa.Konva.isUnminified)return function(e,t){return Gn.Util._isNumber(e)||Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function RB(e){if(fa.Konva.isUnminified)return function(t,n){let r=Gn.Util._isNumber(t),o=Gn.Util._isArray(t)&&t.length==e;return!r&&!o&&Gn.Util.warn(ha(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function NB(){if(fa.Konva.isUnminified)return function(e,t){return Gn.Util._isNumber(e)||e==="auto"||Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function AB(){if(fa.Konva.isUnminified)return function(e,t){return Gn.Util._isString(e)||Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function MB(){if(fa.Konva.isUnminified)return function(e,t){const n=Gn.Util._isString(e),r=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||r||Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function IB(){if(fa.Konva.isUnminified)return function(e,t){return Gn.Util._isFunction(e)||Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}}function DB(){if(fa.Konva.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(Gn.Util._isArray(e)?e.forEach(function(r){Gn.Util._isNumber(r)||Gn.Util.warn('"'+t+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function OB(){if(fa.Konva.isUnminified)return function(e,t){return e===!0||e===!1||Gn.Util.warn(ha(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function jB(e){if(fa.Konva.isUnminified)return function(t,n){return t==null||Gn.Util.isObject(t)||Gn.Util.warn(ha(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=zn,n=wt,r="get",o="set";e.Factory={addGetterSetter(i,s,a,c,f){e.Factory.addGetter(i,s,a),e.Factory.addSetter(i,s,c,f),e.Factory.addOverloadedGetterSetter(i,s)},addGetter(i,s,a){const c=r+t.Util._capitalize(s);i.prototype[c]=i.prototype[c]||function(){const f=this.attrs[s];return f===void 0?a:f}},addSetter(i,s,a,c){const f=o+t.Util._capitalize(s);i.prototype[f]||e.Factory.overWriteSetter(i,s,a,c)},overWriteSetter(i,s,a,c){const f=o+t.Util._capitalize(s);i.prototype[f]=function(d){return a&&d!==void 0&&d!==null&&(d=a.call(this,d,s)),this._setAttr(s,d),c&&c.call(this),this}},addComponentsGetterSetter(i,s,a,c,f){const d=a.length,h=t.Util._capitalize,p=r+h(s),g=o+h(s);i.prototype[p]=function(){const S={};for(let C=0;C<d;C++){const k=a[C];S[k]=this.getAttr(s+h(k))}return S};const w=(0,n.getComponentValidator)(a);i.prototype[g]=function(S){const C=this.attrs[s];c&&(S=c.call(this,S,s)),w&&w.call(this,S,s);for(const k in S)S.hasOwnProperty(k)&&this._setAttr(s+h(k),S[k]);return S||a.forEach(k=>{this._setAttr(s+h(k),void 0)}),this._fireChangeEvent(s,C,S),f&&f.call(this),this},e.Factory.addOverloadedGetterSetter(i,s)},addOverloadedGetterSetter(i,s){const a=t.Util._capitalize(s),c=o+a,f=r+a;i.prototype[s]=function(){return arguments.length?(this[c](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(i,s,a,c){t.Util.error("Adding deprecated "+s);const f=r+t.Util._capitalize(s),d=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[f]=function(){t.Util.error(d);const h=this.attrs[s];return h===void 0?a:h},e.Factory.addSetter(i,s,c,function(){t.Util.error(d)}),e.Factory.addOverloadedGetterSetter(i,s)},backCompat(i,s){t.Util.each(s,function(a,c){const f=i.prototype[c],d=r+t.Util._capitalize(a),h=o+t.Util._capitalize(a);function p(){f.apply(this,arguments),t.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}i.prototype[a]=p,i.prototype[d]=p,i.prototype[h]=p})},afterSetFilter(){this._filterUpToDate=!1}}})(jt);Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Node=void 0;const uu=Bi,ii=i0,Nh=jt,Fa=Dt,Bt=zn,tr=wt,gm="absoluteOpacity",Vp="allEventListeners",Bs="absoluteTransform",y5="absoluteScale",Wl="canvas",LB="Change",FB="children",zB="konva",c2="listening",BB="mouseenter",$B="mouseleave",UB="pointerenter",GB="pointerleave",VB="touchenter",HB="touchleave",w5="set",x5="Shape",vm=" ",b5="stage",za="transform",WB="Stage",u2="visible",KB=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(vm);let YB=1,Nt=class d2{constructor(t){this._id=YB++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===za||t===Bs)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){let r=this._cache.get(t);return(r===void 0||(t===za||t===Bs)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(t,r)),r}_calculate(t,n,r){if(!this._attachedDepsListeners.get(t)){const o=n.map(i=>i+"Change.konva").join(vm);this.on(o,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)}_getCanvasCache(){return this._cache.get(Wl)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Bs&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Wl)){const{scene:t,filter:n,hit:r,buffer:o}=this._cache.get(Wl);Bt.Util.releaseCanvas(t,n,r,o),this._cache.delete(Wl)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const n=t||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let o=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),s=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,c=n.y===void 0?Math.floor(r.y):n.y,f=n.offset||0,d=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!o||!i){Bt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const p=Math.abs(Math.round(r.x)-a)>.5?1:0,g=Math.abs(Math.round(r.y)-c)>.5?1:0;o+=f*2+p,i+=f*2+g,a-=f,c-=f;const w=new uu.SceneCanvas({pixelRatio:s,width:o,height:i}),S=new uu.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),C=new uu.HitCanvas({pixelRatio:h,width:o,height:i}),k=w.getContext(),P=C.getContext(),y=new uu.SceneCanvas({width:w.width/w.pixelRatio+Math.abs(a),height:w.height/w.pixelRatio+Math.abs(c),pixelRatio:w.pixelRatio}),E=y.getContext();return C.isCache=!0,w.isCache=!0,this._cache.delete(Wl),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(w.getContext()._context.imageSmoothingEnabled=!1,S.getContext()._context.imageSmoothingEnabled=!1),k.save(),P.save(),E.save(),k.translate(-a,-c),P.translate(-a,-c),E.translate(-a,-c),y.x=a,y.y=c,this._isUnderCache=!0,this._clearSelfAndDescendantCache(gm),this._clearSelfAndDescendantCache(y5),this.drawScene(w,this,y),this.drawHit(C,this),this._isUnderCache=!1,k.restore(),P.restore(),d&&(k.save(),k.beginPath(),k.rect(0,0,o,i),k.closePath(),k.setAttr("strokeStyle","red"),k.setAttr("lineWidth",5),k.stroke(),k.restore()),this._cache.set(Wl,{scene:w,filter:S,hit:C,buffer:y,x:a,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(Wl)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){const r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let o=1/0,i=1/0,s=-1/0,a=-1/0;const c=this.getAbsoluteTransform(n);return r.forEach(function(f){const d=c.point(f);o===void 0&&(o=s=d.x,i=a=d.y),o=Math.min(o,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:o,y:i,width:s-o,height:a-i}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),o=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/o,r.height/o),t.restore()}_drawCachedHitCanvas(t){const n=this._getCanvasCache(),r=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t=this.filters(),n=this._getCanvasCache(),r=n.scene,o=n.filter,i=o.getContext(),s,a,c,f;if(t){if(!this._filterUpToDate){const d=r.pixelRatio;o.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=t.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=i.getImageData(0,0,o.getWidth(),o.getHeight()),c=0;c<s;c++){if(f=t[c],typeof f!="function"){Bt.Util.error("Filter should be type of function, but got "+typeof f+" instead. Please check correct filters");continue}f.call(this,a),i.putImageData(a,0,0)}}catch(h){Bt.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return o}return r}on(t,n){if(this._cache&&this._cache.delete(Vp),arguments.length===3)return this._delegate.apply(this,arguments);const r=t.split(vm);for(let o=0;o<r.length;o++){const s=r[o].split("."),a=s[0],c=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:c,handler:n})}return this}off(t,n){let r=(t||"").split(vm),o=r.length,i,s,a,c,f,d;if(this._cache&&this._cache.delete(Vp),!t)for(s in this.eventListeners)this._off(s);for(i=0;i<o;i++)if(a=r[i],c=a.split("."),f=c[0],d=c[1],f)this.eventListeners[f]&&this._off(f,d,n);else for(s in this.eventListeners)this._off(s,d,n);return this}dispatchEvent(t){const n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(r){n.call(this,r.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,r){const o=this;this.on(t,function(i){const s=i.target.findAncestors(n,!0,o);for(let a=0;a<s.length;a++)i=Bt.Util.cloneObject(i),i.currentTarget=s[a],r.call(s[a],i)})}remove(){return this.isDragging()&&this.stopDrag(),ii.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Bs),this._clearSelfAndDescendantCache(gm),this._clearSelfAndDescendantCache(y5),this._clearSelfAndDescendantCache(b5),this._clearSelfAndDescendantCache(u2),this._clearSelfAndDescendantCache(c2)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const n="get"+Bt.Util._capitalize(t);return Bt.Util._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){let t=this.getParent(),n=[];for(;t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{let n,r;if(!t)return this;for(n in t)n!==FB&&(r=w5+Bt.Util._capitalize(n),Bt.Util._isFunction(this[r])?this[r](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(c2,this._isListening)}_isListening(t){if(!this.listening())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isListening(t):!0}isVisible(){return this._getCache(u2,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);const r=this.getLayer();let o=!1;ii.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(o=!0)});const i=!n&&!Fa.Konva.hitOnDragEnabled&&(o||Fa.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t=this.getDepth(),n=this,r=0,o,i,s,a;function c(d){for(o=[],i=d.length,s=0;s<i;s++)a=d[s],r++,a.nodeType!==x5&&(o=o.concat(a.getChildren().slice())),a._id===n._id&&(s=i);o.length>0&&o[0].getDepth()<=t&&c(o)}const f=this.getStage();return n.nodeType!==WB&&f&&c(f.getChildren()),r}getDepth(){let t=0,n=this.parent;for(;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(za),this._clearSelfAndDescendantCache(Bs)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const n=t.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(t){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!t&&(t=!0);const o=this.getAbsoluteTransform(t).getMatrix(),i=new Bt.Transform,s=this.offset();return i.m=o.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(t){const{x:n,y:r,...o}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(za);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(o),this.setPosition({x:t.x,y:t.y}),this._clearCache(za),this._clearSelfAndDescendantCache(Bs),this}_setTransform(t){let n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let n=t.x,r=t.y,o=this.x(),i=this.y();return n!==void 0&&(o+=n),r!==void 0&&(i+=r),this.setPosition({x:o,y:i}),this}_eachAncestorReverse(t,n){let r=[],o=this.getParent(),i,s;if(!(n&&n._id===this._id)){for(r.unshift(this);o&&(!n||o._id!==n._id);)r.unshift(o),o=o.parent;for(i=r.length,s=0;s<i;s++)t(r[s])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return Bt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Bt.Util.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Bt.Util.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Bt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return Bt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&Bt.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(gm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t=this.getAttrs(),n,r,o,i,s;const a={attrs:{},className:this.getClassName()};for(n in t)r=t[n],s=Bt.Util.isObject(r)&&!Bt.Util._isPlainObject(r)&&!Bt.Util._isArray(r),!s&&(o=typeof this[n]=="function"&&this[n],delete t[n],i=o?o.call(this):null,t[n]=r,i!==r&&(a.attrs[n]=r));return Bt.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,r){const o=[];n&&this._isMatch(t)&&o.push(this);let i=this.parent;for(;i;){if(i===r)return o;i._isMatch(t)&&o.push(i),i=i.parent}return o}isAncestorOf(t){return!1}findAncestor(t,n,r){return this.findAncestors(t,n,r)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);let n=t.replace(/ /g,"").split(","),r=n.length,o,i;for(o=0;o<r;o++)if(i=n[o],Bt.Util.isValidSelector(i)||(Bt.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Bt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Bt.Util.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(b5,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,n={},r){return n.target=n.target||this,r?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Bs,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let n;if(t)return n=new Bt.Transform,this._eachAncestorReverse(function(r){const o=r.transformsEnabled();o==="all"?n.multiply(r.getTransform()):o==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},t),n;{n=this._cache.get(Bs)||new Bt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const o=this.attrs.x||0,i=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(o-s,i-a)}return n.dirty=!1,n}}getAbsoluteScale(t){let n=this;for(;n;)n._isUnderCache&&(t=n),n=n.getParent();const o=this.getAbsoluteTransform(t).decompose();return{x:o.scaleX,y:o.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(za,this._getTransform)}_getTransform(){var t,n;const r=this._cache.get(za)||new Bt.Transform;r.reset();const o=this.x(),i=this.y(),s=Fa.Konva.getAngle(this.rotation()),a=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,c=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,f=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(o!==0||i!==0)&&r.translate(o,i),s!==0&&r.rotate(s),(f!==0||d!==0)&&r.skew(f,d),(a!==1||c!==1)&&r.scale(a,c),(h!==0||p!==0)&&r.translate(-1*h,-1*p),r.dirty=!1,r}clone(t){let n=Bt.Util.cloneObject(this.attrs),r,o,i,s,a;for(r in t)n[r]=t[r];const c=new this.constructor(n);for(r in this.eventListeners)for(o=this.eventListeners[r],i=o.length,s=0;s<i;s++)a=o[s],a.name.indexOf(zB)<0&&(c.eventListeners[r]||(c.eventListeners[r]=[]),c.eventListeners[r].push(a));return c}_toKonvaCanvas(t){t=t||{};const n=this.getClientRect(),r=this.getStage(),o=t.x!==void 0?t.x:Math.floor(n.x),i=t.y!==void 0?t.y:Math.floor(n.y),s=t.pixelRatio||1,a=new uu.SceneCanvas({width:t.width||Math.ceil(n.width)||(r?r.width():0),height:t.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),c=a.getContext(),f=new uu.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(o),height:a.height/a.pixelRatio+Math.abs(i),pixelRatio:a.pixelRatio});return t.imageSmoothingEnabled===!1&&(c._context.imageSmoothingEnabled=!1),c.save(),(o||i)&&c.translate(-1*o,-1*i),this.drawScene(a,void 0,f),c.restore(),a}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};const n=t.mimeType||null,r=t.quality||null,o=this._toKonvaCanvas(t).toDataURL(n,r);return t.callback&&t.callback(o),o}toImage(t){return new Promise((n,r)=>{try{const o=t==null?void 0:t.callback;o&&delete t.callback,Bt.Util._urlToImage(this.toDataURL(t),function(i){n(i),o==null||o(i)})}catch(o){r(o)}})}toBlob(t){return new Promise((n,r)=>{try{const o=t==null?void 0:t.callback;o&&delete t.callback,this.toCanvas(t).toBlob(i=>{n(i),o==null||o(i)},t==null?void 0:t.mimeType,t==null?void 0:t.quality)}catch(o){r(o)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Fa.Konva.dragDistance}_off(t,n,r){let o=this.eventListeners[t],i,s,a;for(i=0;i<o.length;i++)if(s=o[i].name,a=o[i].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===a)){if(o.splice(i,1),o.length===0){delete this.eventListeners[t];break}i--}}_fireChangeEvent(t,n,r){this._fire(t+LB,{oldVal:n,newVal:r})}addName(t){if(!this.hasName(t)){const n=this.name(),r=n?n+" "+t:t;this.name(r)}return this}hasName(t){if(!t)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(t)!==-1:!1}removeName(t){const n=(this.name()||"").split(/\s/g),r=n.indexOf(t);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(t,n){const r=this[w5+Bt.Util._capitalize(t)];return Bt.Util._isFunction(r)?r.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(Fa.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,n){const r=this.attrs[t];r===n&&!Bt.Util.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,r,n),this._requestDraw())}_setComponentAttr(t,n,r){let o;r!==void 0&&(o=this.attrs[t],o||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=r,this._fireChangeEvent(t,o,r))}_fireAndBubble(t,n,r){n&&this.nodeType===x5&&(n.target=this);const o=[BB,$B,UB,GB,VB,HB];if(!(o.indexOf(t)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(t,n);const s=o.indexOf(t)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,n,r):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){var n,r,o;const i=(n=this._cache.get(Vp))!==null&&n!==void 0?n:{};let s=i==null?void 0:i[t];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){const c=(o=(r=a.eventListeners)===null||r===void 0?void 0:r[t])!==null&&o!==void 0?o:[];s.push(...c),a=Object.getPrototypeOf(a)}i[t]=s,this._cache.set(Vp,i)}return s}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const r=this._getProtoListeners(t);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const o=this.eventListeners[t];if(o)for(let i=0;i<o.length;i++)o[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const n=t?t.pointerId:void 0,r=this.getStage(),o=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||o;ii.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-o.x,y:i.y-o.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){ii.DD._dragElements.has(this._id)||this._createDragElement(t);const r=ii.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let o={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const s=i.call(this,o,t);s?o=s:Bt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==o.x||this._lastPos.y!==o.y)&&(this.setAbsolutePosition(o),this._requestDraw()),this._lastPos=o}stopDrag(t){const n=ii.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),ii.DD._endDragBefore(t),ii.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=ii.DD._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if(!(!(t.evt.button!==void 0)||Fa.Konva.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let o=!1;ii.DD._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(o=!0)}),o||this._createDragElement(t)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=ii.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",o=n&&n.dragStatus==="ready";r?this.stopDrag():o&&ii.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return Bt.Util.haveIntersection(r,this.getClientRect())}static create(t,n){return Bt.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){let r=d2.prototype.getClassName.call(t),o=t.children,i,s,a;n&&(t.attrs.container=n),Fa.Konva[r]||(Bt.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const c=Fa.Konva[r];if(i=new c(t.attrs),o)for(s=o.length,a=0;a<s;a++)i.add(d2._createNode(o[a]));return i}};Nn.Node=Nt;Nt.prototype.nodeType="Node";Nt.prototype._attrsAffectingSize=[];Nt.prototype.eventListeners={};Nt.prototype.on.call(Nt.prototype,KB,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(za),this._clearSelfAndDescendantCache(Bs)});Nt.prototype.on.call(Nt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(u2)});Nt.prototype.on.call(Nt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(c2)});Nt.prototype.on.call(Nt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(gm)});const vn=Nh.Factory.addGetterSetter;vn(Nt,"zIndex");vn(Nt,"absolutePosition");vn(Nt,"position");vn(Nt,"x",0,(0,tr.getNumberValidator)());vn(Nt,"y",0,(0,tr.getNumberValidator)());vn(Nt,"globalCompositeOperation","source-over",(0,tr.getStringValidator)());vn(Nt,"opacity",1,(0,tr.getNumberValidator)());vn(Nt,"name","",(0,tr.getStringValidator)());vn(Nt,"id","",(0,tr.getStringValidator)());vn(Nt,"rotation",0,(0,tr.getNumberValidator)());Nh.Factory.addComponentsGetterSetter(Nt,"scale",["x","y"]);vn(Nt,"scaleX",1,(0,tr.getNumberValidator)());vn(Nt,"scaleY",1,(0,tr.getNumberValidator)());Nh.Factory.addComponentsGetterSetter(Nt,"skew",["x","y"]);vn(Nt,"skewX",0,(0,tr.getNumberValidator)());vn(Nt,"skewY",0,(0,tr.getNumberValidator)());Nh.Factory.addComponentsGetterSetter(Nt,"offset",["x","y"]);vn(Nt,"offsetX",0,(0,tr.getNumberValidator)());vn(Nt,"offsetY",0,(0,tr.getNumberValidator)());vn(Nt,"dragDistance",void 0,(0,tr.getNumberValidator)());vn(Nt,"width",0,(0,tr.getNumberValidator)());vn(Nt,"height",0,(0,tr.getNumberValidator)());vn(Nt,"listening",!0,(0,tr.getBooleanValidator)());vn(Nt,"preventDefault",!0,(0,tr.getBooleanValidator)());vn(Nt,"filters",void 0,function(e){return this._filterUpToDate=!1,e});vn(Nt,"visible",!0,(0,tr.getBooleanValidator)());vn(Nt,"transformsEnabled","all",(0,tr.getStringValidator)());vn(Nt,"size");vn(Nt,"dragBoundFunc");vn(Nt,"draggable",!1,(0,tr.getBooleanValidator)());Nh.Factory.backCompat(Nt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.Container=void 0;const xd=jt,Ay=Nn,s0=wt;class Ec extends Ay.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){const n=this.children||[];return t?n.filter(t):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(let r=0;r<t.length;r++)this.add(t[r]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){const r=[];return this._descendants(o=>{const i=o._isMatch(t);return i&&r.push(o),!!(i&&n)}),r}_descendants(t){let n=!1;const r=this.getChildren();for(const o of r){if(n=t(o),n)return!0;if(o.hasChildren()&&(n=o._descendants(t),n))return!0}return!1}toObject(){const t=Ay.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){let n=t.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){const n=Ay.Node.prototype.clone.call(this,t);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(t){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(t)&&n.push(r)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(t,n,r){const o=this.getLayer(),i=t||o&&o.getCanvas(),s=i&&i.getContext(),a=this._getCanvasCache(),c=a&&a.scene,f=i&&i.isCache;if(!this.isVisible()&&!f)return this;if(c){s.save();const d=this.getAbsoluteTransform(n).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),o=t||r&&r.hitCanvas,i=o&&o.getContext(),s=this._getCanvasCache();if(s&&s.hit){i.save();const c=this.getAbsoluteTransform(n).getMatrix();i.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",o,n);return this}_drawChildren(t,n,r,o){var i;const s=n&&n.getContext(),a=this.clipWidth(),c=this.clipHeight(),f=this.clipFunc(),d=typeof a=="number"&&typeof c=="number"||f,h=r===this;if(d){s.save();const g=this.getAbsoluteTransform(r);let w=g.getMatrix();s.transform(w[0],w[1],w[2],w[3],w[4],w[5]),s.beginPath();let S;if(f)S=f.call(this,s,this);else{const C=this.clipX(),k=this.clipY();s.rect(C||0,k||0,a,c)}s.clip.apply(s,S),w=g.copy().invert().getMatrix(),s.transform(w[0],w[1],w[2],w[3],w[4],w[5])}const p=!h&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";p&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(g){g[t](n,r,o)}),p&&s.restore(),d&&s.restore()}getClientRect(t={}){var n;const r=t.skipTransform,o=t.relativeTo;let i,s,a,c,f={x:1/0,y:1/0,width:0,height:0};const d=this;(n=this.children)===null||n===void 0||n.forEach(function(g){if(!g.visible())return;const w=g.getClientRect({relativeTo:d,skipShadow:t.skipShadow,skipStroke:t.skipStroke});w.width===0&&w.height===0||(i===void 0?(i=w.x,s=w.y,a=w.x+w.width,c=w.y+w.height):(i=Math.min(i,w.x),s=Math.min(s,w.y),a=Math.max(a,w.x+w.width),c=Math.max(c,w.y+w.height)))});const h=this.find("Shape");let p=!1;for(let g=0;g<h.length;g++)if(h[g]._isVisible(this)){p=!0;break}return p&&i!==void 0?f={x:i,y:s,width:a-i,height:c-s}:f={x:0,y:0,width:0,height:0},r?f:this._transformedRect(f,o)}}kc.Container=Ec;xd.Factory.addComponentsGetterSetter(Ec,"clip",["x","y","width","height"]);xd.Factory.addGetterSetter(Ec,"clipX",void 0,(0,s0.getNumberValidator)());xd.Factory.addGetterSetter(Ec,"clipY",void 0,(0,s0.getNumberValidator)());xd.Factory.addGetterSetter(Ec,"clipWidth",void 0,(0,s0.getNumberValidator)());xd.Factory.addGetterSetter(Ec,"clipHeight",void 0,(0,s0.getNumberValidator)());xd.Factory.addGetterSetter(Ec,"clipFunc");var jk={},wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.getCapturedShape=XB;wl.createEvent=Jx;wl.hasPointerCapture=QB;wl.setPointerCapture=ZB;wl.releaseCapture=Fk;const qB=Dt,fh=new Map,Lk=qB.Konva._global.PointerEvent!==void 0;function XB(e){return fh.get(e)}function Jx(e){return{evt:e,pointerId:e.pointerId}}function QB(e,t){return fh.get(e)===t}function ZB(e,t){Fk(e),t.getStage()&&(fh.set(e,t),Lk&&t._fire("gotpointercapture",Jx(new PointerEvent("gotpointercapture"))))}function Fk(e,t){const n=fh.get(e);if(!n)return;const r=n.getStage();r&&r.content,fh.delete(e),Lk&&n._fire("lostpointercapture",Jx(new PointerEvent("lostpointercapture")))}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=zn,n=jt,r=kc,o=Dt,i=Bi,s=i0,a=Dt,c=wl,f="Stage",d="string",h="px",p="mouseout",g="mouseleave",w="mouseover",S="mouseenter",C="mousemove",k="mousedown",P="mouseup",y="pointermove",E="pointerdown",M="pointerup",A="pointercancel",z="lostpointercapture",O="pointerout",V="pointerleave",B="pointerover",U="pointerenter",F="contextmenu",K="touchstart",ne="touchend",G="touchmove",X="touchcancel",Y="wheel",$=5,q=[[S,"_pointerenter"],[k,"_pointerdown"],[C,"_pointermove"],[P,"_pointerup"],[g,"_pointerleave"],[K,"_pointerdown"],[G,"_pointermove"],[ne,"_pointerup"],[X,"_pointercancel"],[w,"_pointerover"],[Y,"_wheel"],[F,"_contextmenu"],[E,"_pointerdown"],[y,"_pointermove"],[M,"_pointerup"],[A,"_pointercancel"],[V,"_pointerleave"],[z,"_lostpointercapture"]],J={mouse:{[O]:p,[V]:g,[B]:w,[U]:S,[y]:C,[E]:k,[M]:P,[A]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[O]:"touchout",[V]:"touchleave",[B]:"touchover",[U]:"touchenter",[y]:G,[E]:K,[M]:ne,[A]:X,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[O]:O,[V]:V,[B]:B,[U]:U,[y]:y,[E]:E,[M]:M,[A]:A,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ie=Ee=>Ee.indexOf("pointer")>=0?"pointer":Ee.indexOf("touch")>=0?"touch":"mouse",te=Ee=>{const Q=ie(Ee);if(Q==="pointer")return o.Konva.pointerEventsEnabled&&J.pointer;if(Q==="touch")return J.touch;if(Q==="mouse")return J.mouse};function de(Ee={}){return(Ee.clipFunc||Ee.clipWidth||Ee.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ee}const He="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class Te extends r.Container{constructor(Q){super(de(Q)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{de(this.attrs)}),this._checkVisibility()}_validateAdd(Q){const we=Q.getType()==="Layer",ve=Q.getType()==="FastLayer";we||ve||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Q=this.visible()?"":"none";this.content.style.display=Q}setContainer(Q){if(typeof Q===d){let we;if(Q.charAt(0)==="."){const ve=Q.slice(1);Q=document.getElementsByClassName(ve)[0]}else Q.charAt(0)!=="#"?we=Q:we=Q.slice(1),Q=document.getElementById(we);if(!Q)throw"Can not find container in document with id "+we}return this._setAttr("container",Q),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Q.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const Q=this.children,we=Q.length;for(let ve=0;ve<we;ve++)Q[ve].clear();return this}clone(Q){return Q||(Q={}),Q.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,Q)}destroy(){super.destroy();const Q=this.content;Q&&t.Util._isInDocument(Q)&&this.container().removeChild(Q);const we=e.stages.indexOf(this);return we>-1&&e.stages.splice(we,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Q=this._pointerPositions[0]||this._changedPointerPositions[0];return Q?{x:Q.x,y:Q.y}:(t.Util.warn(He),null)}_getPointerById(Q){return this._pointerPositions.find(we=>we.id===Q)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Q){Q=Q||{},Q.x=Q.x||0,Q.y=Q.y||0,Q.width=Q.width||this.width(),Q.height=Q.height||this.height();const we=new i.SceneCanvas({width:Q.width,height:Q.height,pixelRatio:Q.pixelRatio||1}),ve=we.getContext()._context,Re=this.children;return(Q.x||Q.y)&&ve.translate(-1*Q.x,-1*Q.y),Re.forEach(function(ke){if(!ke.isVisible())return;const Ae=ke._toKonvaCanvas(Q);ve.drawImage(Ae._canvas,Q.x,Q.y,Ae.getWidth()/Ae.getPixelRatio(),Ae.getHeight()/Ae.getPixelRatio())}),we}getIntersection(Q){if(!Q)return null;const we=this.children,ve=we.length,Re=ve-1;for(let ke=Re;ke>=0;ke--){const Ae=we[ke].getIntersection(Q);if(Ae)return Ae}return null}_resizeDOM(){const Q=this.width(),we=this.height();this.content&&(this.content.style.width=Q+h,this.content.style.height=we+h),this.bufferCanvas.setSize(Q,we),this.bufferHitCanvas.setSize(Q,we),this.children.forEach(ve=>{ve.setSize({width:Q,height:we}),ve.draw()})}add(Q,...we){if(arguments.length>1){for(let Re=0;Re<arguments.length;Re++)this.add(arguments[Re]);return this}super.add(Q);const ve=this.children.length;return ve>$&&t.Util.warn("The stage has "+ve+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Q.setSize({width:this.width(),height:this.height()}),Q.draw(),o.Konva.isBrowser&&this.content.appendChild(Q.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Q){return c.hasPointerCapture(Q,this)}setPointerCapture(Q){c.setPointerCapture(Q,this)}releaseCapture(Q){c.releaseCapture(Q,this)}getLayers(){return this.children}_bindContentEvents(){o.Konva.isBrowser&&q.forEach(([Q,we])=>{this.content.addEventListener(Q,ve=>{this[we](ve)},{passive:!1})})}_pointerenter(Q){this.setPointersPositions(Q);const we=te(Q.type);we&&this._fire(we.pointerenter,{evt:Q,target:this,currentTarget:this})}_pointerover(Q){this.setPointersPositions(Q);const we=te(Q.type);we&&this._fire(we.pointerover,{evt:Q,target:this,currentTarget:this})}_getTargetShape(Q){let we=this[Q+"targetShape"];return we&&!we.getStage()&&(we=null),we}_pointerleave(Q){const we=te(Q.type),ve=ie(Q.type);if(!we)return;this.setPointersPositions(Q);const Re=this._getTargetShape(ve),ke=!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled;Re&&ke?(Re._fireAndBubble(we.pointerout,{evt:Q}),Re._fireAndBubble(we.pointerleave,{evt:Q}),this._fire(we.pointerleave,{evt:Q,target:this,currentTarget:this}),this[ve+"targetShape"]=null):ke&&(this._fire(we.pointerleave,{evt:Q,target:this,currentTarget:this}),this._fire(we.pointerout,{evt:Q,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(Q){const we=te(Q.type),ve=ie(Q.type);if(!we)return;this.setPointersPositions(Q);let Re=!1;this._changedPointerPositions.forEach(ke=>{const Ae=this.getIntersection(ke);if(s.DD.justDragged=!1,o.Konva["_"+ve+"ListenClick"]=!0,!Ae||!Ae.isListening()){this[ve+"ClickStartShape"]=void 0;return}o.Konva.capturePointerEventsEnabled&&Ae.setPointerCapture(ke.id),this[ve+"ClickStartShape"]=Ae,Ae._fireAndBubble(we.pointerdown,{evt:Q,pointerId:ke.id}),Re=!0;const Me=Q.type.indexOf("touch")>=0;Ae.preventDefault()&&Q.cancelable&&Me&&Q.preventDefault()}),Re||this._fire(we.pointerdown,{evt:Q,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(Q){const we=te(Q.type),ve=ie(Q.type);if(!we||(o.Konva.isDragging()&&s.DD.node.preventDefault()&&Q.cancelable&&Q.preventDefault(),this.setPointersPositions(Q),!(!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled)))return;const ke={};let Ae=!1;const Me=this._getTargetShape(ve);this._changedPointerPositions.forEach(Ze=>{const Qe=c.getCapturedShape(Ze.id)||this.getIntersection(Ze),cn=Ze.id,je={evt:Q,pointerId:cn},qe=Me!==Qe;if(qe&&Me&&(Me._fireAndBubble(we.pointerout,{...je},Qe),Me._fireAndBubble(we.pointerleave,{...je},Qe)),Qe){if(ke[Qe._id])return;ke[Qe._id]=!0}Qe&&Qe.isListening()?(Ae=!0,qe&&(Qe._fireAndBubble(we.pointerover,{...je},Me),Qe._fireAndBubble(we.pointerenter,{...je},Me),this[ve+"targetShape"]=Qe),Qe._fireAndBubble(we.pointermove,{...je})):Me&&(this._fire(we.pointerover,{evt:Q,target:this,currentTarget:this,pointerId:cn}),this[ve+"targetShape"]=null)}),Ae||this._fire(we.pointermove,{evt:Q,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Q){const we=te(Q.type),ve=ie(Q.type);if(!we)return;this.setPointersPositions(Q);const Re=this[ve+"ClickStartShape"],ke=this[ve+"ClickEndShape"],Ae={};let Me=!1;this._changedPointerPositions.forEach(Ze=>{const Qe=c.getCapturedShape(Ze.id)||this.getIntersection(Ze);if(Qe){if(Qe.releaseCapture(Ze.id),Ae[Qe._id])return;Ae[Qe._id]=!0}const cn=Ze.id,je={evt:Q,pointerId:cn};let qe=!1;o.Konva["_"+ve+"InDblClickWindow"]?(qe=!0,clearTimeout(this[ve+"DblTimeout"])):s.DD.justDragged||(o.Konva["_"+ve+"InDblClickWindow"]=!0,clearTimeout(this[ve+"DblTimeout"])),this[ve+"DblTimeout"]=setTimeout(function(){o.Konva["_"+ve+"InDblClickWindow"]=!1},o.Konva.dblClickWindow),Qe&&Qe.isListening()?(Me=!0,this[ve+"ClickEndShape"]=Qe,Qe._fireAndBubble(we.pointerup,{...je}),o.Konva["_"+ve+"ListenClick"]&&Re&&Re===Qe&&(Qe._fireAndBubble(we.pointerclick,{...je}),qe&&ke&&ke===Qe&&Qe._fireAndBubble(we.pointerdblclick,{...je}))):(this[ve+"ClickEndShape"]=null,o.Konva["_"+ve+"ListenClick"]&&this._fire(we.pointerclick,{evt:Q,target:this,currentTarget:this,pointerId:cn}),qe&&this._fire(we.pointerdblclick,{evt:Q,target:this,currentTarget:this,pointerId:cn}))}),Me||this._fire(we.pointerup,{evt:Q,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o.Konva["_"+ve+"ListenClick"]=!1,Q.cancelable&&ve!=="touch"&&ve!=="pointer"&&Q.preventDefault()}_contextmenu(Q){this.setPointersPositions(Q);const we=this.getIntersection(this.getPointerPosition());we&&we.isListening()?we._fireAndBubble(F,{evt:Q}):this._fire(F,{evt:Q,target:this,currentTarget:this})}_wheel(Q){this.setPointersPositions(Q);const we=this.getIntersection(this.getPointerPosition());we&&we.isListening()?we._fireAndBubble(Y,{evt:Q}):this._fire(Y,{evt:Q,target:this,currentTarget:this})}_pointercancel(Q){this.setPointersPositions(Q);const we=c.getCapturedShape(Q.pointerId)||this.getIntersection(this.getPointerPosition());we&&we._fireAndBubble(M,c.createEvent(Q)),c.releaseCapture(Q.pointerId)}_lostpointercapture(Q){c.releaseCapture(Q.pointerId)}setPointersPositions(Q){const we=this._getContentPosition();let ve=null,Re=null;Q=Q||window.event,Q.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Q.touches,ke=>{this._pointerPositions.push({id:ke.identifier,x:(ke.clientX-we.left)/we.scaleX,y:(ke.clientY-we.top)/we.scaleY})}),Array.prototype.forEach.call(Q.changedTouches||Q.touches,ke=>{this._changedPointerPositions.push({id:ke.identifier,x:(ke.clientX-we.left)/we.scaleX,y:(ke.clientY-we.top)/we.scaleY})})):(ve=(Q.clientX-we.left)/we.scaleX,Re=(Q.clientY-we.top)/we.scaleY,this.pointerPos={x:ve,y:Re},this._pointerPositions=[{x:ve,y:Re,id:t.Util._getFirstPointerId(Q)}],this._changedPointerPositions=[{x:ve,y:Re,id:t.Util._getFirstPointerId(Q)}])}_setPointerPosition(Q){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Q)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const Q=this.content.getBoundingClientRect();return{top:Q.top,left:Q.left,scaleX:Q.width/this.content.clientWidth||1,scaleY:Q.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!o.Konva.isBrowser)return;const Q=this.container();if(!Q)throw"Stage has no container. A container is required.";Q.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Q.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Q){Q.batchDraw()}),this}}e.Stage=Te,Te.prototype.nodeType=f,(0,a._registerNode)(Te),n.Factory.addGetterSetter(Te,"container"),o.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(Ee=>{Ee.batchDraw()})})})(jk);var Ah={},vr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=Dt,n=zn,r=jt,o=Nn,i=wt,s=Dt,a=wl,c="hasShadow",f="shadowRGBA",d="patternImage",h="linearGradient",p="radialGradient";let g;function w(){return g||(g=n.Util.createCanvasElement().getContext("2d"),g)}e.shapes={};function S(V){const B=this.attrs.fillRule;B?V.fill(B):V.fill()}function C(V){V.stroke()}function k(V){const B=this.attrs.fillRule;B?V.fill(B):V.fill()}function P(V){V.stroke()}function y(){this._clearCache(c)}function E(){this._clearCache(f)}function M(){this._clearCache(d)}function A(){this._clearCache(h)}function z(){this._clearCache(p)}class O extends o.Node{constructor(B){super(B);let U;for(;U=n.Util.getRandomColor(),!(U&&!(U in e.shapes)););this.colorKey=U,e.shapes[U]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const U=w().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(U&&U.setTransform){const F=new n.Transform;F.translate(this.fillPatternX(),this.fillPatternY()),F.rotate(t.Konva.getAngle(this.fillPatternRotation())),F.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),F.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const K=F.getMatrix(),ne=typeof DOMMatrix>"u"?{a:K[0],b:K[1],c:K[2],d:K[3],e:K[4],f:K[5]}:new DOMMatrix(K);U.setTransform(ne)}return U}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){const B=this.fillLinearGradientColorStops();if(B){const U=w(),F=this.fillLinearGradientStartPoint(),K=this.fillLinearGradientEndPoint(),ne=U.createLinearGradient(F.x,F.y,K.x,K.y);for(let G=0;G<B.length;G+=2)ne.addColorStop(B[G],B[G+1]);return ne}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const B=this.fillRadialGradientColorStops();if(B){const U=w(),F=this.fillRadialGradientStartPoint(),K=this.fillRadialGradientEndPoint(),ne=U.createRadialGradient(F.x,F.y,this.fillRadialGradientStartRadius(),K.x,K.y,this.fillRadialGradientEndRadius());for(let G=0;G<B.length;G+=2)ne.addColorStop(B[G],B[G+1]);return ne}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const B=n.Util.colorToRGBA(this.shadowColor());if(B)return"rgba("+B.r+","+B.g+","+B.b+","+B.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const B=this.hitStrokeWidth();return B==="auto"?this.hasStroke():this.strokeEnabled()&&!!B}intersects(B){const U=this.getStage();if(!U)return!1;const F=U.bufferHitCanvas;return F.getContext().clear(),this.drawHit(F,void 0,!0),F.context.getImageData(Math.round(B.x),Math.round(B.y),1,1).data[3]>0}destroy(){return o.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(B){var U;if(!((U=this.attrs.perfectDrawEnabled)!==null&&U!==void 0?U:!0))return!1;const K=B||this.hasFill(),ne=this.hasStroke(),G=this.getAbsoluteOpacity()!==1;if(K&&ne&&G)return!0;const X=this.hasShadow(),Y=this.shadowForStrokeEnabled();return!!(K&&ne&&X&&Y)}setStrokeHitEnabled(B){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),B?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const B=this.size();return{x:this._centroid?-B.width/2:0,y:this._centroid?-B.height/2:0,width:B.width,height:B.height}}getClientRect(B={}){let U=!1,F=this.getParent();for(;F;){if(F.isCached()){U=!0;break}F=F.getParent()}const K=B.skipTransform,ne=B.relativeTo||U&&this.getStage()||void 0,G=this.getSelfRect(),Y=!B.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,$=G.width+Y,q=G.height+Y,J=!B.skipShadow&&this.hasShadow(),ie=J?this.shadowOffsetX():0,te=J?this.shadowOffsetY():0,de=$+Math.abs(ie),He=q+Math.abs(te),Te=J&&this.shadowBlur()||0,Ee=de+Te*2,Q=He+Te*2,we={width:Ee,height:Q,x:-(Y/2+Te)+Math.min(ie,0)+G.x,y:-(Y/2+Te)+Math.min(te,0)+G.y};return K?we:this._transformedRect(we,ne)}drawScene(B,U,F){const K=this.getLayer(),ne=B||K.getCanvas(),G=ne.getContext(),X=this._getCanvasCache(),Y=this.getSceneFunc(),$=this.hasShadow();let q;const J=U===this;if(!this.isVisible()&&!J)return this;if(X){G.save();const ie=this.getAbsoluteTransform(U).getMatrix();return G.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!Y)return this;if(G.save(),this._useBufferCanvas()){q=this.getStage();const ie=F||q.bufferCanvas,te=ie.getContext();te.clear(),te.save(),te._applyLineJoin(this);const de=this.getAbsoluteTransform(U).getMatrix();te.transform(de[0],de[1],de[2],de[3],de[4],de[5]),Y.call(this,te,this),te.restore();const He=ie.pixelRatio;$&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(ie._canvas,ie.x||0,ie.y||0,ie.width/He,ie.height/He)}else{if(G._applyLineJoin(this),!J){const ie=this.getAbsoluteTransform(U).getMatrix();G.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}$&&G._applyShadow(this),Y.call(this,G,this)}return G.restore(),this}drawHit(B,U,F=!1){if(!this.shouldDrawHit(U,F))return this;const K=this.getLayer(),ne=B||K.hitCanvas,G=ne&&ne.getContext(),X=this.hitFunc()||this.sceneFunc(),Y=this._getCanvasCache(),$=Y&&Y.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),$){G.save();const J=this.getAbsoluteTransform(U).getMatrix();return G.transform(J[0],J[1],J[2],J[3],J[4],J[5]),this._drawCachedHitCanvas(G),G.restore(),this}if(!X)return this;if(G.save(),G._applyLineJoin(this),!(this===U)){const J=this.getAbsoluteTransform(U).getMatrix();G.transform(J[0],J[1],J[2],J[3],J[4],J[5])}return X.call(this,G,this),G.restore(),this}drawHitFromCache(B=0){const U=this._getCanvasCache(),F=this._getCachedSceneCanvas(),K=U.hit,ne=K.getContext(),G=K.getWidth(),X=K.getHeight();ne.clear(),ne.drawImage(F._canvas,0,0,G,X);try{const Y=ne.getImageData(0,0,G,X),$=Y.data,q=$.length,J=n.Util._hexToRgb(this.colorKey);for(let ie=0;ie<q;ie+=4)$[ie+3]>B?($[ie]=J.r,$[ie+1]=J.g,$[ie+2]=J.b,$[ie+3]=255):$[ie+3]=0;ne.putImageData(Y,0,0)}catch(Y){n.Util.error("Unable to draw hit graph from cached scene canvas. "+Y.message)}return this}hasPointerCapture(B){return a.hasPointerCapture(B,this)}setPointerCapture(B){a.setPointerCapture(B,this)}releaseCapture(B){a.releaseCapture(B,this)}}e.Shape=O,O.prototype._fillFunc=S,O.prototype._strokeFunc=C,O.prototype._fillFuncHit=k,O.prototype._strokeFuncHit=P,O.prototype._centroid=!1,O.prototype.nodeType="Shape",(0,s._registerNode)(O),O.prototype.eventListeners={},O.prototype.on.call(O.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),O.prototype.on.call(O.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",E),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",M),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",A),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",z),r.Factory.addGetterSetter(O,"stroke",void 0,(0,i.getStringOrGradientValidator)()),r.Factory.addGetterSetter(O,"strokeWidth",2,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(O,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(O,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),r.Factory.addGetterSetter(O,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),r.Factory.addGetterSetter(O,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),r.Factory.addGetterSetter(O,"lineJoin"),r.Factory.addGetterSetter(O,"lineCap"),r.Factory.addGetterSetter(O,"sceneFunc"),r.Factory.addGetterSetter(O,"hitFunc"),r.Factory.addGetterSetter(O,"dash"),r.Factory.addGetterSetter(O,"dashOffset",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"shadowColor",void 0,(0,i.getStringValidator)()),r.Factory.addGetterSetter(O,"shadowBlur",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"shadowOpacity",1,(0,i.getNumberValidator)()),r.Factory.addComponentsGetterSetter(O,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(O,"shadowOffsetX",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"shadowOffsetY",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"fillPatternImage"),r.Factory.addGetterSetter(O,"fill",void 0,(0,i.getStringOrGradientValidator)()),r.Factory.addGetterSetter(O,"fillPatternX",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"fillPatternY",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(O,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(O,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(O,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(O,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(O,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(O,"fillEnabled",!0),r.Factory.addGetterSetter(O,"strokeEnabled",!0),r.Factory.addGetterSetter(O,"shadowEnabled",!0),r.Factory.addGetterSetter(O,"dashEnabled",!0),r.Factory.addGetterSetter(O,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(O,"fillPriority","color"),r.Factory.addComponentsGetterSetter(O,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(O,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),r.Factory.addComponentsGetterSetter(O,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(O,"fillPatternScaleX",1,(0,i.getNumberValidator)()),r.Factory.addGetterSetter(O,"fillPatternScaleY",1,(0,i.getNumberValidator)()),r.Factory.addComponentsGetterSetter(O,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(O,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(O,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(O,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(O,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(O,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(O,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(O,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(O,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(O,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(O,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(O,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(O,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(O,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(O,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(O,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(O,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(O,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(O,"fillPatternRotation",0),r.Factory.addGetterSetter(O,"fillRule",void 0,(0,i.getStringValidator)()),r.Factory.backCompat(O,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(vr);Object.defineProperty(Ah,"__esModule",{value:!0});Ah.Layer=void 0;const zs=zn,My=kc,du=Nn,eb=jt,S5=Bi,JB=wt,e$=vr,t$=Dt,n$="#",r$="beforeDraw",o$="draw",zk=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],i$=zk.length;let bd=class extends My.Container{constructor(t){super(t),this.canvas=new S5.SceneCanvas,this.hitCanvas=new S5.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){du.Node.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!du.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(du.Node.prototype.moveDown.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(du.Node.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return du.Node.prototype.remove.call(this),t&&t.parentNode&&zs.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&zs.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),du.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){zs.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){zs.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,zs.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let o=0;o<i$;o++){const i=zk[o],s=this._getIntersection({x:t.x+i.x*n,y:t.y+i.y*n}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,o=r[3];if(o===255){const i=zs.Util._rgbToHex(r[0],r[1],r[2]),s=e$.shapes[n$+i];return s?{shape:s}:{antialiased:!0}}else if(o>0)return{antialiased:!0};return{}}drawScene(t,n,r){const o=this.getLayer(),i=t||o&&o.getCanvas();return this._fire(r$,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),My.Container.prototype.drawScene.call(this,i,n,r),this._fire(o$,{node:this}),this}drawHit(t,n){const r=this.getLayer(),o=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),My.Container.prototype.drawHit.call(this,o,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){zs.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return zs.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return zs.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ah.Layer=bd;bd.prototype.nodeType="Layer";(0,t$._registerNode)(bd);eb.Factory.addGetterSetter(bd,"imageSmoothingEnabled",!0);eb.Factory.addGetterSetter(bd,"clearBeforeDraw",!0);eb.Factory.addGetterSetter(bd,"hitGraphEnabled",!0,(0,JB.getBooleanValidator)());var a0={};Object.defineProperty(a0,"__esModule",{value:!0});a0.FastLayer=void 0;const s$=zn,a$=Ah,l$=Dt;class tb extends a$.Layer{constructor(t){super(t),this.listening(!1),s$.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}a0.FastLayer=tb;tb.prototype.nodeType="FastLayer";(0,l$._registerNode)(tb);var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.Group=void 0;const c$=zn,u$=kc,d$=Dt;let nb=class extends u$.Container{_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&c$.Util.throw("You may only add groups and shapes to groups.")}};Sd.Group=nb;nb.prototype.nodeType="Group";(0,d$._registerNode)(nb);var _d={};Object.defineProperty(_d,"__esModule",{value:!0});_d.Animation=void 0;const Iy=Dt,_5=zn,Dy=function(){return Iy.glob.performance&&Iy.glob.performance.now?function(){return Iy.glob.performance.now()}:function(){return new Date().getTime()}}();class hs{constructor(t,n){this.id=hs.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Dy(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){let n=[];return t&&(n=Array.isArray(t)?t:[t]),this.layers=n,this}getLayers(){return this.layers}addLayer(t){const n=this.layers,r=n.length;for(let o=0;o<r;o++)if(n[o]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const n=hs.animations,r=n.length;for(let o=0;o<r;o++)if(n[o].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Dy(),hs._addAnimation(this),this}stop(){return hs._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const n=t.id,r=this.animations,o=r.length;for(let i=0;i<o;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const t={},n=this.animations;for(let r=0;r<n.length;r++){const o=n[r],i=o.layers,s=o.func;o._updateFrameObject(Dy());const a=i.length;let c;if(s?c=s.call(o,o.frame)!==!1:c=!0,!!c)for(let f=0;f<a;f++){const d=i[f];d._id!==void 0&&(t[d._id]=d)}}for(const r in t)t.hasOwnProperty(r)&&t[r].batchDraw()}static _animationLoop(){const t=hs;t.animations.length?(t._runFrames(),_5.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,_5.Util.requestAnimFrame(this._animationLoop))}}_d.Animation=hs;hs.animations=[];hs.animIdCounter=0;hs.animRunning=!1;var Bk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=zn,n=_d,r=Nn,o=Dt,i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,a=2,c=3,f=["fill","stroke","shadowColor"];let d=0;class h{constructor(w,S,C,k,P,y,E){this.prop=w,this.propFunc=S,this.begin=k,this._pos=k,this.duration=y,this._change=0,this.prevPos=0,this.yoyo=E,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=P-this.begin,this.pause()}fire(w){const S=this[w];S&&S()}setTime(w){w>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():w<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=w,this.update())}getTime(){return this._time}setPosition(w){this.prevPos=this._pos,this.propFunc(w),this._pos=w}getPosition(w){return w===void 0&&(w=this._time),this.func(w,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(w){this.pause(),this._time=w,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const w=this.getTimer()-this._startTime;this.state===a?this.setTime(w):this.state===c&&this.setTime(this.duration-w)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(w){const S=this,C=w.node,k=C._id,P=w.easing||e.Easings.Linear,y=!!w.yoyo;let E,M;typeof w.duration>"u"?E=.3:w.duration===0?E=.001:E=w.duration,this.node=C,this._id=d++;const A=C.getLayer()||(C instanceof o.Konva.Stage?C.getLayers():null);A||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){S.tween.onEnterFrame()},A),this.tween=new h(M,function(z){S._tweenFunc(z)},P,0,1,E*1e3,y),this._addListeners(),p.attrs[k]||(p.attrs[k]={}),p.attrs[k][this._id]||(p.attrs[k][this._id]={}),p.tweens[k]||(p.tweens[k]={});for(M in w)i[M]===void 0&&this._addAttr(M,w[M]);this.reset(),this.onFinish=w.onFinish,this.onReset=w.onReset,this.onUpdate=w.onUpdate}_addAttr(w,S){const C=this.node,k=C._id;let P,y,E,M,A;const z=p.tweens[k][w];z&&delete p.attrs[k][z][w];let O=C.getAttr(w);if(t.Util._isArray(S))if(P=[],y=Math.max(S.length,O.length),w==="points"&&S.length!==O.length&&(S.length>O.length?(M=O,O=t.Util._prepareArrayForTween(O,S,C.closed())):(E=S,S=t.Util._prepareArrayForTween(S,O,C.closed()))),w.indexOf("fill")===0)for(let V=0;V<y;V++)if(V%2===0)P.push(S[V]-O[V]);else{const B=t.Util.colorToRGBA(O[V]);A=t.Util.colorToRGBA(S[V]),O[V]=B,P.push({r:A.r-B.r,g:A.g-B.g,b:A.b-B.b,a:A.a-B.a})}else for(let V=0;V<y;V++)P.push(S[V]-O[V]);else f.indexOf(w)!==-1?(O=t.Util.colorToRGBA(O),A=t.Util.colorToRGBA(S),P={r:A.r-O.r,g:A.g-O.g,b:A.b-O.b,a:A.a-O.a}):P=S-O;p.attrs[k][this._id][w]={start:O,diff:P,end:S,trueEnd:E,trueStart:M},p.tweens[k][w]=this._id}_tweenFunc(w){const S=this.node,C=p.attrs[S._id][this._id];let k,P,y,E,M,A,z,O;for(k in C){if(P=C[k],y=P.start,E=P.diff,O=P.end,t.Util._isArray(y))if(M=[],z=Math.max(y.length,O.length),k.indexOf("fill")===0)for(A=0;A<z;A++)A%2===0?M.push((y[A]||0)+E[A]*w):M.push("rgba("+Math.round(y[A].r+E[A].r*w)+","+Math.round(y[A].g+E[A].g*w)+","+Math.round(y[A].b+E[A].b*w)+","+(y[A].a+E[A].a*w)+")");else for(A=0;A<z;A++)M.push((y[A]||0)+E[A]*w);else f.indexOf(k)!==-1?M="rgba("+Math.round(y.r+E.r*w)+","+Math.round(y.g+E.g*w)+","+Math.round(y.b+E.b*w)+","+(y.a+E.a*w)+")":M=y+E*w;S.setAttr(k,M)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const w=this.node,S=p.attrs[w._id][this._id];S.points&&S.points.trueEnd&&w.setAttr("points",S.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const w=this.node,S=p.attrs[w._id][this._id];S.points&&S.points.trueStart&&w.points(S.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(w){return this.tween.seek(w*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const w=this.node._id,S=this._id,C=p.tweens[w];this.pause(),this.anim&&this.anim.stop();for(const k in C)delete p.tweens[w][k];delete p.attrs[w][S],p.tweens[w]&&(Object.keys(p.tweens[w]).length===0&&delete p.tweens[w],Object.keys(p.attrs[w]).length===0&&delete p.attrs[w])}}e.Tween=p,p.attrs={},p.tweens={},r.Node.prototype.to=function(g){const w=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),w&&w()},new p(g).play()},e.Easings={BackEaseIn(g,w,S,C){return S*(g/=C)*g*((1.70158+1)*g-1.70158)+w},BackEaseOut(g,w,S,C){return S*((g=g/C-1)*g*((1.70158+1)*g+1.70158)+1)+w},BackEaseInOut(g,w,S,C){let k=1.70158;return(g/=C/2)<1?S/2*(g*g*(((k*=1.525)+1)*g-k))+w:S/2*((g-=2)*g*(((k*=1.525)+1)*g+k)+2)+w},ElasticEaseIn(g,w,S,C,k,P){let y=0;return g===0?w:(g/=C)===1?w+S:(P||(P=C*.3),!k||k<Math.abs(S)?(k=S,y=P/4):y=P/(2*Math.PI)*Math.asin(S/k),-(k*Math.pow(2,10*(g-=1))*Math.sin((g*C-y)*(2*Math.PI)/P))+w)},ElasticEaseOut(g,w,S,C,k,P){let y=0;return g===0?w:(g/=C)===1?w+S:(P||(P=C*.3),!k||k<Math.abs(S)?(k=S,y=P/4):y=P/(2*Math.PI)*Math.asin(S/k),k*Math.pow(2,-10*g)*Math.sin((g*C-y)*(2*Math.PI)/P)+S+w)},ElasticEaseInOut(g,w,S,C,k,P){let y=0;return g===0?w:(g/=C/2)===2?w+S:(P||(P=C*(.3*1.5)),!k||k<Math.abs(S)?(k=S,y=P/4):y=P/(2*Math.PI)*Math.asin(S/k),g<1?-.5*(k*Math.pow(2,10*(g-=1))*Math.sin((g*C-y)*(2*Math.PI)/P))+w:k*Math.pow(2,-10*(g-=1))*Math.sin((g*C-y)*(2*Math.PI)/P)*.5+S+w)},BounceEaseOut(g,w,S,C){return(g/=C)<1/2.75?S*(7.5625*g*g)+w:g<2/2.75?S*(7.5625*(g-=1.5/2.75)*g+.75)+w:g<2.5/2.75?S*(7.5625*(g-=2.25/2.75)*g+.9375)+w:S*(7.5625*(g-=2.625/2.75)*g+.984375)+w},BounceEaseIn(g,w,S,C){return S-e.Easings.BounceEaseOut(C-g,0,S,C)+w},BounceEaseInOut(g,w,S,C){return g<C/2?e.Easings.BounceEaseIn(g*2,0,S,C)*.5+w:e.Easings.BounceEaseOut(g*2-C,0,S,C)*.5+S*.5+w},EaseIn(g,w,S,C){return S*(g/=C)*g+w},EaseOut(g,w,S,C){return-S*(g/=C)*(g-2)+w},EaseInOut(g,w,S,C){return(g/=C/2)<1?S/2*g*g+w:-S/2*(--g*(g-2)-1)+w},StrongEaseIn(g,w,S,C){return S*(g/=C)*g*g*g*g+w},StrongEaseOut(g,w,S,C){return S*((g=g/C-1)*g*g*g*g+1)+w},StrongEaseInOut(g,w,S,C){return(g/=C/2)<1?S/2*g*g*g*g*g+w:S/2*((g-=2)*g*g*g*g+2)+w},Linear(g,w,S,C){return S*g/C+w}}})(Bk);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=Dt,n=zn,r=Nn,o=kc,i=jk,s=Ah,a=a0,c=Sd,f=i0,d=vr,h=_d,p=Bk,g=Zs,w=Bi;e.Konva=n.Util._assign(t.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:o.Container,Stage:i.Stage,stages:i.stages,Layer:s.Layer,FastLayer:a.FastLayer,Group:c.Group,DD:f.DD,Shape:d.Shape,shapes:d.shapes,Animation:h.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:w.Canvas}),e.default=e.Konva})(rg);var l0={};Object.defineProperty(l0,"__esModule",{value:!0});l0.Arc=void 0;const c0=jt,f$=vr,C5=Dt,u0=wt,h$=Dt;class pa extends f$.Shape{_sceneFunc(t){const n=C5.Konva.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,n,r),t.arc(0,0,this.innerRadius(),n,0,!r),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),o=C5.Konva.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(o,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,o),3*Math.PI/2)),c=Math.sin(Math.min(o,Math.PI/2)),f=i*(i>0?t:n),d=s*n,h=a*(a>0?t:n),p=c*(c>0?n:t);return{x:f,y:r?-1*p:h,width:d-f,height:p-h}}}l0.Arc=pa;pa.prototype._centroid=!0;pa.prototype.className="Arc";pa.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,h$._registerNode)(pa);c0.Factory.addGetterSetter(pa,"innerRadius",0,(0,u0.getNumberValidator)());c0.Factory.addGetterSetter(pa,"outerRadius",0,(0,u0.getNumberValidator)());c0.Factory.addGetterSetter(pa,"angle",0,(0,u0.getNumberValidator)());c0.Factory.addGetterSetter(pa,"clockwise",!1,(0,u0.getBooleanValidator)());var d0={},Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.Line=void 0;const f0=jt,p$=Dt,m$=vr,$k=wt;function f2(e,t,n,r,o,i,s){const a=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),c=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),f=s*a/(a+c),d=s*c/(a+c),h=n-f*(o-e),p=r-f*(i-t),g=n+d*(o-e),w=r+d*(i-t);return[h,p,g,w]}function k5(e,t){const n=e.length,r=[];for(let o=2;o<n-2;o+=2){const i=f2(e[o-2],e[o-1],e[o],e[o+1],e[o+2],e[o+3],t);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(e[o]),r.push(e[o+1]),r.push(i[2]),r.push(i[3]))}return r}let xl=class extends m$.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){const n=this.points(),r=n.length,o=this.tension(),i=this.closed(),s=this.bezier();if(!r)return;let a=0;if(t.beginPath(),t.moveTo(n[0],n[1]),o!==0&&r>4){const c=this.getTensionPoints(),f=c.length;for(a=i?0:4,i||t.quadraticCurveTo(c[0],c[1],c[2],c[3]);a<f-2;)t.bezierCurveTo(c[a++],c[a++],c[a++],c[a++],c[a++],c[a++]);i||t.quadraticCurveTo(c[f-2],c[f-1],n[r-2],n[r-1])}else if(s)for(a=2;a<r;)t.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)t.lineTo(n[a],n[a+1]);i?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():k5(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),n=t.length,r=this.tension(),o=f2(t[n-2],t[n-1],t[0],t[1],t[2],t[3],r),i=f2(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],r),s=k5(t,r);return[o[2],o[3]].concat(s).concat([i[0],i[1],t[n-2],t[n-1],i[2],i[3],o[0],o[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();let n=t[0],r=t[0],o=t[1],i=t[1],s,a;for(let c=0;c<t.length/2;c++)s=t[c*2],a=t[c*2+1],n=Math.min(n,s),r=Math.max(r,s),o=Math.min(o,a),i=Math.max(i,a);return{x:n,y:o,width:r-n,height:i-o}}};Mh.Line=xl;xl.prototype.className="Line";xl.prototype._attrsAffectingSize=["points","bezier","tension"];(0,p$._registerNode)(xl);f0.Factory.addGetterSetter(xl,"closed",!1);f0.Factory.addGetterSetter(xl,"bezier",!1);f0.Factory.addGetterSetter(xl,"tension",0,(0,$k.getNumberValidator)());f0.Factory.addGetterSetter(xl,"points",[],(0,$k.getNumberArrayValidator)());var Cd={},Uk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(s,a,c)=>{let f,d;const p=c/2;f=0;for(let g=0;g<20;g++)d=p*e.tValues[20][g]+p,f+=e.cValues[20][g]*r(s,a,d);return p*f};e.getCubicArcLength=t;const n=(s,a,c)=>{c===void 0&&(c=1);const f=s[0]-2*s[1]+s[2],d=a[0]-2*a[1]+a[2],h=2*s[1]-2*s[0],p=2*a[1]-2*a[0],g=4*(f*f+d*d),w=4*(f*h+d*p),S=h*h+p*p;if(g===0)return c*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(a[2]-a[0],2));const C=w/(2*g),k=S/g,P=c+C,y=k-C*C,E=P*P+y>0?Math.sqrt(P*P+y):0,M=C*C+y>0?Math.sqrt(C*C+y):0,A=C+Math.sqrt(C*C+y)!==0?y*Math.log(Math.abs((P+E)/(C+M))):0;return Math.sqrt(g)/2*(P*E-C*M+A)};e.getQuadraticArcLength=n;function r(s,a,c){const f=o(1,c,s),d=o(1,c,a),h=f*f+d*d;return Math.sqrt(h)}const o=(s,a,c)=>{const f=c.length-1;let d,h;if(f===0)return 0;if(s===0){h=0;for(let p=0;p<=f;p++)h+=e.binomialCoefficients[f][p]*Math.pow(1-a,f-p)*Math.pow(a,p)*c[p];return h}else{d=new Array(f);for(let p=0;p<f;p++)d[p]=f*(c[p+1]-c[p]);return o(s-1,a,d)}},i=(s,a,c)=>{let f=1,d=s/a,h=(s-c(d))/a,p=0;for(;f>.001;){const g=c(d+h),w=Math.abs(s-g)/a;if(w<f)f=w,d+=h;else{const S=c(d-h),C=Math.abs(s-S)/a;C<f?(f=C,d-=h):h/=2}if(p++,p>500)break}return d};e.t2length=i})(Uk);Object.defineProperty(Cd,"__esModule",{value:!0});Cd.Path=void 0;const g$=jt,v$=Dt,y$=vr,fu=Uk;let Ih=class Eo extends y$.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Eo.parsePathData(this.data()),this.pathLength=Eo.getPathLength(this.dataArray)}_sceneFunc(t){const n=this.dataArray;t.beginPath();let r=!1;for(let o=0;o<n.length;o++){const i=n[o].command,s=n[o].points;switch(i){case"L":t.lineTo(s[0],s[1]);break;case"M":t.moveTo(s[0],s[1]);break;case"C":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":t.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":const a=s[0],c=s[1],f=s[2],d=s[3],h=s[4],p=s[5],g=s[6],w=s[7],S=f>d?f:d,C=f>d?1:f/d,k=f>d?d/f:1;t.translate(a,c),t.rotate(g),t.scale(C,k),t.arc(0,0,S,h,h+p,1-w),t.scale(1/C,1/k),t.rotate(-g),t.translate(-a,-c);break;case"z":r=!0,t.closePath();break}}!r&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){let t=[];this.dataArray.forEach(function(c){if(c.command==="A"){const f=c.points[4],d=c.points[5],h=c.points[4]+d;let p=Math.PI/180;if(Math.abs(f-h)<p&&(p=Math.abs(f-h)),d<0)for(let g=f-p;g>h;g-=p){const w=Eo.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);t.push(w.x,w.y)}else for(let g=f+p;g<h;g+=p){const w=Eo.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],g,0);t.push(w.x,w.y)}}else if(c.command==="C")for(let f=0;f<=1;f+=.01){const d=Eo.getPointOnCubicBezier(f,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);t.push(d.x,d.y)}else t=t.concat(c.points)});let n=t[0],r=t[0],o=t[1],i=t[1],s,a;for(let c=0;c<t.length/2;c++)s=t[c*2],a=t[c*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(a)||(o=Math.min(o,a),i=Math.max(i,a));return{x:n,y:o,width:r-n,height:i-o}}getLength(){return this.pathLength}getPointAtLength(t){return Eo.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,n,r,o){return Math.sqrt((r-t)*(r-t)+(o-n)*(o-n))}static getPathLength(t){let n=0;for(let r=0;r<t.length;++r)n+=t[r].pathLength;return n}static getPointAtLengthOfDataArray(t,n){let r,o=0,i=n.length;if(!i)return null;for(;o<i&&t>n[o].pathLength;)t-=n[o].pathLength,++o;if(o===i)return r=n[o-1].points.slice(-2),{x:r[0],y:r[1]};if(t<.01)return n[o].command==="M"?(r=n[o].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[o].start.x,y:n[o].start.y};const s=n[o],a=s.points;switch(s.command){case"L":return Eo.getPointOnLine(t,s.start.x,s.start.y,a[0],a[1]);case"C":return Eo.getPointOnCubicBezier((0,fu.t2length)(t,Eo.getPathLength(n),S=>(0,fu.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],S)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Eo.getPointOnQuadraticBezier((0,fu.t2length)(t,Eo.getPathLength(n),S=>(0,fu.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],S)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":const c=a[0],f=a[1],d=a[2],h=a[3],p=a[5],g=a[6];let w=a[4];return w+=p*t/s.pathLength,Eo.getPointOnEllipticalArc(c,f,d,h,w,g)}return null}static getPointOnLine(t,n,r,o,i,s,a){s=s??n,a=a??r;const c=this.getLineLength(n,r,o,i);if(c<1e-10)return{x:n,y:r};if(o===n)return{x:s,y:a+(i>r?t:-t)};const f=(i-r)/(o-n),d=Math.sqrt(t*t/(1+f*f))*(o<n?-1:1),h=f*d;if(Math.abs(a-r-f*(s-n))<1e-10)return{x:s+d,y:a+h};const p=((s-n)*(o-n)+(a-r)*(i-r))/(c*c),g=n+p*(o-n),w=r+p*(i-r),S=this.getLineLength(s,a,g,w),C=Math.sqrt(t*t-S*S),k=Math.sqrt(C*C/(1+f*f))*(o<n?-1:1),P=f*k;return{x:g+k,y:w+P}}static getPointOnCubicBezier(t,n,r,o,i,s,a,c,f){function d(C){return C*C*C}function h(C){return 3*C*C*(1-C)}function p(C){return 3*C*(1-C)*(1-C)}function g(C){return(1-C)*(1-C)*(1-C)}const w=c*d(t)+s*h(t)+o*p(t)+n*g(t),S=f*d(t)+a*h(t)+i*p(t)+r*g(t);return{x:w,y:S}}static getPointOnQuadraticBezier(t,n,r,o,i,s,a){function c(g){return g*g}function f(g){return 2*g*(1-g)}function d(g){return(1-g)*(1-g)}const h=s*c(t)+o*f(t)+n*d(t),p=a*c(t)+i*f(t)+r*d(t);return{x:h,y:p}}static getPointOnEllipticalArc(t,n,r,o,i,s){const a=Math.cos(s),c=Math.sin(s),f={x:r*Math.cos(i),y:o*Math.sin(i)};return{x:t+(f.x*a-f.y*c),y:n+(f.x*c+f.y*a)}}static parsePathData(t){if(!t)return[];let n=t;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)n=n.replace(new RegExp(r[h],"g"),"|"+r[h]);const o=n.split("|"),i=[],s=[];let a=0,c=0;const f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let h=1;h<o.length;h++){let p=o[h],g=p.charAt(0);for(p=p.slice(1),s.length=0;d=f.exec(p);)s.push(d[0]);const w=[];for(let S=0,C=s.length;S<C;S++){if(s[S]==="00"){w.push(0,0);continue}const k=parseFloat(s[S]);isNaN(k)?w.push(0):w.push(k)}for(;w.length>0&&!isNaN(w[0]);){let S="",C=[];const k=a,P=c;let y,E,M,A,z,O,V,B,U,F;switch(g){case"l":a+=w.shift(),c+=w.shift(),S="L",C.push(a,c);break;case"L":a=w.shift(),c=w.shift(),C.push(a,c);break;case"m":const K=w.shift(),ne=w.shift();if(a+=K,c+=ne,S="M",i.length>2&&i[i.length-1].command==="z"){for(let G=i.length-2;G>=0;G--)if(i[G].command==="M"){a=i[G].points[0]+K,c=i[G].points[1]+ne;break}}C.push(a,c),g="l";break;case"M":a=w.shift(),c=w.shift(),S="M",C.push(a,c),g="L";break;case"h":a+=w.shift(),S="L",C.push(a,c);break;case"H":a=w.shift(),S="L",C.push(a,c);break;case"v":c+=w.shift(),S="L",C.push(a,c);break;case"V":c=w.shift(),S="L",C.push(a,c);break;case"C":C.push(w.shift(),w.shift(),w.shift(),w.shift()),a=w.shift(),c=w.shift(),C.push(a,c);break;case"c":C.push(a+w.shift(),c+w.shift(),a+w.shift(),c+w.shift()),a+=w.shift(),c+=w.shift(),S="C",C.push(a,c);break;case"S":E=a,M=c,y=i[i.length-1],y.command==="C"&&(E=a+(a-y.points[2]),M=c+(c-y.points[3])),C.push(E,M,w.shift(),w.shift()),a=w.shift(),c=w.shift(),S="C",C.push(a,c);break;case"s":E=a,M=c,y=i[i.length-1],y.command==="C"&&(E=a+(a-y.points[2]),M=c+(c-y.points[3])),C.push(E,M,a+w.shift(),c+w.shift()),a+=w.shift(),c+=w.shift(),S="C",C.push(a,c);break;case"Q":C.push(w.shift(),w.shift()),a=w.shift(),c=w.shift(),C.push(a,c);break;case"q":C.push(a+w.shift(),c+w.shift()),a+=w.shift(),c+=w.shift(),S="Q",C.push(a,c);break;case"T":E=a,M=c,y=i[i.length-1],y.command==="Q"&&(E=a+(a-y.points[0]),M=c+(c-y.points[1])),a=w.shift(),c=w.shift(),S="Q",C.push(E,M,a,c);break;case"t":E=a,M=c,y=i[i.length-1],y.command==="Q"&&(E=a+(a-y.points[0]),M=c+(c-y.points[1])),a+=w.shift(),c+=w.shift(),S="Q",C.push(E,M,a,c);break;case"A":A=w.shift(),z=w.shift(),O=w.shift(),V=w.shift(),B=w.shift(),U=a,F=c,a=w.shift(),c=w.shift(),S="A",C=this.convertEndpointToCenterParameterization(U,F,a,c,V,B,A,z,O);break;case"a":A=w.shift(),z=w.shift(),O=w.shift(),V=w.shift(),B=w.shift(),U=a,F=c,a+=w.shift(),c+=w.shift(),S="A",C=this.convertEndpointToCenterParameterization(U,F,a,c,V,B,A,z,O);break}i.push({command:S||g,points:C,start:{x:k,y:P},pathLength:this.calcLength(k,P,S||g,C)})}(g==="z"||g==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(t,n,r,o){let i,s,a,c;const f=Eo;switch(r){case"L":return f.getLineLength(t,n,o[0],o[1]);case"C":return(0,fu.getCubicArcLength)([t,o[0],o[2],o[4]],[n,o[1],o[3],o[5]],1);case"Q":return(0,fu.getQuadraticArcLength)([t,o[0],o[2]],[n,o[1],o[3]],1);case"A":i=0;const d=o[4],h=o[5],p=o[4]+h;let g=Math.PI/180;if(Math.abs(d-p)<g&&(g=Math.abs(d-p)),s=f.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],d,0),h<0)for(c=d-g;c>p;c-=g)a=f.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),i+=f.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(c=d+g;c<p;c+=g)a=f.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),i+=f.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=f.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],p,0),i+=f.getLineLength(s.x,s.y,a.x,a.y),i}return 0}static convertEndpointToCenterParameterization(t,n,r,o,i,s,a,c,f){const d=f*(Math.PI/180),h=Math.cos(d)*(t-r)/2+Math.sin(d)*(n-o)/2,p=-1*Math.sin(d)*(t-r)/2+Math.cos(d)*(n-o)/2,g=h*h/(a*a)+p*p/(c*c);g>1&&(a*=Math.sqrt(g),c*=Math.sqrt(g));let w=Math.sqrt((a*a*(c*c)-a*a*(p*p)-c*c*(h*h))/(a*a*(p*p)+c*c*(h*h)));i===s&&(w*=-1),isNaN(w)&&(w=0);const S=w*a*p/c,C=w*-c*h/a,k=(t+r)/2+Math.cos(d)*S-Math.sin(d)*C,P=(n+o)/2+Math.sin(d)*S+Math.cos(d)*C,y=function(B){return Math.sqrt(B[0]*B[0]+B[1]*B[1])},E=function(B,U){return(B[0]*U[0]+B[1]*U[1])/(y(B)*y(U))},M=function(B,U){return(B[0]*U[1]<B[1]*U[0]?-1:1)*Math.acos(E(B,U))},A=M([1,0],[(h-S)/a,(p-C)/c]),z=[(h-S)/a,(p-C)/c],O=[(-1*h-S)/a,(-1*p-C)/c];let V=M(z,O);return E(z,O)<=-1&&(V=Math.PI),E(z,O)>=1&&(V=0),s===0&&V>0&&(V=V-2*Math.PI),s===1&&V<0&&(V=V+2*Math.PI),[k,P,a,c,A,V,d,s]}};Cd.Path=Ih;Ih.prototype.className="Path";Ih.prototype._attrsAffectingSize=["data"];(0,v$._registerNode)(Ih);g$.Factory.addGetterSetter(Ih,"data");Object.defineProperty(d0,"__esModule",{value:!0});d0.Arrow=void 0;const h0=jt,w$=Mh,Gk=wt,x$=Dt,E5=Cd;let Pc=class extends w$.Line{_sceneFunc(t){super._sceneFunc(t);const n=Math.PI*2,r=this.points();let o=r;const i=this.tension()!==0&&r.length>4;i&&(o=this.getTensionPoints());const s=this.pointerLength(),a=r.length;let c,f;if(i){const p=[o[o.length-4],o[o.length-3],o[o.length-2],o[o.length-1],r[a-2],r[a-1]],g=E5.Path.calcLength(o[o.length-4],o[o.length-3],"C",p),w=E5.Path.getPointOnQuadraticBezier(Math.min(1,1-s/g),p[0],p[1],p[2],p[3],p[4],p[5]);c=r[a-2]-w.x,f=r[a-1]-w.y}else c=r[a-2]-r[a-4],f=r[a-1]-r[a-3];const d=(Math.atan2(f,c)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(r[a-2],r[a-1]),t.rotate(d),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(r[0],r[1]),i?(c=(o[0]+o[2])/2-r[0],f=(o[1]+o[3])/2-r[1]):(c=r[2]-r[0],f=r[3]-r[1]),t.rotate((Math.atan2(-f,-c)+n)%n),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),n=this.pointerWidth()/2;return{x:t.x,y:t.y-n,width:t.width,height:t.height+n*2}}};d0.Arrow=Pc;Pc.prototype.className="Arrow";(0,x$._registerNode)(Pc);h0.Factory.addGetterSetter(Pc,"pointerLength",10,(0,Gk.getNumberValidator)());h0.Factory.addGetterSetter(Pc,"pointerWidth",10,(0,Gk.getNumberValidator)());h0.Factory.addGetterSetter(Pc,"pointerAtBeginning",!1);h0.Factory.addGetterSetter(Pc,"pointerAtEnding",!0);var p0={};Object.defineProperty(p0,"__esModule",{value:!0});p0.Circle=void 0;const b$=jt,S$=vr,_$=wt,C$=Dt;let kd=class extends S$.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}};p0.Circle=kd;kd.prototype._centroid=!0;kd.prototype.className="Circle";kd.prototype._attrsAffectingSize=["radius"];(0,C$._registerNode)(kd);b$.Factory.addGetterSetter(kd,"radius",0,(0,_$.getNumberValidator)());var m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.Ellipse=void 0;const rb=jt,k$=vr,Vk=wt,E$=Dt;let bl=class extends k$.Shape{_sceneFunc(t){const n=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),n!==r&&t.scale(1,r/n),t.arc(0,0,n,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}};m0.Ellipse=bl;bl.prototype.className="Ellipse";bl.prototype._centroid=!0;bl.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,E$._registerNode)(bl);rb.Factory.addComponentsGetterSetter(bl,"radius",["x","y"]);rb.Factory.addGetterSetter(bl,"radiusX",0,(0,Vk.getNumberValidator)());rb.Factory.addGetterSetter(bl,"radiusY",0,(0,Vk.getNumberValidator)());var g0={};Object.defineProperty(g0,"__esModule",{value:!0});g0.Image=void 0;const Oy=zn,Tc=jt,P$=vr,T$=Dt,Dh=wt;let Ss=class Hk extends P$.Shape{constructor(t){super(t),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",this._loadListener)}_removeImageLoad(t){t&&t.removeEventListener&&t.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const t=!!this.cornerRadius(),n=this.hasShadow();return t&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(t){const n=this.getWidth(),r=this.getHeight(),o=this.cornerRadius(),i=this.attrs.image;let s;if(i){const a=this.attrs.cropWidth,c=this.attrs.cropHeight;a&&c?s=[i,this.cropX(),this.cropY(),a,c,0,0,n,r]:s=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||o)&&(t.beginPath(),o?Oy.Util.drawRoundedRectPath(t,n,r,o):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)),i&&(o&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){const n=this.width(),r=this.height(),o=this.cornerRadius();t.beginPath(),o?Oy.Util.drawRoundedRectPath(t,n,r,o):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,n;return(t=this.attrs.width)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var t,n;return(t=this.attrs.height)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(t,n,r=null){const o=Oy.Util.createImageElement();o.onload=function(){const i=new Hk({image:o});n(i)},o.onerror=r,o.crossOrigin="Anonymous",o.src=t}};g0.Image=Ss;Ss.prototype.className="Image";(0,T$._registerNode)(Ss);Tc.Factory.addGetterSetter(Ss,"cornerRadius",0,(0,Dh.getNumberOrArrayOfNumbersValidator)(4));Tc.Factory.addGetterSetter(Ss,"image");Tc.Factory.addComponentsGetterSetter(Ss,"crop",["x","y","width","height"]);Tc.Factory.addGetterSetter(Ss,"cropX",0,(0,Dh.getNumberValidator)());Tc.Factory.addGetterSetter(Ss,"cropY",0,(0,Dh.getNumberValidator)());Tc.Factory.addGetterSetter(Ss,"cropWidth",0,(0,Dh.getNumberValidator)());Tc.Factory.addGetterSetter(Ss,"cropHeight",0,(0,Dh.getNumberValidator)());var td={};Object.defineProperty(td,"__esModule",{value:!0});td.Tag=td.Label=void 0;const v0=jt,R$=vr,N$=Sd,ob=wt,Wk=Dt,Kk=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],A$="Change.konva",M$="none",h2="up",p2="right",m2="down",g2="left",I$=Kk.length;class ib extends N$.Group{constructor(t){super(t),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let n=this,r;const o=function(){n._sync()};for(r=0;r<I$;r++)t.on(Kk[r]+A$,o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t=this.getText(),n=this.getTag(),r,o,i,s,a,c,f;if(t&&n){switch(r=t.width(),o=t.height(),i=n.pointerDirection(),s=n.pointerWidth(),f=n.pointerHeight(),a=0,c=0,i){case h2:a=r/2,c=-1*f;break;case p2:a=r+s,c=o/2;break;case m2:a=r/2,c=o+f;break;case g2:a=-1*s,c=o/2;break}n.setAttrs({x:-1*a,y:-1*c,width:r,height:o}),t.setAttrs({x:-1*a,y:-1*c})}}}td.Label=ib;ib.prototype.className="Label";(0,Wk._registerNode)(ib);class Rc extends R$.Shape{_sceneFunc(t){const n=this.width(),r=this.height(),o=this.pointerDirection(),i=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius();let c=0,f=0,d=0,h=0;typeof a=="number"?c=f=d=h=Math.min(a,n/2,r/2):(c=Math.min(a[0]||0,n/2,r/2),f=Math.min(a[1]||0,n/2,r/2),h=Math.min(a[2]||0,n/2,r/2),d=Math.min(a[3]||0,n/2,r/2)),t.beginPath(),t.moveTo(c,0),o===h2&&(t.lineTo((n-i)/2,0),t.lineTo(n/2,-1*s),t.lineTo((n+i)/2,0)),t.lineTo(n-f,0),t.arc(n-f,f,f,Math.PI*3/2,0,!1),o===p2&&(t.lineTo(n,(r-s)/2),t.lineTo(n+i,r/2),t.lineTo(n,(r+s)/2)),t.lineTo(n,r-h),t.arc(n-h,r-h,h,0,Math.PI/2,!1),o===m2&&(t.lineTo((n+i)/2,r),t.lineTo(n/2,r+s),t.lineTo((n-i)/2,r)),t.lineTo(d,r),t.arc(d,r-d,d,Math.PI/2,Math.PI,!1),o===g2&&(t.lineTo(0,(r+s)/2),t.lineTo(-1*i,r/2),t.lineTo(0,(r-s)/2)),t.lineTo(0,c),t.arc(c,c,c,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,n=0,r=this.pointerWidth(),o=this.pointerHeight(),i=this.pointerDirection(),s=this.width(),a=this.height();return i===h2?(n-=o,a+=o):i===m2?a+=o:i===g2?(t-=r*1.5,s+=r):i===p2&&(s+=r*1.5),{x:t,y:n,width:s,height:a}}}td.Tag=Rc;Rc.prototype.className="Tag";(0,Wk._registerNode)(Rc);v0.Factory.addGetterSetter(Rc,"pointerDirection",M$);v0.Factory.addGetterSetter(Rc,"pointerWidth",0,(0,ob.getNumberValidator)());v0.Factory.addGetterSetter(Rc,"pointerHeight",0,(0,ob.getNumberValidator)());v0.Factory.addGetterSetter(Rc,"cornerRadius",0,(0,ob.getNumberOrArrayOfNumbersValidator)(4));var Oh={};Object.defineProperty(Oh,"__esModule",{value:!0});Oh.Rect=void 0;const D$=jt,O$=vr,j$=Dt,L$=zn,F$=wt;let y0=class extends O$.Shape{_sceneFunc(t){const n=this.cornerRadius(),r=this.width(),o=this.height();t.beginPath(),n?L$.Util.drawRoundedRectPath(t,r,o,n):t.rect(0,0,r,o),t.closePath(),t.fillStrokeShape(this)}};Oh.Rect=y0;y0.prototype.className="Rect";(0,j$._registerNode)(y0);D$.Factory.addGetterSetter(y0,"cornerRadius",0,(0,F$.getNumberOrArrayOfNumbersValidator)(4));var w0={};Object.defineProperty(w0,"__esModule",{value:!0});w0.RegularPolygon=void 0;const Yk=jt,z$=vr,qk=wt,B$=Dt;class Nc extends z$.Shape{_sceneFunc(t){const n=this._getPoints();t.beginPath(),t.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let o=0;o<t;o++)r.push({x:n*Math.sin(o*2*Math.PI/t),y:-1*n*Math.cos(o*2*Math.PI/t)});return r}getSelfRect(){const t=this._getPoints();let n=t[0].x,r=t[0].y,o=t[0].x,i=t[0].y;return t.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),o=Math.min(o,s.y),i=Math.max(i,s.y)}),{x:n,y:o,width:r-n,height:i-o}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}w0.RegularPolygon=Nc;Nc.prototype.className="RegularPolygon";Nc.prototype._centroid=!0;Nc.prototype._attrsAffectingSize=["radius"];(0,B$._registerNode)(Nc);Yk.Factory.addGetterSetter(Nc,"radius",0,(0,qk.getNumberValidator)());Yk.Factory.addGetterSetter(Nc,"sides",0,(0,qk.getNumberValidator)());var x0={};Object.defineProperty(x0,"__esModule",{value:!0});x0.Ring=void 0;const Xk=jt,$$=vr,Qk=wt,U$=Dt,P5=Math.PI*2;class Ac extends $$.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,P5,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),P5,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}x0.Ring=Ac;Ac.prototype.className="Ring";Ac.prototype._centroid=!0;Ac.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,U$._registerNode)(Ac);Xk.Factory.addGetterSetter(Ac,"innerRadius",0,(0,Qk.getNumberValidator)());Xk.Factory.addGetterSetter(Ac,"outerRadius",0,(0,Qk.getNumberValidator)());var b0={};Object.defineProperty(b0,"__esModule",{value:!0});b0.Sprite=void 0;const Mc=jt,G$=vr,V$=_d,Zk=wt,H$=Dt;class _s extends G$.Shape{constructor(t){super(t),this._updated=!0,this.anim=new V$.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){const n=this.animation(),r=this.frameIndex(),o=r*4,i=this.animations()[n],s=this.frameOffsets(),a=i[o+0],c=i[o+1],f=i[o+2],d=i[o+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,f,d),t.closePath(),t.fillStrokeShape(this)),h)if(s){const p=s[n],g=r*2;t.drawImage(h,a,c,f,d,p[g+0],p[g+1],f,d)}else t.drawImage(h,a,c,f,d,0,0,f,d)}_hitFunc(t){const n=this.animation(),r=this.frameIndex(),o=r*4,i=this.animations()[n],s=this.frameOffsets(),a=i[o+2],c=i[o+3];if(t.beginPath(),s){const f=s[n],d=r*2;t.rect(f[d+0],f[d+1],a,c)}else t.rect(0,0,a,c);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),n=this.animation(),r=this.animations(),o=r[n],i=o.length/4;t<i-1?this.frameIndex(t+1):this.frameIndex(0)}}b0.Sprite=_s;_s.prototype.className="Sprite";(0,H$._registerNode)(_s);Mc.Factory.addGetterSetter(_s,"animation");Mc.Factory.addGetterSetter(_s,"animations");Mc.Factory.addGetterSetter(_s,"frameOffsets");Mc.Factory.addGetterSetter(_s,"image");Mc.Factory.addGetterSetter(_s,"frameIndex",0,(0,Zk.getNumberValidator)());Mc.Factory.addGetterSetter(_s,"frameRate",17,(0,Zk.getNumberValidator)());Mc.Factory.backCompat(_s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.Star=void 0;const sb=jt,W$=vr,ab=wt,K$=Dt;class Sl extends W$.Shape{_sceneFunc(t){const n=this.innerRadius(),r=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(let i=1;i<o*2;i++){const s=i%2===0?r:n,a=s*Math.sin(i*Math.PI/o),c=-1*s*Math.cos(i*Math.PI/o);t.lineTo(a,c)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}S0.Star=Sl;Sl.prototype.className="Star";Sl.prototype._centroid=!0;Sl.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,K$._registerNode)(Sl);sb.Factory.addGetterSetter(Sl,"numPoints",5,(0,ab.getNumberValidator)());sb.Factory.addGetterSetter(Sl,"innerRadius",0,(0,ab.getNumberValidator)());sb.Factory.addGetterSetter(Sl,"outerRadius",0,(0,ab.getNumberValidator)());var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.Text=void 0;Ed.stringToArray=Zl;const v2=zn,Qr=jt,Y$=vr,jy=Dt,_l=wt,q$=Dt;function Zl(e){return[...e].reduce((t,n,r,o)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=o[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(t.push(n+i),o[r+1]=""):t.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(o[r+1]||""))?t.push(n+o[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?t[t.length-1]+=n:n&&t.push(n);return t},[])}const hu="auto",X$="center",Jk="inherit",df="justify",Q$="Change.konva",Z$="2d",T5="-",e7="left",J$="text",eU="Text",tU="top",nU="bottom",R5="middle",t7="normal",rU="px ",Hp=" ",oU="right",N5="rtl",iU="word",sU="char",A5="none",Ly="",n7=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],aU=n7.length;function lU(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!r&&(t=`"${t}"`),t}).join(", ")}let Wp;function Fy(){return Wp||(Wp=v2.Util.createCanvasElement().getContext(Z$),Wp)}function cU(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function uU(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function dU(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}let Wn=class extends Y$.Shape{constructor(t){super(dU(t)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<aU;n++)this.on(n7[n]+Q$,this._setTextData);this._setTextData()}_sceneFunc(t){const n=this.textArr,r=n.length;if(!this.text())return;let o=this.padding(),i=this.fontSize(),s=this.lineHeight()*i,a=this.verticalAlign(),c=this.direction(),f=0,d=this.align(),h=this.getWidth(),p=this.letterSpacing(),g=this.fill(),w=this.textDecoration(),S=w.indexOf("underline")!==-1,C=w.indexOf("line-through")!==-1,k;c=c===Jk?t.direction:c;let P=s/2,y=R5;if(jy.Konva._fixTextRendering){const E=this.measureSize("M");y="alphabetic",P=(E.fontBoundingBoxAscent-E.fontBoundingBoxDescent)/2+s/2}for(c===N5&&t.setAttr("direction",c),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",y),t.setAttr("textAlign",e7),a===R5?f=(this.getHeight()-r*s-o*2)/2:a===nU&&(f=this.getHeight()-r*s-o*2),t.translate(o,f+o),k=0;k<r;k++){let E=0,M=0;const A=n[k],z=A.text,O=A.width,V=A.lastInParagraph;if(t.save(),d===oU?E+=h-O-o*2:d===X$&&(E+=(h-O-o*2)/2),S){t.save(),t.beginPath();const B=jy.Konva._fixTextRendering?Math.round(i/4):Math.round(i/2),U=E,F=P+M+B;t.moveTo(U,F);const K=d===df&&!V?h-o*2:O;t.lineTo(U+Math.round(K),F),t.lineWidth=i/15;const ne=this._getLinearGradient();t.strokeStyle=ne||g,t.stroke(),t.restore()}if(C){t.save(),t.beginPath();const B=jy.Konva._fixTextRendering?-Math.round(i/4):0;t.moveTo(E,P+M+B);const U=d===df&&!V?h-o*2:O;t.lineTo(E+Math.round(U),P+M+B),t.lineWidth=i/15;const F=this._getLinearGradient();t.strokeStyle=F||g,t.stroke(),t.restore()}if(c!==N5&&(p!==0||d===df)){const B=z.split(" ").length-1,U=Zl(z);for(let F=0;F<U.length;F++){const K=U[F];K===" "&&!V&&d===df&&(E+=(h-o*2-O)/B),this._partialTextX=E,this._partialTextY=P+M,this._partialText=K,t.fillStrokeShape(this),E+=this.measureSize(K).width+p}}else p!==0&&t.setAttr("letterSpacing",`${p}px`),this._partialTextX=E,this._partialTextY=P+M,this._partialText=z,t.fillStrokeShape(this);t.restore(),r>1&&(P+=s)}}_hitFunc(t){const n=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}setText(t){const n=v2.Util._isString(t)?t:t==null?"":t+"";return this._setAttr(J$,n),this}getWidth(){return this.attrs.width===hu||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===hu||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return v2.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n,r,o,i,s,a,c,f,d,h,p;let g=Fy(),w=this.fontSize(),S;g.save(),g.font=this._getContextFont(),S=g.measureText(t),g.restore();const C=w/100;return{actualBoundingBoxAscent:(n=S.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*C,actualBoundingBoxDescent:(r=S.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(o=S.actualBoundingBoxLeft)!==null&&o!==void 0?o:-7.421875*C,actualBoundingBoxRight:(i=S.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*C,alphabeticBaseline:(s=S.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=S.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(c=S.emHeightDescent)!==null&&c!==void 0?c:-20*C,fontBoundingBoxAscent:(f=S.fontBoundingBoxAscent)!==null&&f!==void 0?f:91*C,fontBoundingBoxDescent:(d=S.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*C,hangingBaseline:(h=S.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*C,ideographicBaseline:(p=S.ideographicBaseline)!==null&&p!==void 0?p:-21*C,width:S.width,height:w}}_getContextFont(){return this.fontStyle()+Hp+this.fontVariant()+Hp+(this.fontSize()+rU)+lU(this.fontFamily())}_addTextLine(t){this.align()===df&&(t=t.trim());const r=this._getTextWidth(t);return this.textArr.push({text:t,width:r,lastInParagraph:!1})}_getTextWidth(t){const n=this.letterSpacing(),r=t.length;return Fy().measureText(t).width+n*r}_setTextData(){let t=this.text().split(`
`),n=+this.fontSize(),r=0,o=this.lineHeight()*n,i=this.attrs.width,s=this.attrs.height,a=i!==hu&&i!==void 0,c=s!==hu&&s!==void 0,f=this.padding(),d=i-f*2,h=s-f*2,p=0,g=this.wrap(),w=g!==A5,S=g!==sU&&w,C=this.ellipsis();this.textArr=[],Fy().font=this._getContextFont();const k=C?this._getTextWidth(Ly):0;for(let P=0,y=t.length;P<y;++P){let E=t[P],M=this._getTextWidth(E);if(a&&M>d)for(;E.length>0;){let A=0,z=Zl(E).length,O="",V=0;for(;A<z;){const B=A+z>>>1,U=Zl(E),F=U.slice(0,B+1).join(""),K=this._getTextWidth(F);(C&&c&&p+o>h?K+k:K)<=d?(A=B+1,O=F,V=K):z=B}if(O){if(S){const F=Zl(E),K=Zl(O),ne=F[K.length],G=ne===Hp||ne===T5;let X;if(G&&V<=d)X=K.length;else{const Y=K.lastIndexOf(Hp),$=K.lastIndexOf(T5);X=Math.max(Y,$)+1}X>0&&(A=X,O=F.slice(0,A).join(""),V=this._getTextWidth(O))}if(O=O.trimRight(),this._addTextLine(O),r=Math.max(r,V),p+=o,this._shouldHandleEllipsis(p)){this._tryToAddEllipsisToLastLine();break}if(E=Zl(E).slice(A).join("").trimLeft(),E.length>0&&(M=this._getTextWidth(E),M<=d)){this._addTextLine(E),p+=o,r=Math.max(r,M);break}}else break}else this._addTextLine(E),p+=o,r=Math.max(r,M),this._shouldHandleEllipsis(p)&&P<y-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),c&&p+o>h)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(t){const n=+this.fontSize(),r=this.lineHeight()*n,o=this.attrs.height,i=o!==hu&&o!==void 0,s=this.padding(),a=o-s*2;return!(this.wrap()!==A5)||i&&t+r>a}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,n=t!==hu&&t!==void 0,r=this.padding(),o=t-r*2,i=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!i||(n&&(this._getTextWidth(s.text+Ly)<o||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+Ly))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return t&&n?!0:super._useBufferCanvas()}};Ed.Text=Wn;Wn.prototype._fillFunc=cU;Wn.prototype._strokeFunc=uU;Wn.prototype.className=eU;Wn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,q$._registerNode)(Wn);Qr.Factory.overWriteSetter(Wn,"width",(0,_l.getNumberOrAutoValidator)());Qr.Factory.overWriteSetter(Wn,"height",(0,_l.getNumberOrAutoValidator)());Qr.Factory.addGetterSetter(Wn,"direction",Jk);Qr.Factory.addGetterSetter(Wn,"fontFamily","Arial");Qr.Factory.addGetterSetter(Wn,"fontSize",12,(0,_l.getNumberValidator)());Qr.Factory.addGetterSetter(Wn,"fontStyle",t7);Qr.Factory.addGetterSetter(Wn,"fontVariant",t7);Qr.Factory.addGetterSetter(Wn,"padding",0,(0,_l.getNumberValidator)());Qr.Factory.addGetterSetter(Wn,"align",e7);Qr.Factory.addGetterSetter(Wn,"verticalAlign",tU);Qr.Factory.addGetterSetter(Wn,"lineHeight",1,(0,_l.getNumberValidator)());Qr.Factory.addGetterSetter(Wn,"wrap",iU);Qr.Factory.addGetterSetter(Wn,"ellipsis",!1,(0,_l.getBooleanValidator)());Qr.Factory.addGetterSetter(Wn,"letterSpacing",0,(0,_l.getNumberValidator)());Qr.Factory.addGetterSetter(Wn,"text","",(0,_l.getStringValidator)());Qr.Factory.addGetterSetter(Wn,"textDecoration","");var _0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.TextPath=void 0;const zy=zn,Wi=jt,fU=vr,ff=Cd,By=Ed,r7=wt,hU=Dt,pU="",o7="normal";function i7(e){e.fillText(this.partialText,0,0)}function s7(e){e.strokeText(this.partialText,0,0)}class yr extends fU.Shape{constructor(t){super(t),this.dummyCanvas=zy.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ff.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const n=this.pathLength;return t-1>n?null:ff.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=ff.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const n=this.textDecoration(),r=this.fill(),o=this.fontSize(),i=this.glyphInfo;n==="underline"&&t.beginPath();for(let s=0;s<i.length;s++){t.save();const a=i[s].p0;t.translate(a.x,a.y),t.rotate(i[s].rotation),this.partialText=i[s].text,t.fillStrokeShape(this),n==="underline"&&(s===0&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}n==="underline"&&(t.strokeStyle=r,t.lineWidth=o/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;t.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const o=n[r].p1;t.lineTo(o.x,o.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return zy.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return By.Text.prototype.setText.call(this,t)}_getContextFont(){return By.Text.prototype._getContextFont.call(this)}_getTextSize(t){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const o=r.measureText(t);return r.restore(),{width:o.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),o=this.align(),i=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let a=0;o==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),o==="right"&&(a=Math.max(0,this.pathLength-s));const c=(0,By.stringToArray)(this.text());let f=a;for(let d=0;d<c.length;d++){const h=this._getPointAtLength(f);if(!h)return;let p=this._getTextSize(c[d]).width+r;if(c[d]===" "&&o==="justify"){const P=this.text().split(" ").length-1;p+=(this.pathLength-s)/P}const g=this._getPointAtLength(f+p);if(!g)return;const w=ff.Path.getLineLength(h.x,h.y,g.x,g.y);let S=0;if(i)try{S=i(c[d-1],c[d])*this.fontSize()}catch{S=0}h.x+=S,g.x+=S,this.textWidth+=S;const C=ff.Path.getPointOnLine(S+w/2,h.x,h.y,g.x,g.y),k=Math.atan2(g.y-h.y,g.x-h.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:c[d],rotation:k,p0:h,p1:g}),f+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach(function(f){t.push(f.p0.x),t.push(f.p0.y),t.push(f.p1.x),t.push(f.p1.y)});let n=t[0]||0,r=t[0]||0,o=t[1]||0,i=t[1]||0,s,a;for(let f=0;f<t.length/2;f++)s=t[f*2],a=t[f*2+1],n=Math.min(n,s),r=Math.max(r,s),o=Math.min(o,a),i=Math.max(i,a);const c=this.fontSize();return{x:n-c/2,y:o-c/2,width:r-n+c,height:i-o+c}}destroy(){return zy.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}_0.TextPath=yr;yr.prototype._fillFunc=i7;yr.prototype._strokeFunc=s7;yr.prototype._fillFuncHit=i7;yr.prototype._strokeFuncHit=s7;yr.prototype.className="TextPath";yr.prototype._attrsAffectingSize=["text","fontSize","data"];(0,hU._registerNode)(yr);Wi.Factory.addGetterSetter(yr,"data");Wi.Factory.addGetterSetter(yr,"fontFamily","Arial");Wi.Factory.addGetterSetter(yr,"fontSize",12,(0,r7.getNumberValidator)());Wi.Factory.addGetterSetter(yr,"fontStyle",o7);Wi.Factory.addGetterSetter(yr,"align","left");Wi.Factory.addGetterSetter(yr,"letterSpacing",0,(0,r7.getNumberValidator)());Wi.Factory.addGetterSetter(yr,"textBaseline","middle");Wi.Factory.addGetterSetter(yr,"fontVariant",o7);Wi.Factory.addGetterSetter(yr,"text",pU);Wi.Factory.addGetterSetter(yr,"textDecoration","");Wi.Factory.addGetterSetter(yr,"kerningFunc",void 0);var C0={};Object.defineProperty(C0,"__esModule",{value:!0});C0.Transformer=void 0;const hn=zn,on=jt,M5=Nn,mU=vr,gU=Oh,I5=Sd,Ti=Dt,Cl=wt,vU=Dt,a7="tr-konva",yU=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${a7}`).join(" "),D5="nodesRect",wU=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],xU={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},bU="ontouchstart"in Ti.Konva._global;function SU(e,t,n){if(e==="rotater")return n;t+=hn.Util.degToRad(xU[e]||0);const r=(hn.Util.radToDeg(t)%360+360)%360;return hn.Util._inRange(r,315+22.5,360)||hn.Util._inRange(r,0,22.5)?"ns-resize":hn.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":hn.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":hn.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":hn.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":hn.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":hn.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":hn.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(hn.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const ig=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function _U(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function l7(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),o=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:r,y:o}}function CU(e,t){const n=_U(e);return l7(e,t,n)}function kU(e,t,n){let r=t;for(let o=0;o<e.length;o++){const i=Ti.Konva.getAngle(e[o]),s=Math.abs(i-t)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=i)}return r}let y2=0;class Ht extends I5.Group{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(yU,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return hn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return a7+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const n=t.filter(o=>o.isAncestorOf(this)?(hn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=t=n,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(o=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(o._attrsAffectingSize.length){const s=o._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");o.on(s,i)}o.on(wU.map(s=>s+`.${this._getEventNamespace()}`).join(" "),i),o.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(o)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let n;t.on(`dragstart.${this._getEventNamespace()}`,r=>{n=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(r,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const o=t.getAbsolutePosition(),i=o.x-n.x,s=o.y-n.y;this.nodes().forEach(a=>{if(a===t||a.isDragging())return;const c=a.getAbsolutePosition();a.setAbsolutePosition({x:c.x+i,y:c.y+s}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(D5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(D5,this.__getNodeRect)}__getNodeShape(t,n=this.rotation(),r){const o=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(r),s=t.getAbsolutePosition(r),a=o.x*i.x-t.offsetX()*i.x,c=o.y*i.y-t.offsetY()*i.y,f=(Ti.Konva.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(f)+c*Math.sin(-f),y:s.y+c*Math.cos(f)+a*Math.sin(f),width:o.width*i.x,height:o.height*i.y,rotation:f};return l7(d,-Ti.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(f=>{const d=f.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],p=f.getAbsoluteTransform();h.forEach(function(g){const w=p.point(g);n.push(w)})});const r=new hn.Transform;r.rotate(-Ti.Konva.getAngle(this.rotation()));let o=1/0,i=1/0,s=-1/0,a=-1/0;n.forEach(function(f){const d=r.point(f);o===void 0&&(o=s=d.x,i=a=d.y),o=Math.min(o,d.x),i=Math.min(i,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),r.invert();const c=r.point({x:o,y:i});return{x:c.x,y:c.y,width:s-o,height:a-i,rotation:Ti.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ig.forEach(t=>{this._createAnchor(t)}),this._createAnchor("rotater")}_createAnchor(t){const n=new gU.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:bU?10:"auto"}),r=this;n.on("mousedown touchstart",function(o){r._handleMouseDown(o)}),n.on("dragstart",o=>{n.stopDrag(),o.cancelBubble=!0}),n.on("dragend",o=>{o.cancelBubble=!0}),n.on("mouseenter",()=>{const o=Ti.Konva.getAngle(this.rotation()),i=this.rotateAnchorCursor(),s=SU(t,o,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const t=new mU.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const o=r.getParent(),i=o.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.moveTo(r.width()/2,-i),o.rotateEnabled()&&o.rotateLineVisible()&&n.lineTo(r.width()/2,-o.rotateAnchorOffset()*hn.Util._sign(r.height())-i),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const o=this.padding();n.beginPath(),n.rect(-o,-o,r.width()+o*2,r.height()+o*2),n.fillStrokeShape(r)}});this.add(t),this._proxyDrag(t),t.on("dragstart",n=>{n.cancelBubble=!0}),t.on("dragmove",n=>{n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,o=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(o,2));this.sin=Math.abs(o/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},y2++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(c=>{c._fire("transformstart",{evt:t.evt,target:c})})}_handleMouseMove(t){let n,r,o;const i=this.findOne("."+this._movingAnchorName),s=i.getStage();s.setPointersPositions(t);const a=s.getPointerPosition();let c={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const f=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(c=this.anchorDragBoundFunc()(f,c,t)),i.setAbsolutePosition(c);const d=i.getAbsolutePosition();if(f.x===d.x&&f.y===d.y)return;if(this._movingAnchorName==="rotater"){const P=this._getNodeRect();n=i.x()-P.width/2,r=-i.y()+P.height/2;let y=Math.atan2(-r,n)+Math.PI/2;P.height<0&&(y-=Math.PI);const M=Ti.Konva.getAngle(this.rotation())+y,A=Ti.Konva.getAngle(this.rotationSnapTolerance()),O=kU(this.rotationSnaps(),M,A)-P.rotation,V=CU(P,O);this._fitNodesInto(V,t);return}const h=this.shiftBehavior();let p;h==="inverted"?p=this.keepRatio()&&!t.shiftKey:h==="none"?p=this.keepRatio():p=this.keepRatio()||t.shiftKey;let g=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(p){const P=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};o=Math.sqrt(Math.pow(P.x-i.x(),2)+Math.pow(P.y-i.y(),2));const y=this.findOne(".top-left").x()>P.x?-1:1,E=this.findOne(".top-left").y()>P.y?-1:1;n=o*this.cos*y,r=o*this.sin*E,this.findOne(".top-left").x(P.x-n),this.findOne(".top-left").y(P.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(p){const P=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};o=Math.sqrt(Math.pow(i.x()-P.x,2)+Math.pow(P.y-i.y(),2));const y=this.findOne(".top-right").x()<P.x?-1:1,E=this.findOne(".top-right").y()>P.y?-1:1;n=o*this.cos*y,r=o*this.sin*E,this.findOne(".top-right").x(P.x+n),this.findOne(".top-right").y(P.y-r)}var w=i.position();this.findOne(".top-left").y(w.y),this.findOne(".bottom-right").x(w.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(p){const P=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};o=Math.sqrt(Math.pow(P.x-i.x(),2)+Math.pow(i.y()-P.y,2));const y=P.x<i.x()?-1:1,E=i.y()<P.y?-1:1;n=o*this.cos*y,r=o*this.sin*E,i.x(P.x-n),i.y(P.y+r)}w=i.position(),this.findOne(".top-left").x(w.x),this.findOne(".bottom-right").y(w.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(p){const P=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};o=Math.sqrt(Math.pow(i.x()-P.x,2)+Math.pow(i.y()-P.y,2));const y=this.findOne(".bottom-right").x()<P.x?-1:1,E=this.findOne(".bottom-right").y()<P.y?-1:1;n=o*this.cos*y,r=o*this.sin*E,this.findOne(".bottom-right").x(P.x+n),this.findOne(".bottom-right").y(P.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(g=this.centeredScaling()||t.altKey,g){const P=this.findOne(".top-left"),y=this.findOne(".bottom-right"),E=P.x(),M=P.y(),A=this.getWidth()-y.x(),z=this.getHeight()-y.y();y.move({x:-E,y:-M}),P.move({x:A,y:z})}const S=this.findOne(".top-left").getAbsolutePosition();n=S.x,r=S.y;const C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),k=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:C,height:k,rotation:Ti.Konva.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();y2--,this._fire("transformend",{evt:t,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(o=>{var i;o._fire("transformend",{evt:t,target:o}),(i=o.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(t,n){const r=this._getNodeRect(),o=1;if(hn.Util._inRange(t.width,-this.padding()*2-o,o)){this.update();return}if(hn.Util._inRange(t.height,-this.padding()*2-o,o)){this.update();return}const i=new hn.Transform;if(i.rotate(Ti.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=i.point({x:-this.padding()*2,y:0});t.x+=p.x,t.y+=p.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.width+=this.padding()*2}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=i.point({x:0,y:-this.padding()*2});t.x+=p.x,t.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.height+=this.padding()*2}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.height+=this.padding()*2}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(r,t);p?t=p:hn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,a=new hn.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);const c=new hn.Transform,f=t.width/s,d=t.height/s;this.flipEnabled()===!1?(c.translate(t.x,t.y),c.rotate(t.rotation),c.translate(t.width<0?t.width:0,t.height<0?t.height:0),c.scale(Math.abs(f),Math.abs(d))):(c.translate(t.x,t.y),c.rotate(t.rotation),c.scale(f,d));const h=c.multiply(a.invert());this._nodes.forEach(p=>{var g;const w=p.getParent().getAbsoluteTransform(),S=p.getTransform().copy();S.translate(p.offsetX(),p.offsetY());const C=new hn.Transform;C.multiply(w.copy().invert()).multiply(h).multiply(w).multiply(S);const k=C.decompose();p.setAttrs(k),(g=p.getLayer())===null||g===void 0||g.batchDraw()}),this.rotation(hn.Util._getRotation(t.rotation)),this._nodes.forEach(p=>{this._fire("transform",{evt:n,target:p}),p._fire("transform",{evt:n,target:p})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,n){this.findOne(t).setAttrs(n)}update(){var t;const n=this._getNodeRect();this.rotation(hn.Util._getRotation(n.rotation));const r=n.width,o=n.height,i=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),c=this.anchorSize(),f=this.find("._anchor");f.forEach(h=>{h.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+a,offsetY:c/2+a,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:c/2+a,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:c/2-a,offsetY:c/2+a,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:o/2,offsetX:c/2+a,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:o/2,offsetX:c/2-a,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:o,offsetX:c/2+a,offsetY:c/2-a,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:o,offsetY:c/2-a,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:o,offsetX:c/2-a,offsetY:c/2-a,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*hn.Util._sign(o)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&f.forEach(h=>{d(h)}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),I5.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return M5.Node.prototype.toObject.call(this)}clone(t){return M5.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}C0.Transformer=Ht;Ht.isTransforming=()=>y2>0;function EU(e){return e instanceof Array||hn.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){ig.indexOf(t)===-1&&hn.Util.warn("Unknown anchor name: "+t+". Available names are: "+ig.join(", "))}),e||[]}Ht.prototype.className="Transformer";(0,vU._registerNode)(Ht);on.Factory.addGetterSetter(Ht,"enabledAnchors",ig,EU);on.Factory.addGetterSetter(Ht,"flipEnabled",!0,(0,Cl.getBooleanValidator)());on.Factory.addGetterSetter(Ht,"resizeEnabled",!0);on.Factory.addGetterSetter(Ht,"anchorSize",10,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"rotateEnabled",!0);on.Factory.addGetterSetter(Ht,"rotateLineVisible",!0);on.Factory.addGetterSetter(Ht,"rotationSnaps",[]);on.Factory.addGetterSetter(Ht,"rotateAnchorOffset",50,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"rotateAnchorCursor","crosshair");on.Factory.addGetterSetter(Ht,"rotationSnapTolerance",5,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"borderEnabled",!0);on.Factory.addGetterSetter(Ht,"anchorStroke","rgb(0, 161, 255)");on.Factory.addGetterSetter(Ht,"anchorStrokeWidth",1,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"anchorFill","white");on.Factory.addGetterSetter(Ht,"anchorCornerRadius",0,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"borderStroke","rgb(0, 161, 255)");on.Factory.addGetterSetter(Ht,"borderStrokeWidth",1,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"borderDash");on.Factory.addGetterSetter(Ht,"keepRatio",!0);on.Factory.addGetterSetter(Ht,"shiftBehavior","default");on.Factory.addGetterSetter(Ht,"centeredScaling",!1);on.Factory.addGetterSetter(Ht,"ignoreStroke",!1);on.Factory.addGetterSetter(Ht,"padding",0,(0,Cl.getNumberValidator)());on.Factory.addGetterSetter(Ht,"nodes");on.Factory.addGetterSetter(Ht,"node");on.Factory.addGetterSetter(Ht,"boundBoxFunc");on.Factory.addGetterSetter(Ht,"anchorDragBoundFunc");on.Factory.addGetterSetter(Ht,"anchorStyleFunc");on.Factory.addGetterSetter(Ht,"shouldOverdrawWholeArea",!1);on.Factory.addGetterSetter(Ht,"useSingleNodeRotation",!0);on.Factory.backCompat(Ht,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.Wedge=void 0;const E0=jt,PU=vr,TU=Dt,c7=wt,RU=Dt;class ma extends PU.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,TU.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}k0.Wedge=ma;ma.prototype.className="Wedge";ma.prototype._centroid=!0;ma.prototype._attrsAffectingSize=["radius"];(0,RU._registerNode)(ma);E0.Factory.addGetterSetter(ma,"radius",0,(0,c7.getNumberValidator)());E0.Factory.addGetterSetter(ma,"angle",0,(0,c7.getNumberValidator)());E0.Factory.addGetterSetter(ma,"clockwise",!1);E0.Factory.backCompat(ma,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var P0={};Object.defineProperty(P0,"__esModule",{value:!0});P0.Blur=void 0;const O5=jt,NU=Nn,AU=wt;function j5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const MU=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],IU=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function DU(e,t){const n=e.data,r=e.width,o=e.height;let i,s,a,c,f,d,h,p,g,w,S,C,k,P,y,E,M,A,z,O;const V=t+t+1,B=r-1,U=o-1,F=t+1,K=F*(F+1)/2,ne=new j5,G=MU[t],X=IU[t];let Y=null,$=ne,q=null,J=null;for(let ie=1;ie<V;ie++)$=$.next=new j5,ie===F&&(Y=$);$.next=ne,a=s=0;for(let ie=0;ie<o;ie++){C=k=P=y=c=f=d=h=0,p=F*(E=n[s]),g=F*(M=n[s+1]),w=F*(A=n[s+2]),S=F*(z=n[s+3]),c+=K*E,f+=K*M,d+=K*A,h+=K*z,$=ne;for(let te=0;te<F;te++)$.r=E,$.g=M,$.b=A,$.a=z,$=$.next;for(let te=1;te<F;te++)i=s+((B<te?B:te)<<2),c+=($.r=E=n[i])*(O=F-te),f+=($.g=M=n[i+1])*O,d+=($.b=A=n[i+2])*O,h+=($.a=z=n[i+3])*O,C+=E,k+=M,P+=A,y+=z,$=$.next;q=ne,J=Y;for(let te=0;te<r;te++)n[s+3]=z=h*G>>X,z!==0?(z=255/z,n[s]=(c*G>>X)*z,n[s+1]=(f*G>>X)*z,n[s+2]=(d*G>>X)*z):n[s]=n[s+1]=n[s+2]=0,c-=p,f-=g,d-=w,h-=S,p-=q.r,g-=q.g,w-=q.b,S-=q.a,i=a+((i=te+t+1)<B?i:B)<<2,C+=q.r=n[i],k+=q.g=n[i+1],P+=q.b=n[i+2],y+=q.a=n[i+3],c+=C,f+=k,d+=P,h+=y,q=q.next,p+=E=J.r,g+=M=J.g,w+=A=J.b,S+=z=J.a,C-=E,k-=M,P-=A,y-=z,J=J.next,s+=4;a+=r}for(let ie=0;ie<r;ie++){k=P=y=C=f=d=h=c=0,s=ie<<2,p=F*(E=n[s]),g=F*(M=n[s+1]),w=F*(A=n[s+2]),S=F*(z=n[s+3]),c+=K*E,f+=K*M,d+=K*A,h+=K*z,$=ne;for(let de=0;de<F;de++)$.r=E,$.g=M,$.b=A,$.a=z,$=$.next;let te=r;for(let de=1;de<=t;de++)s=te+ie<<2,c+=($.r=E=n[s])*(O=F-de),f+=($.g=M=n[s+1])*O,d+=($.b=A=n[s+2])*O,h+=($.a=z=n[s+3])*O,C+=E,k+=M,P+=A,y+=z,$=$.next,de<U&&(te+=r);s=ie,q=ne,J=Y;for(let de=0;de<o;de++)i=s<<2,n[i+3]=z=h*G>>X,z>0?(z=255/z,n[i]=(c*G>>X)*z,n[i+1]=(f*G>>X)*z,n[i+2]=(d*G>>X)*z):n[i]=n[i+1]=n[i+2]=0,c-=p,f-=g,d-=w,h-=S,p-=q.r,g-=q.g,w-=q.b,S-=q.a,i=ie+((i=de+F)<U?i:U)*r<<2,c+=C+=q.r=n[i],f+=k+=q.g=n[i+1],d+=P+=q.b=n[i+2],h+=y+=q.a=n[i+3],q=q.next,p+=E=J.r,g+=M=J.g,w+=A=J.b,S+=z=J.a,C-=E,k-=M,P-=A,y-=z,J=J.next,s+=r}}const OU=function(t){const n=Math.round(this.blurRadius());n>0&&DU(t,n)};P0.Blur=OU;O5.Factory.addGetterSetter(NU.Node,"blurRadius",0,(0,AU.getNumberValidator)(),O5.Factory.afterSetFilter);var T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.Brighten=void 0;const L5=jt,jU=Nn,LU=wt,FU=function(e){const t=this.brightness()*255,n=e.data,r=n.length;for(let o=0;o<r;o+=4)n[o]+=t,n[o+1]+=t,n[o+2]+=t};T0.Brighten=FU;L5.Factory.addGetterSetter(jU.Node,"brightness",0,(0,LU.getNumberValidator)(),L5.Factory.afterSetFilter);var R0={};Object.defineProperty(R0,"__esModule",{value:!0});R0.Contrast=void 0;const F5=jt,zU=Nn,BU=wt,$U=function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length;let o=150,i=150,s=150;for(let a=0;a<r;a+=4)o=n[a],i=n[a+1],s=n[a+2],o/=255,o-=.5,o*=t,o+=.5,o*=255,i/=255,i-=.5,i*=t,i+=.5,i*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,o=o<0?0:o>255?255:o,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n[a]=o,n[a+1]=i,n[a+2]=s};R0.Contrast=$U;F5.Factory.addGetterSetter(zU.Node,"contrast",0,(0,BU.getNumberValidator)(),F5.Factory.afterSetFilter);var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.Emboss=void 0;const ul=jt,A0=Nn,UU=zn,u7=wt,GU=function(e){const t=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),o=this.embossBlend(),i=e.data,s=e.width,a=e.height,c=s*4;let f=0,d=0,h=a;switch(r){case"top-left":f=-1,d=-1;break;case"top":f=-1,d=0;break;case"top-right":f=-1,d=1;break;case"right":f=0,d=1;break;case"bottom-right":f=1,d=1;break;case"bottom":f=1,d=0;break;case"bottom-left":f=1,d=-1;break;case"left":f=0,d=-1;break;default:UU.Util.error("Unknown emboss direction: "+r)}do{const p=(h-1)*c;let g=f;h+g<1&&(g=0),h+g>a&&(g=0);const w=(h-1+g)*s*4;let S=s;do{const C=p+(S-1)*4;let k=d;S+k<1&&(k=0),S+k>s&&(k=0);const P=w+(S-1+k)*4,y=i[C]-i[P],E=i[C+1]-i[P+1],M=i[C+2]-i[P+2];let A=y;const z=A>0?A:-A,O=E>0?E:-E,V=M>0?M:-M;if(O>z&&(A=E),V>z&&(A=M),A*=t,o){const B=i[C]+A,U=i[C+1]+A,F=i[C+2]+A;i[C]=B>255?255:B<0?0:B,i[C+1]=U>255?255:U<0?0:U,i[C+2]=F>255?255:F<0?0:F}else{let B=n-A;B<0?B=0:B>255&&(B=255),i[C]=i[C+1]=i[C+2]=B}}while(--S)}while(--h)};N0.Emboss=GU;ul.Factory.addGetterSetter(A0.Node,"embossStrength",.5,(0,u7.getNumberValidator)(),ul.Factory.afterSetFilter);ul.Factory.addGetterSetter(A0.Node,"embossWhiteLevel",.5,(0,u7.getNumberValidator)(),ul.Factory.afterSetFilter);ul.Factory.addGetterSetter(A0.Node,"embossDirection","top-left",void 0,ul.Factory.afterSetFilter);ul.Factory.addGetterSetter(A0.Node,"embossBlend",!1,void 0,ul.Factory.afterSetFilter);var M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.Enhance=void 0;const z5=jt,VU=Nn,HU=wt;function $y(e,t,n,r,o){const i=n-t,s=o-r;if(i===0)return r+s/2;if(s===0)return r;let a=(e-t)/i;return a=s*a+r,a}const WU=function(e){const t=e.data,n=t.length;let r=t[0],o=r,i,s=t[1],a=s,c,f=t[2],d=f,h;const p=this.enhance();if(p===0)return;for(let y=0;y<n;y+=4)i=t[y+0],i<r?r=i:i>o&&(o=i),c=t[y+1],c<s?s=c:c>a&&(a=c),h=t[y+2],h<f?f=h:h>d&&(d=h);o===r&&(o=255,r=0),a===s&&(a=255,s=0),d===f&&(d=255,f=0);let g,w,S,C,k,P;if(p>0)g=o+p*(255-o),w=r-p*(r-0),S=a+p*(255-a),C=s-p*(s-0),k=d+p*(255-d),P=f-p*(f-0);else{const y=(o+r)*.5;g=o+p*(o-y),w=r+p*(r-y);const E=(a+s)*.5;S=a+p*(a-E),C=s+p*(s-E);const M=(d+f)*.5;k=d+p*(d-M),P=f+p*(f-M)}for(let y=0;y<n;y+=4)t[y+0]=$y(t[y+0],r,o,w,g),t[y+1]=$y(t[y+1],s,a,C,S),t[y+2]=$y(t[y+2],f,d,P,k)};M0.Enhance=WU;z5.Factory.addGetterSetter(VU.Node,"enhance",0,(0,HU.getNumberValidator)(),z5.Factory.afterSetFilter);var I0={};Object.defineProperty(I0,"__esModule",{value:!0});I0.Grayscale=void 0;const KU=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const o=.34*t[r]+.5*t[r+1]+.16*t[r+2];t[r]=o,t[r+1]=o,t[r+2]=o}};I0.Grayscale=KU;var D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.HSL=void 0;const nd=jt,lb=Nn,cb=wt;nd.Factory.addGetterSetter(lb.Node,"hue",0,(0,cb.getNumberValidator)(),nd.Factory.afterSetFilter);nd.Factory.addGetterSetter(lb.Node,"saturation",0,(0,cb.getNumberValidator)(),nd.Factory.afterSetFilter);nd.Factory.addGetterSetter(lb.Node,"luminance",0,(0,cb.getNumberValidator)(),nd.Factory.afterSetFilter);const YU=function(e){const t=e.data,n=t.length,r=1,o=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*o*Math.cos(i*Math.PI/180),c=r*o*Math.sin(i*Math.PI/180),f=.299*r+.701*a+.167*c,d=.587*r-.587*a+.33*c,h=.114*r-.114*a-.497*c,p=.299*r-.299*a-.328*c,g=.587*r+.413*a+.035*c,w=.114*r-.114*a+.293*c,S=.299*r-.3*a+1.25*c,C=.587*r-.586*a-1.05*c,k=.114*r+.886*a-.2*c;let P,y,E,M;for(let A=0;A<n;A+=4)P=t[A+0],y=t[A+1],E=t[A+2],M=t[A+3],t[A+0]=f*P+d*y+h*E+s,t[A+1]=p*P+g*y+w*E+s,t[A+2]=S*P+C*y+k*E+s,t[A+3]=M};D0.HSL=YU;var O0={};Object.defineProperty(O0,"__esModule",{value:!0});O0.HSV=void 0;const rd=jt,ub=Nn,db=wt,qU=function(e){const t=e.data,n=t.length,r=Math.pow(2,this.value()),o=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=r*o*Math.cos(i*Math.PI/180),a=r*o*Math.sin(i*Math.PI/180),c=.299*r+.701*s+.167*a,f=.587*r-.587*s+.33*a,d=.114*r-.114*s-.497*a,h=.299*r-.299*s-.328*a,p=.587*r+.413*s+.035*a,g=.114*r-.114*s+.293*a,w=.299*r-.3*s+1.25*a,S=.587*r-.586*s-1.05*a,C=.114*r+.886*s-.2*a;for(let k=0;k<n;k+=4){const P=t[k+0],y=t[k+1],E=t[k+2],M=t[k+3];t[k+0]=c*P+f*y+d*E,t[k+1]=h*P+p*y+g*E,t[k+2]=w*P+S*y+C*E,t[k+3]=M}};O0.HSV=qU;rd.Factory.addGetterSetter(ub.Node,"hue",0,(0,db.getNumberValidator)(),rd.Factory.afterSetFilter);rd.Factory.addGetterSetter(ub.Node,"saturation",0,(0,db.getNumberValidator)(),rd.Factory.afterSetFilter);rd.Factory.addGetterSetter(ub.Node,"value",0,(0,db.getNumberValidator)(),rd.Factory.afterSetFilter);var j0={};Object.defineProperty(j0,"__esModule",{value:!0});j0.Invert=void 0;const XU=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]};j0.Invert=XU;var L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.Kaleidoscope=void 0;const sg=jt,d7=Nn,B5=zn,f7=wt,QU=function(e,t,n){const r=e.data,o=t.data,i=e.width,s=e.height,a=n.polarCenterX||i/2,c=n.polarCenterY||s/2;let f=Math.sqrt(a*a+c*c),d=i-a,h=s-c;const p=Math.sqrt(d*d+h*h);f=p>f?p:f;const g=s,w=i,S=360/w*Math.PI/180;for(let C=0;C<w;C+=1){const k=Math.sin(C*S),P=Math.cos(C*S);for(let y=0;y<g;y+=1){d=Math.floor(a+f*y/g*P),h=Math.floor(c+f*y/g*k);let E=(h*i+d)*4;const M=r[E+0],A=r[E+1],z=r[E+2],O=r[E+3];E=(C+y*i)*4,o[E+0]=M,o[E+1]=A,o[E+2]=z,o[E+3]=O}}},ZU=function(e,t,n){const r=e.data,o=t.data,i=e.width,s=e.height,a=n.polarCenterX||i/2,c=n.polarCenterY||s/2;let f=Math.sqrt(a*a+c*c),d=i-a,h=s-c;const p=Math.sqrt(d*d+h*h);f=p>f?p:f;const g=s,w=i,S=0;let C,k;for(d=0;d<i;d+=1)for(h=0;h<s;h+=1){const P=d-a,y=h-c,E=Math.sqrt(P*P+y*y)*g/f;let M=(Math.atan2(y,P)*180/Math.PI+360+S)%360;M=M*w/360,C=Math.floor(M),k=Math.floor(E);let A=(k*i+C)*4;const z=r[A+0],O=r[A+1],V=r[A+2],B=r[A+3];A=(h*i+d)*4,o[A+0]=z,o[A+1]=O,o[A+2]=V,o[A+3]=B}},JU=function(e){const t=e.width,n=e.height;let r,o,i,s,a,c,f,d,h,p,g=Math.round(this.kaleidoscopePower());const w=Math.round(this.kaleidoscopeAngle()),S=Math.floor(t*(w%360)/360);if(g<1)return;const C=B5.Util.createCanvasElement();C.width=t,C.height=n;const k=C.getContext("2d").getImageData(0,0,t,n);B5.Util.releaseCanvas(C),QU(e,k,{polarCenterX:t/2,polarCenterY:n/2});let P=t/Math.pow(2,g);for(;P<=8;)P=P*2,g-=1;P=Math.ceil(P);let y=P,E=0,M=y,A=1;for(S+P>t&&(E=y,M=0,A=-1),o=0;o<n;o+=1)for(r=E;r!==M;r+=A)i=Math.round(r+S)%t,h=(t*o+i)*4,a=k.data[h+0],c=k.data[h+1],f=k.data[h+2],d=k.data[h+3],p=(t*o+r)*4,k.data[p+0]=a,k.data[p+1]=c,k.data[p+2]=f,k.data[p+3]=d;for(o=0;o<n;o+=1)for(y=Math.floor(P),s=0;s<g;s+=1){for(r=0;r<y+1;r+=1)h=(t*o+r)*4,a=k.data[h+0],c=k.data[h+1],f=k.data[h+2],d=k.data[h+3],p=(t*o+y*2-r-1)*4,k.data[p+0]=a,k.data[p+1]=c,k.data[p+2]=f,k.data[p+3]=d;y*=2}ZU(k,e,{})};L0.Kaleidoscope=JU;sg.Factory.addGetterSetter(d7.Node,"kaleidoscopePower",2,(0,f7.getNumberValidator)(),sg.Factory.afterSetFilter);sg.Factory.addGetterSetter(d7.Node,"kaleidoscopeAngle",0,(0,f7.getNumberValidator)(),sg.Factory.afterSetFilter);var F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.Mask=void 0;const $5=jt,eG=Nn,tG=wt;function Kp(e,t,n){let r=(n*e.width+t)*4;const o=[];return o.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),o}function hf(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function nG(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function rG(e,t){const n=Kp(e,0,0),r=Kp(e,e.width-1,0),o=Kp(e,0,e.height-1),i=Kp(e,e.width-1,e.height-1),s=t||10;if(hf(n,r)<s&&hf(r,i)<s&&hf(i,o)<s&&hf(o,n)<s){const a=nG([r,n,i,o]),c=[];for(let f=0;f<e.width*e.height;f++){const d=hf(a,[e.data[f*4],e.data[f*4+1],e.data[f*4+2]]);c[f]=d<s?0:255}return c}}function oG(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function iG(e,t,n){const r=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),s=[];for(let a=0;a<n;a++)for(let c=0;c<t;c++){const f=a*t+c;let d=0;for(let h=0;h<o;h++)for(let p=0;p<o;p++){const g=a+h-i,w=c+p-i;if(g>=0&&g<n&&w>=0&&w<t){const S=g*t+w,C=r[h*o+p];d+=e[S]*C}}s[f]=d===255*8?255:0}return s}function sG(e,t,n){const r=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),s=[];for(let a=0;a<n;a++)for(let c=0;c<t;c++){const f=a*t+c;let d=0;for(let h=0;h<o;h++)for(let p=0;p<o;p++){const g=a+h-i,w=c+p-i;if(g>=0&&g<n&&w>=0&&w<t){const S=g*t+w,C=r[h*o+p];d+=e[S]*C}}s[f]=d>=255*4?255:0}return s}function aG(e,t,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),s=[];for(let a=0;a<n;a++)for(let c=0;c<t;c++){const f=a*t+c;let d=0;for(let h=0;h<o;h++)for(let p=0;p<o;p++){const g=a+h-i,w=c+p-i;if(g>=0&&g<n&&w>=0&&w<t){const S=g*t+w,C=r[h*o+p];d+=e[S]*C}}s[f]=d}return s}const lG=function(e){const t=this.threshold();let n=rG(e,t);return n&&(n=iG(n,e.width,e.height),n=sG(n,e.width,e.height),n=aG(n,e.width,e.height),oG(e,n)),e};F0.Mask=lG;$5.Factory.addGetterSetter(eG.Node,"threshold",0,(0,tG.getNumberValidator)(),$5.Factory.afterSetFilter);var z0={};Object.defineProperty(z0,"__esModule",{value:!0});z0.Noise=void 0;const U5=jt,cG=Nn,uG=wt,dG=function(e){const t=this.noise()*255,n=e.data,r=n.length,o=t/2;for(let i=0;i<r;i+=4)n[i+0]+=o-2*o*Math.random(),n[i+1]+=o-2*o*Math.random(),n[i+2]+=o-2*o*Math.random()};z0.Noise=dG;U5.Factory.addGetterSetter(cG.Node,"noise",.2,(0,uG.getNumberValidator)(),U5.Factory.afterSetFilter);var B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.Pixelate=void 0;const G5=jt,fG=zn,hG=Nn,pG=wt,mG=function(e){let t=Math.ceil(this.pixelSize()),n=e.width,r=e.height,o=Math.ceil(n/t),i=Math.ceil(r/t),s=e.data;if(t<=0){fG.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<o;a+=1)for(let c=0;c<i;c+=1){let f=0,d=0,h=0,p=0;const g=a*t,w=g+t,S=c*t,C=S+t;let k=0;for(let P=g;P<w;P+=1)if(!(P>=n))for(let y=S;y<C;y+=1){if(y>=r)continue;const E=(n*y+P)*4;f+=s[E+0],d+=s[E+1],h+=s[E+2],p+=s[E+3],k+=1}f=f/k,d=d/k,h=h/k,p=p/k;for(let P=g;P<w;P+=1)if(!(P>=n))for(let y=S;y<C;y+=1){if(y>=r)continue;const E=(n*y+P)*4;s[E+0]=f,s[E+1]=d,s[E+2]=h,s[E+3]=p}}};B0.Pixelate=mG;G5.Factory.addGetterSetter(hG.Node,"pixelSize",8,(0,pG.getNumberValidator)(),G5.Factory.afterSetFilter);var $0={};Object.defineProperty($0,"__esModule",{value:!0});$0.Posterize=void 0;const V5=jt,gG=Nn,vG=wt,yG=function(e){const t=Math.round(this.levels()*254)+1,n=e.data,r=n.length,o=255/t;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/o)*o};$0.Posterize=yG;V5.Factory.addGetterSetter(gG.Node,"levels",.5,(0,vG.getNumberValidator)(),V5.Factory.afterSetFilter);var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.RGB=void 0;const ag=jt,fb=Nn,wG=wt,xG=function(e){const t=e.data,n=t.length,r=this.red(),o=this.green(),i=this.blue();for(let s=0;s<n;s+=4){const a=(.34*t[s]+.5*t[s+1]+.16*t[s+2])/255;t[s]=a*r,t[s+1]=a*o,t[s+2]=a*i,t[s+3]=t[s+3]}};U0.RGB=xG;ag.Factory.addGetterSetter(fb.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});ag.Factory.addGetterSetter(fb.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});ag.Factory.addGetterSetter(fb.Node,"blue",0,wG.RGBComponent,ag.Factory.afterSetFilter);var G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.RGBA=void 0;const hh=jt,V0=Nn,bG=wt,SG=function(e){const t=e.data,n=t.length,r=this.red(),o=this.green(),i=this.blue(),s=this.alpha();for(let a=0;a<n;a+=4){const c=1-s;t[a]=r*s+t[a]*c,t[a+1]=o*s+t[a+1]*c,t[a+2]=i*s+t[a+2]*c}};G0.RGBA=SG;hh.Factory.addGetterSetter(V0.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});hh.Factory.addGetterSetter(V0.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});hh.Factory.addGetterSetter(V0.Node,"blue",0,bG.RGBComponent,hh.Factory.afterSetFilter);hh.Factory.addGetterSetter(V0.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.Sepia=void 0;const _G=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const o=t[r+0],i=t[r+1],s=t[r+2];t[r+0]=Math.min(255,o*.393+i*.769+s*.189),t[r+1]=Math.min(255,o*.349+i*.686+s*.168),t[r+2]=Math.min(255,o*.272+i*.534+s*.131)}};H0.Sepia=_G;var W0={};Object.defineProperty(W0,"__esModule",{value:!0});W0.Solarize=void 0;const CG=function(e){const t=e.data,n=e.width,r=e.height,o=n*4;let i=r;do{const s=(i-1)*o;let a=n;do{const c=s+(a-1)*4;let f=t[c],d=t[c+1],h=t[c+2];f>127&&(f=255-f),d>127&&(d=255-d),h>127&&(h=255-h),t[c]=f,t[c+1]=d,t[c+2]=h}while(--a)}while(--i)};W0.Solarize=CG;var K0={};Object.defineProperty(K0,"__esModule",{value:!0});K0.Threshold=void 0;const H5=jt,kG=Nn,EG=wt,PG=function(e){const t=this.threshold()*255,n=e.data,r=n.length;for(let o=0;o<r;o+=1)n[o]=n[o]<t?0:255};K0.Threshold=PG;H5.Factory.addGetterSetter(kG.Node,"threshold",.5,(0,EG.getNumberValidator)(),H5.Factory.afterSetFilter);Object.defineProperty(r0,"__esModule",{value:!0});r0.Konva=void 0;const W5=rg,TG=l0,RG=d0,NG=p0,AG=m0,MG=g0,K5=td,IG=Mh,DG=Cd,OG=Oh,jG=w0,LG=x0,FG=b0,zG=S0,BG=Ed,$G=_0,UG=C0,GG=k0,VG=P0,HG=T0,WG=R0,KG=N0,YG=M0,qG=I0,XG=D0,QG=O0,ZG=j0,JG=L0,eV=F0,tV=z0,nV=B0,rV=$0,oV=U0,iV=G0,sV=H0,aV=W0,lV=K0;r0.Konva=W5.Konva.Util._assign(W5.Konva,{Arc:TG.Arc,Arrow:RG.Arrow,Circle:NG.Circle,Ellipse:AG.Ellipse,Image:MG.Image,Label:K5.Label,Tag:K5.Tag,Line:IG.Line,Path:DG.Path,Rect:OG.Rect,RegularPolygon:jG.RegularPolygon,Ring:LG.Ring,Sprite:FG.Sprite,Star:zG.Star,Text:BG.Text,TextPath:$G.TextPath,Transformer:UG.Transformer,Wedge:GG.Wedge,Filters:{Blur:VG.Blur,Brighten:HG.Brighten,Contrast:WG.Contrast,Emboss:KG.Emboss,Enhance:YG.Enhance,Grayscale:qG.Grayscale,HSL:XG.HSL,HSV:QG.HSV,Invert:ZG.Invert,Kaleidoscope:JG.Kaleidoscope,Mask:eV.Mask,Noise:tV.Noise,Pixelate:nV.Pixelate,Posterize:rV.Posterize,RGB:oV.RGB,RGBA:iV.RGBA,Sepia:sV.Sepia,Solarize:aV.Solarize,Threshold:lV.Threshold}});var cV=Mk.exports;Object.defineProperty(cV,"__esModule",{value:!0});const uV=r0;Mk.exports=uV.Konva;var w2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=rg;Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=rg;e.exports=r.Konva})(w2,w2.exports);var dV=w2.exports;const ph=dl(dV);var h7={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fV=function(t){var n={},r=N,o=Pf,i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),M=Symbol.iterator;function A(l){return l===null||typeof l!="object"?null:(l=M&&l[M]||l["@@iterator"],typeof l=="function"?l:null)}function z(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case w:return(l.displayName||"Context")+".Consumer";case g:return(l._context.displayName||"Context")+".Provider";case S:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return u=l.displayName||null,u!==null?u:z(l.type)||"Memo";case y:u=l._payload,l=l._init;try{return z(l(u))}catch{}}return null}function O(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(u);case 8:return u===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function V(l){var u=l,v=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,u.flags&4098&&(v=u.return),l=u.return;while(l)}return u.tag===3?v:null}function B(l){if(V(l)!==l)throw Error(s(188))}function U(l){var u=l.alternate;if(!u){if(u=V(l),u===null)throw Error(s(188));return u!==l?null:l}for(var v=l,_=u;;){var T=v.return;if(T===null)break;var D=T.alternate;if(D===null){if(_=T.return,_!==null){v=_;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===v)return B(T),l;if(D===_)return B(T),u;D=D.sibling}throw Error(s(188))}if(v.return!==_.return)v=T,_=D;else{for(var H=!1,pe=T.child;pe;){if(pe===v){H=!0,v=T,_=D;break}if(pe===_){H=!0,_=T,v=D;break}pe=pe.sibling}if(!H){for(pe=D.child;pe;){if(pe===v){H=!0,v=D,_=T;break}if(pe===_){H=!0,_=D,v=T;break}pe=pe.sibling}if(!H)throw Error(s(189))}}if(v.alternate!==_)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?l:u}function F(l){return l=U(l),l!==null?K(l):null}function K(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=K(l);if(u!==null)return u;l=l.sibling}return null}function ne(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=ne(l);if(u!==null)return u}l=l.sibling}return null}var G=Array.isArray,X=t.getPublicInstance,Y=t.getRootHostContext,$=t.getChildHostContext,q=t.prepareForCommit,J=t.resetAfterCommit,ie=t.createInstance,te=t.appendInitialChild,de=t.finalizeInitialChildren,He=t.prepareUpdate,Te=t.shouldSetTextContent,Ee=t.createTextInstance,Q=t.scheduleTimeout,we=t.cancelTimeout,ve=t.noTimeout,Re=t.isPrimaryRenderer,ke=t.supportsMutation,Ae=t.supportsPersistence,Me=t.supportsHydration,Ze=t.getInstanceFromNode,Qe=t.preparePortalMount,cn=t.getCurrentEventPriority,je=t.detachDeletedInstance,qe=t.supportsMicrotasks,ot=t.scheduleMicrotask,lt=t.supportsTestSelectors,ft=t.findFiberRoot,Ct=t.getBoundingRect,xt=t.getTextContent,Be=t.isHiddenSubtree,at=t.matchAccessibilityRole,kt=t.setFocusIfFocusable,tn=t.setupIntersectionObserver,En=t.appendChild,At=t.appendChildToContainer,Wt=t.commitTextUpdate,qt=t.commitMount,Dr=t.commitUpdate,An=t.insertBefore,po=t.insertInContainerBefore,Xt=t.removeChild,Je=t.removeChildFromContainer,Kn=t.resetTextContent,Zr=t.hideInstance,Zo=t.hideTextInstance,Xe=t.unhideInstance,wi=t.unhideTextInstance,ga=t.clearContainer,wr=t.cloneInstance,or=t.createContainerChildSet,Cs=t.appendChildToContainerChildSet,va=t.finalizeContainerChildren,Ki=t.replaceContainerChildren,Zt=t.cloneHiddenInstance,wn=t.cloneHiddenTextInstance,le=t.canHydrateInstance,ze=t.canHydrateTextInstance,Ie=t.canHydrateSuspenseInstance,ct=t.isSuspenseInstancePending,yt=t.isSuspenseInstanceFallback,$e=t.getSuspenseInstanceFallbackErrorDetails,et=t.registerSuspenseInstanceRetry,Lt=t.getNextHydratableSibling,nn=t.getFirstHydratableChild,xn=t.getFirstHydratableChildWithinContainer,rn=t.getFirstHydratableChildWithinSuspenseInstance,pt=t.hydrateInstance,Yn=t.hydrateTextInstance,Or=t.hydrateSuspenseInstance,xi=t.getNextHydratableInstanceAfterSuspenseInstance,jh=t.commitHydratedContainer,ks=t.commitHydratedSuspenseInstance,Lh=t.clearSuspenseBoundary,Pd=t.clearSuspenseBoundaryFromContainer,Mn=t.shouldDeleteUnhydratedTailInstances,Es=t.didNotMatchHydratedContainerTextInstance,bi=t.didNotMatchHydratedTextInstance,Dc;function Jo(l){if(Dc===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);Dc=u&&u[1]||""}return`
`+Dc+l}var ya=!1;function El(l,u){if(!l||ya)return"";ya=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ge){var _=Ge}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ge){_=Ge}l.call(u.prototype)}else{try{throw Error()}catch(Ge){_=Ge}l()}}catch(Ge){if(Ge&&_&&typeof Ge.stack=="string"){for(var T=Ge.stack.split(`
`),D=_.stack.split(`
`),H=T.length-1,pe=D.length-1;1<=H&&0<=pe&&T[H]!==D[pe];)pe--;for(;1<=H&&0<=pe;H--,pe--)if(T[H]!==D[pe]){if(H!==1||pe!==1)do if(H--,pe--,0>pe||T[H]!==D[pe]){var Se=`
`+T[H].replace(" at new "," at ");return l.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",l.displayName)),Se}while(1<=H&&0<=pe);break}}}finally{ya=!1,Error.prepareStackTrace=v}return(l=l?l.displayName||l.name:"")?Jo(l):""}var Td=Object.prototype.hasOwnProperty,Si=[],Ps=-1;function Lo(l){return{current:l}}function un(l){0>Ps||(l.current=Si[Ps],Si[Ps]=null,Ps--)}function dt(l,u){Ps++,Si[Ps]=l.current,l.current=u}var _i={},ir=Lo(_i),sr=Lo(!1),Fo=_i;function Ts(l,u){var v=l.type.contextTypes;if(!v)return _i;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var T={},D;for(D in v)T[D]=u[D];return _&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Cr(l){return l=l.childContextTypes,l!=null}function Pl(){un(sr),un(ir)}function sn(l,u,v){if(ir.current!==_i)throw Error(s(168));dt(ir,u),dt(sr,v)}function wa(l,u,v){var _=l.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return v;_=_.getChildContext();for(var T in _)if(!(T in u))throw Error(s(108,O(l)||"Unknown",T));return i({},v,_)}function Yi(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||_i,Fo=ir.current,dt(ir,l),dt(sr,sr.current),!0}function Rs(l,u,v){var _=l.stateNode;if(!_)throw Error(s(169));v?(l=wa(l,u,Fo),_.__reactInternalMemoizedMergedChildContext=l,un(sr),un(ir),dt(ir,l)):un(sr),dt(sr,v)}var Jr=Math.clz32?Math.clz32:Fh,Rd=Math.log,Oc=Math.LN2;function Fh(l){return l>>>=0,l===0?32:31-(Rd(l)/Oc|0)|0}var Ns=64,Tl=4194304;function Rl(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ft(l,u){var v=l.pendingLanes;if(v===0)return 0;var _=0,T=l.suspendedLanes,D=l.pingedLanes,H=v&268435455;if(H!==0){var pe=H&~T;pe!==0?_=Rl(pe):(D&=H,D!==0&&(_=Rl(D)))}else H=v&~T,H!==0?_=Rl(H):D!==0&&(_=Rl(D));if(_===0)return 0;if(u!==0&&u!==_&&!(u&T)&&(T=_&-_,D=u&-u,T>=D||T===16&&(D&4194240)!==0))return u;if(_&4&&(_|=v&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=_;0<u;)v=31-Jr(u),T=1<<v,_|=l[v],u&=~T;return _}function zh(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(l,u){for(var v=l.suspendedLanes,_=l.pingedLanes,T=l.expirationTimes,D=l.pendingLanes;0<D;){var H=31-Jr(D),pe=1<<H,Se=T[H];Se===-1?(!(pe&v)||pe&_)&&(T[H]=zh(pe,u)):Se<=u&&(l.expiredLanes|=pe),D&=~pe}}function Nd(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function jr(){var l=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),l}function qi(l){for(var u=[],v=0;31>v;v++)u.push(l);return u}function Xi(l,u,v){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Jr(u),l[u]=v}function Qi(l,u){var v=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var _=l.eventTimes;for(l=l.expirationTimes;0<v;){var T=31-Jr(v),D=1<<T;u[T]=0,_[T]=-1,l[T]=-1,v&=~D}}function jc(l,u){var v=l.entangledLanes|=u;for(l=l.entanglements;v;){var _=31-Jr(v),T=1<<_;T&u|l[_]&u&&(l[_]|=u),v&=~T}}var Ut=0;function qn(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var mo=o.unstable_scheduleCallback,xa=o.unstable_cancelCallback,Nl=o.unstable_shouldYield,Ad=o.unstable_requestPaint,mn=o.unstable_now,Md=o.unstable_ImmediatePriority,ei=o.unstable_UserBlockingPriority,Al=o.unstable_NormalPriority,Bh=o.unstable_IdlePriority,ba=null,Lr=null;function Id(l){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(ba,l,void 0,(l.current.flags&128)===128)}catch{}}function $h(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var zo=typeof Object.is=="function"?Object.is:$h,eo=null,Lc=!1,Dd=!1;function Ml(l){eo===null?eo=[l]:eo.push(l)}function Fc(l){Lc=!0,Ml(l)}function go(){if(!Dd&&eo!==null){Dd=!0;var l=0,u=Ut;try{var v=eo;for(Ut=1;l<v.length;l++){var _=v[l];do _=_(!0);while(_!==null)}eo=null,Lc=!1}catch(T){throw eo!==null&&(eo=eo.slice(l+1)),mo(Md,go),T}finally{Ut=u,Dd=!1}}return null}var Sa=[],_a=0,zc=null,Ca=0,Fr=[],to=0,ti=null,vo=1,yo="";function Zi(l,u){Sa[_a++]=Ca,Sa[_a++]=zc,zc=l,Ca=u}function Uh(l,u,v){Fr[to++]=vo,Fr[to++]=yo,Fr[to++]=ti,ti=l;var _=vo;l=yo;var T=32-Jr(_)-1;_&=~(1<<T),v+=1;var D=32-Jr(u)+T;if(30<D){var H=T-T%5;D=(_&(1<<H)-1).toString(32),_>>=H,T-=H,vo=1<<32-Jr(u)+T|v<<T|_,yo=D+l}else vo=1<<D|v<<T|_,yo=l}function Ji(l){l.return!==null&&(Zi(l,1),Uh(l,1,0))}function Il(l){for(;l===zc;)zc=Sa[--_a],Sa[_a]=null,Ca=Sa[--_a],Sa[_a]=null;for(;l===ti;)ti=Fr[--to],Fr[to]=null,yo=Fr[--to],Fr[to]=null,vo=Fr[--to],Fr[to]=null}var kr=null,zr=null,dn=!1,Bn=!1,Er=null;function ka(l,u){var v=oi(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=l,u=l.deletions,u===null?(l.deletions=[v],l.flags|=16):u.push(v)}function Od(l,u){switch(l.tag){case 5:return u=le(u,l.type,l.pendingProps),u!==null?(l.stateNode=u,kr=l,zr=nn(u),!0):!1;case 6:return u=ze(u,l.pendingProps),u!==null?(l.stateNode=u,kr=l,zr=null,!0):!1;case 13:if(u=Ie(u),u!==null){var v=ti!==null?{id:vo,overflow:yo}:null;return l.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=oi(18,null,null,0),v.stateNode=u,v.return=l,l.child=v,kr=l,zr=null,!0}return!1;default:return!1}}function Ea(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Bc(l){if(dn){var u=zr;if(u){var v=u;if(!Od(l,u)){if(Ea(l))throw Error(s(418));u=Lt(v);var _=kr;u&&Od(l,u)?ka(_,v):(l.flags=l.flags&-4097|2,dn=!1,kr=l)}}else{if(Ea(l))throw Error(s(418));l.flags=l.flags&-4097|2,dn=!1,kr=l}}}function jd(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;kr=l}function As(l){if(!Me||l!==kr)return!1;if(!dn)return jd(l),dn=!0,!1;if(l.tag!==3&&(l.tag!==5||Mn(l.type)&&!Te(l.type,l.memoizedProps))){var u=zr;if(u){if(Ea(l))throw $c(),Error(s(418));for(;u;)ka(l,u),u=Lt(u)}}if(jd(l),l.tag===13){if(!Me)throw Error(s(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));zr=xi(l)}else zr=kr?Lt(l.stateNode):null;return!0}function $c(){for(var l=zr;l;)l=Lt(l)}function wo(){Me&&(zr=kr=null,Bn=dn=!1)}function Dl(l){Er===null?Er=[l]:Er.push(l)}var Ld=a.ReactCurrentBatchConfig;function Ms(l,u){if(zo(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var v=Object.keys(l),_=Object.keys(u);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var T=v[_];if(!Td.call(u,T)||!zo(l[T],u[T]))return!1}return!0}function Fd(l){switch(l.tag){case 5:return Jo(l.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return l=El(l.type,!1),l;case 11:return l=El(l.type.render,!1),l;case 1:return l=El(l.type,!0),l;default:return""}}function Pa(l,u,v){if(l=v.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(s(309));var _=v.stateNode}if(!_)throw Error(s(147,l));var T=_,D=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===D?u.ref:(u=function(H){var pe=T.refs;H===null?delete pe[D]:pe[D]=H},u._stringRef=D,u)}if(typeof l!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,l))}return l}function Uc(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Gc(l){var u=l._init;return u(l._payload)}function Ol(l){function u(xe,me){if(l){var Ce=xe.deletions;Ce===null?(xe.deletions=[me],xe.flags|=16):Ce.push(me)}}function v(xe,me){if(!l)return null;for(;me!==null;)u(xe,me),me=me.sibling;return null}function _(xe,me){for(xe=new Map;me!==null;)me.key!==null?xe.set(me.key,me):xe.set(me.index,me),me=me.sibling;return xe}function T(xe,me){return xe=Oa(xe,me),xe.index=0,xe.sibling=null,xe}function D(xe,me,Ce){return xe.index=Ce,l?(Ce=xe.alternate,Ce!==null?(Ce=Ce.index,Ce<me?(xe.flags|=2,me):Ce):(xe.flags|=2,me)):(xe.flags|=1048576,me)}function H(xe){return l&&xe.alternate===null&&(xe.flags|=2),xe}function pe(xe,me,Ce,rt){return me===null||me.tag!==6?(me=Tv(Ce,xe.mode,rt),me.return=xe,me):(me=T(me,Ce),me.return=xe,me)}function Se(xe,me,Ce,rt){var gt=Ce.type;return gt===d?ut(xe,me,Ce.props.children,rt,Ce.key):me!==null&&(me.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===y&&Gc(gt)===me.type)?(rt=T(me,Ce.props),rt.ref=Pa(xe,me,Ce),rt.return=xe,rt):(rt=fp(Ce.type,Ce.key,Ce.props,null,xe.mode,rt),rt.ref=Pa(xe,me,Ce),rt.return=xe,rt)}function Ge(xe,me,Ce,rt){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ce.containerInfo||me.stateNode.implementation!==Ce.implementation?(me=Rv(Ce,xe.mode,rt),me.return=xe,me):(me=T(me,Ce.children||[]),me.return=xe,me)}function ut(xe,me,Ce,rt,gt){return me===null||me.tag!==7?(me=Ul(Ce,xe.mode,rt,gt),me.return=xe,me):(me=T(me,Ce),me.return=xe,me)}function Pt(xe,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Tv(""+me,xe.mode,Ce),me.return=xe,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case c:return Ce=fp(me.type,me.key,me.props,null,xe.mode,Ce),Ce.ref=Pa(xe,null,me),Ce.return=xe,Ce;case f:return me=Rv(me,xe.mode,Ce),me.return=xe,me;case y:var rt=me._init;return Pt(xe,rt(me._payload),Ce)}if(G(me)||A(me))return me=Ul(me,xe.mode,Ce,null),me.return=xe,me;Uc(xe,me)}return null}function nt(xe,me,Ce,rt){var gt=me!==null?me.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return gt!==null?null:pe(xe,me,""+Ce,rt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case c:return Ce.key===gt?Se(xe,me,Ce,rt):null;case f:return Ce.key===gt?Ge(xe,me,Ce,rt):null;case y:return gt=Ce._init,nt(xe,me,gt(Ce._payload),rt)}if(G(Ce)||A(Ce))return gt!==null?null:ut(xe,me,Ce,rt,null);Uc(xe,Ce)}return null}function bn(xe,me,Ce,rt,gt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return xe=xe.get(Ce)||null,pe(me,xe,""+rt,gt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case c:return xe=xe.get(rt.key===null?Ce:rt.key)||null,Se(me,xe,rt,gt);case f:return xe=xe.get(rt.key===null?Ce:rt.key)||null,Ge(me,xe,rt,gt);case y:var It=rt._init;return bn(xe,me,Ce,It(rt._payload),gt)}if(G(rt)||A(rt))return xe=xe.get(Ce)||null,ut(me,xe,rt,gt,null);Uc(me,rt)}return null}function gn(xe,me,Ce,rt){for(var gt=null,It=null,Tt=me,Jt=me=0,br=null;Tt!==null&&Jt<Ce.length;Jt++){Tt.index>Jt?(br=Tt,Tt=null):br=Tt.sibling;var en=nt(xe,Tt,Ce[Jt],rt);if(en===null){Tt===null&&(Tt=br);break}l&&Tt&&en.alternate===null&&u(xe,Tt),me=D(en,me,Jt),It===null?gt=en:It.sibling=en,It=en,Tt=br}if(Jt===Ce.length)return v(xe,Tt),dn&&Zi(xe,Jt),gt;if(Tt===null){for(;Jt<Ce.length;Jt++)Tt=Pt(xe,Ce[Jt],rt),Tt!==null&&(me=D(Tt,me,Jt),It===null?gt=Tt:It.sibling=Tt,It=Tt);return dn&&Zi(xe,Jt),gt}for(Tt=_(xe,Tt);Jt<Ce.length;Jt++)br=bn(Tt,xe,Jt,Ce[Jt],rt),br!==null&&(l&&br.alternate!==null&&Tt.delete(br.key===null?Jt:br.key),me=D(br,me,Jt),It===null?gt=br:It.sibling=br,It=br);return l&&Tt.forEach(function(ja){return u(xe,ja)}),dn&&Zi(xe,Jt),gt}function ko(xe,me,Ce,rt){var gt=A(Ce);if(typeof gt!="function")throw Error(s(150));if(Ce=gt.call(Ce),Ce==null)throw Error(s(151));for(var It=gt=null,Tt=me,Jt=me=0,br=null,en=Ce.next();Tt!==null&&!en.done;Jt++,en=Ce.next()){Tt.index>Jt?(br=Tt,Tt=null):br=Tt.sibling;var ja=nt(xe,Tt,en.value,rt);if(ja===null){Tt===null&&(Tt=br);break}l&&Tt&&ja.alternate===null&&u(xe,Tt),me=D(ja,me,Jt),It===null?gt=ja:It.sibling=ja,It=ja,Tt=br}if(en.done)return v(xe,Tt),dn&&Zi(xe,Jt),gt;if(Tt===null){for(;!en.done;Jt++,en=Ce.next())en=Pt(xe,en.value,rt),en!==null&&(me=D(en,me,Jt),It===null?gt=en:It.sibling=en,It=en);return dn&&Zi(xe,Jt),gt}for(Tt=_(xe,Tt);!en.done;Jt++,en=Ce.next())en=bn(Tt,xe,Jt,en.value,rt),en!==null&&(l&&en.alternate!==null&&Tt.delete(en.key===null?Jt:en.key),me=D(en,me,Jt),It===null?gt=en:It.sibling=en,It=en);return l&&Tt.forEach(function(tE){return u(xe,tE)}),dn&&Zi(xe,Jt),gt}function Fs(xe,me,Ce,rt){if(typeof Ce=="object"&&Ce!==null&&Ce.type===d&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case c:e:{for(var gt=Ce.key,It=me;It!==null;){if(It.key===gt){if(gt=Ce.type,gt===d){if(It.tag===7){v(xe,It.sibling),me=T(It,Ce.props.children),me.return=xe,xe=me;break e}}else if(It.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===y&&Gc(gt)===It.type){v(xe,It.sibling),me=T(It,Ce.props),me.ref=Pa(xe,It,Ce),me.return=xe,xe=me;break e}v(xe,It);break}else u(xe,It);It=It.sibling}Ce.type===d?(me=Ul(Ce.props.children,xe.mode,rt,Ce.key),me.return=xe,xe=me):(rt=fp(Ce.type,Ce.key,Ce.props,null,xe.mode,rt),rt.ref=Pa(xe,me,Ce),rt.return=xe,xe=rt)}return H(xe);case f:e:{for(It=Ce.key;me!==null;){if(me.key===It)if(me.tag===4&&me.stateNode.containerInfo===Ce.containerInfo&&me.stateNode.implementation===Ce.implementation){v(xe,me.sibling),me=T(me,Ce.children||[]),me.return=xe,xe=me;break e}else{v(xe,me);break}else u(xe,me);me=me.sibling}me=Rv(Ce,xe.mode,rt),me.return=xe,xe=me}return H(xe);case y:return It=Ce._init,Fs(xe,me,It(Ce._payload),rt)}if(G(Ce))return gn(xe,me,Ce,rt);if(A(Ce))return ko(xe,me,Ce,rt);Uc(xe,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,me!==null&&me.tag===6?(v(xe,me.sibling),me=T(me,Ce),me.return=xe,xe=me):(v(xe,me),me=Tv(Ce,xe.mode,rt),me.return=xe,xe=me),H(xe)):v(xe,me)}return Fs}var Ta=Ol(!0),Vc=Ol(!1),Ra=Lo(null),Hc=null,Is=null,zd=null;function Wc(){zd=Is=Hc=null}function Bd(l,u,v){Re?(dt(Ra,u._currentValue),u._currentValue=v):(dt(Ra,u._currentValue2),u._currentValue2=v)}function $d(l){var u=Ra.current;un(Ra),Re?l._currentValue=u:l._currentValue2=u}function Kc(l,u,v){for(;l!==null;){var _=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),l===v)break;l=l.return}}function es(l,u){Hc=l,zd=Is=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&u&&(So=!0),l.firstContext=null)}function no(l){var u=Re?l._currentValue:l._currentValue2;if(zd!==l)if(l={context:l,memoizedValue:u,next:null},Is===null){if(Hc===null)throw Error(s(308));Is=l,Hc.dependencies={lanes:0,firstContext:l}}else Is=Is.next=l;return u}var ts=null;function Ud(l){ts===null?ts=[l]:ts.push(l)}function Gh(l,u,v,_){var T=u.interleaved;return T===null?(v.next=v,Ud(u)):(v.next=T.next,T.next=v),u.interleaved=v,ni(l,_)}function ni(l,u){l.lanes|=u;var v=l.alternate;for(v!==null&&(v.lanes|=u),v=l,l=l.return;l!==null;)l.childLanes|=u,v=l.alternate,v!==null&&(v.childLanes|=u),v=l,l=l.return;return v.tag===3?v.stateNode:null}var Bo=!1;function $o(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pn(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function xo(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Xn(l,u,v){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,Ot&2){var T=_.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),_.pending=u,ni(l,v)}return T=_.interleaved,T===null?(u.next=u,Ud(_)):(u.next=T.next,T.next=u),_.interleaved=u,ni(l,v)}function Yc(l,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var _=u.lanes;_&=l.pendingLanes,v|=_,u.lanes=v,jc(l,v)}}function qc(l,u){var v=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,v===_)){var T=null,D=null;if(v=v.firstBaseUpdate,v!==null){do{var H={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};D===null?T=D=H:D=D.next=H,v=v.next}while(v!==null);D===null?T=D=u:D=D.next=u}else T=D=u;v={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:_.shared,effects:_.effects},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=u:l.next=u,v.lastBaseUpdate=u}function jl(l,u,v,_){var T=l.updateQueue;Bo=!1;var D=T.firstBaseUpdate,H=T.lastBaseUpdate,pe=T.shared.pending;if(pe!==null){T.shared.pending=null;var Se=pe,Ge=Se.next;Se.next=null,H===null?D=Ge:H.next=Ge,H=Se;var ut=l.alternate;ut!==null&&(ut=ut.updateQueue,pe=ut.lastBaseUpdate,pe!==H&&(pe===null?ut.firstBaseUpdate=Ge:pe.next=Ge,ut.lastBaseUpdate=Se))}if(D!==null){var Pt=T.baseState;H=0,ut=Ge=Se=null,pe=D;do{var nt=pe.lane,bn=pe.eventTime;if((_&nt)===nt){ut!==null&&(ut=ut.next={eventTime:bn,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var gn=l,ko=pe;switch(nt=u,bn=v,ko.tag){case 1:if(gn=ko.payload,typeof gn=="function"){Pt=gn.call(bn,Pt,nt);break e}Pt=gn;break e;case 3:gn.flags=gn.flags&-65537|128;case 0:if(gn=ko.payload,nt=typeof gn=="function"?gn.call(bn,Pt,nt):gn,nt==null)break e;Pt=i({},Pt,nt);break e;case 2:Bo=!0}}pe.callback!==null&&pe.lane!==0&&(l.flags|=64,nt=T.effects,nt===null?T.effects=[pe]:nt.push(pe))}else bn={eventTime:bn,lane:nt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ut===null?(Ge=ut=bn,Se=Pt):ut=ut.next=bn,H|=nt;if(pe=pe.next,pe===null){if(pe=T.shared.pending,pe===null)break;nt=pe,pe=nt.next,nt.next=null,T.lastBaseUpdate=nt,T.shared.pending=null}}while(!0);if(ut===null&&(Se=Pt),T.baseState=Se,T.firstBaseUpdate=Ge,T.lastBaseUpdate=ut,u=T.shared.interleaved,u!==null){T=u;do H|=T.lane,T=T.next;while(T!==u)}else D===null&&(T.shared.lanes=0);Fl|=H,l.lanes=H,l.memoizedState=Pt}}function ns(l,u,v){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var _=l[u],T=_.callback;if(T!==null){if(_.callback=null,_=v,typeof T!="function")throw Error(s(191,T));T.call(_)}}}var Ds={},ar=Lo(Ds),bo=Lo(Ds),Os=Lo(Ds);function m(l){if(l===Ds)throw Error(s(174));return l}function b(l,u){dt(Os,u),dt(bo,l),dt(ar,Ds),l=Y(u),un(ar),dt(ar,l)}function R(){un(ar),un(bo),un(Os)}function I(l){var u=m(Os.current),v=m(ar.current);u=$(v,l.type,u),v!==u&&(dt(bo,l),dt(ar,u))}function j(l){bo.current===l&&(un(ar),un(bo))}var L=Lo(0);function W(l){for(var u=l;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||ct(v)||yt(v)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Z=[];function oe(){for(var l=0;l<Z.length;l++){var u=Z[l];Re?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Z.length=0}var ae=a.ReactCurrentDispatcher,fe=a.ReactCurrentBatchConfig,ee=0,ce=null,re=null,se=null,ue=!1,he=!1,ge=0,ye=0;function be(){throw Error(s(321))}function Pe(l,u){if(u===null)return!1;for(var v=0;v<u.length&&v<l.length;v++)if(!zo(l[v],u[v]))return!1;return!0}function Ue(l,u,v,_,T,D){if(ee=D,ce=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ae.current=l===null||l.memoizedState===null?N7:A7,l=v(_,T),he){D=0;do{if(he=!1,ge=0,25<=D)throw Error(s(301));D+=1,se=re=null,u.updateQueue=null,ae.current=M7,l=v(_,T)}while(he)}if(ae.current=Hh,u=re!==null&&re.next!==null,ee=0,se=re=ce=null,ue=!1,u)throw Error(s(300));return l}function Ke(){var l=ge!==0;return ge=0,l}function De(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?ce.memoizedState=se=l:se=se.next=l,se}function Le(){if(re===null){var l=ce.alternate;l=l!==null?l.memoizedState:null}else l=re.next;var u=se===null?ce.memoizedState:se.next;if(u!==null)se=u,re=l;else{if(l===null)throw Error(s(310));re=l,l={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},se===null?ce.memoizedState=se=l:se=se.next=l}return se}function We(l,u){return typeof u=="function"?u(l):u}function Ve(l){var u=Le(),v=u.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=l;var _=re,T=_.baseQueue,D=v.pending;if(D!==null){if(T!==null){var H=T.next;T.next=D.next,D.next=H}_.baseQueue=T=D,v.pending=null}if(T!==null){D=T.next,_=_.baseState;var pe=H=null,Se=null,Ge=D;do{var ut=Ge.lane;if((ee&ut)===ut)Se!==null&&(Se=Se.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),_=Ge.hasEagerState?Ge.eagerState:l(_,Ge.action);else{var Pt={lane:ut,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Se===null?(pe=Se=Pt,H=_):Se=Se.next=Pt,ce.lanes|=ut,Fl|=ut}Ge=Ge.next}while(Ge!==null&&Ge!==D);Se===null?H=_:Se.next=pe,zo(_,u.memoizedState)||(So=!0),u.memoizedState=_,u.baseState=H,u.baseQueue=Se,v.lastRenderedState=_}if(l=v.interleaved,l!==null){T=l;do D=T.lane,ce.lanes|=D,Fl|=D,T=T.next;while(T!==l)}else T===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function tt(l){var u=Le(),v=u.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=l;var _=v.dispatch,T=v.pending,D=u.memoizedState;if(T!==null){v.pending=null;var H=T=T.next;do D=l(D,H.action),H=H.next;while(H!==T);zo(D,u.memoizedState)||(So=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),v.lastRenderedState=D}return[D,_]}function St(){}function Et(l,u){var v=ce,_=Le(),T=u(),D=!zo(_.memoizedState,T);if(D&&(_.memoizedState=T,So=!0),_=_.queue,X0(bt.bind(null,v,_,l),[l]),_.getSnapshot!==u||D||se!==null&&se.memoizedState.tag&1){if(v.flags|=2048,Qn(9,Br.bind(null,v,_,T,u),void 0,null),xr===null)throw Error(s(349));ee&30||Mt(v,u,T)}return T}function Mt(l,u,v){l.flags|=16384,l={getSnapshot:u,value:v},u=ce.updateQueue,u===null?(u={lastEffect:null,stores:null},ce.updateQueue=u,u.stores=[l]):(v=u.stores,v===null?u.stores=[l]:v.push(l))}function Br(l,u,v,_){u.value=v,u.getSnapshot=_,lr(u)&&cr(l)}function bt(l,u,v){return v(function(){lr(u)&&cr(l)})}function lr(l){var u=l.getSnapshot;l=l.value;try{var v=u();return!zo(l,v)}catch{return!0}}function cr(l){var u=ni(l,1);u!==null&&ri(u,l,1,-1)}function Ll(l){var u=De();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:We,lastRenderedState:l},u.queue=l,l=l.dispatch=R7.bind(null,ce,l),[u.memoizedState,l]}function Qn(l,u,v,_){return l={tag:l,create:u,destroy:v,deps:_,next:null},u=ce.updateQueue,u===null?(u={lastEffect:null,stores:null},ce.updateQueue=u,u.lastEffect=l.next=l):(v=u.lastEffect,v===null?u.lastEffect=l.next=l:(_=v.next,v.next=l,l.next=_,u.lastEffect=l)),l}function rs(){return Le().memoizedState}function Na(l,u,v,_){var T=De();ce.flags|=l,T.memoizedState=Qn(1|u,v,void 0,_===void 0?null:_)}function Vh(l,u,v,_){var T=Le();_=_===void 0?null:_;var D=void 0;if(re!==null){var H=re.memoizedState;if(D=H.destroy,_!==null&&Pe(_,H.deps)){T.memoizedState=Qn(u,v,D,_);return}}ce.flags|=l,T.memoizedState=Qn(1|u,v,D,_)}function mb(l,u){return Na(8390656,8,l,u)}function X0(l,u){return Vh(2048,8,l,u)}function gb(l,u){return Vh(4,2,l,u)}function vb(l,u){return Vh(4,4,l,u)}function yb(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function wb(l,u,v){return v=v!=null?v.concat([l]):null,Vh(4,4,yb.bind(null,u,l),v)}function Q0(){}function xb(l,u){var v=Le();u=u===void 0?null:u;var _=v.memoizedState;return _!==null&&u!==null&&Pe(u,_[1])?_[0]:(v.memoizedState=[l,u],l)}function bb(l,u){var v=Le();u=u===void 0?null:u;var _=v.memoizedState;return _!==null&&u!==null&&Pe(u,_[1])?_[0]:(l=l(),v.memoizedState=[l,u],l)}function Sb(l,u,v){return ee&21?(zo(v,u)||(v=jr(),ce.lanes|=v,Fl|=v,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,So=!0),l.memoizedState=v)}function P7(l,u){var v=Ut;Ut=v!==0&&4>v?v:4,l(!0);var _=fe.transition;fe.transition={};try{l(!1),u()}finally{Ut=v,fe.transition=_}}function _b(){return Le().memoizedState}function T7(l,u,v){var _=Ia(l);if(v={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null},Cb(l))kb(u,v);else if(v=Gh(l,u,v,_),v!==null){var T=Gr();ri(v,l,_,T),Eb(v,u,_)}}function R7(l,u,v){var _=Ia(l),T={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null};if(Cb(l))kb(u,T);else{var D=l.alternate;if(l.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var H=u.lastRenderedState,pe=D(H,v);if(T.hasEagerState=!0,T.eagerState=pe,zo(pe,H)){var Se=u.interleaved;Se===null?(T.next=T,Ud(u)):(T.next=Se.next,Se.next=T),u.interleaved=T;return}}catch{}finally{}v=Gh(l,u,T,_),v!==null&&(T=Gr(),ri(v,l,_,T),Eb(v,u,_))}}function Cb(l){var u=l.alternate;return l===ce||u!==null&&u===ce}function kb(l,u){he=ue=!0;var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}function Eb(l,u,v){if(v&4194240){var _=u.lanes;_&=l.pendingLanes,v|=_,u.lanes=v,jc(l,v)}}var Hh={readContext:no,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},N7={readContext:no,useCallback:function(l,u){return De().memoizedState=[l,u===void 0?null:u],l},useContext:no,useEffect:mb,useImperativeHandle:function(l,u,v){return v=v!=null?v.concat([l]):null,Na(4194308,4,yb.bind(null,u,l),v)},useLayoutEffect:function(l,u){return Na(4194308,4,l,u)},useInsertionEffect:function(l,u){return Na(4,2,l,u)},useMemo:function(l,u){var v=De();return u=u===void 0?null:u,l=l(),v.memoizedState=[l,u],l},useReducer:function(l,u,v){var _=De();return u=v!==void 0?v(u):u,_.memoizedState=_.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},_.queue=l,l=l.dispatch=T7.bind(null,ce,l),[_.memoizedState,l]},useRef:function(l){var u=De();return l={current:l},u.memoizedState=l},useState:Ll,useDebugValue:Q0,useDeferredValue:function(l){return De().memoizedState=l},useTransition:function(){var l=Ll(!1),u=l[0];return l=P7.bind(null,l[1]),De().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,v){var _=ce,T=De();if(dn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=u(),xr===null)throw Error(s(349));ee&30||Mt(_,u,v)}T.memoizedState=v;var D={value:v,getSnapshot:u};return T.queue=D,mb(bt.bind(null,_,D,l),[l]),_.flags|=2048,Qn(9,Br.bind(null,_,D,v,u),void 0,null),v},useId:function(){var l=De(),u=xr.identifierPrefix;if(dn){var v=yo,_=vo;v=(_&~(1<<32-Jr(_)-1)).toString(32)+v,u=":"+u+"R"+v,v=ge++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=ye++,u=":"+u+"r"+v.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},A7={readContext:no,useCallback:xb,useContext:no,useEffect:X0,useImperativeHandle:wb,useInsertionEffect:gb,useLayoutEffect:vb,useMemo:bb,useReducer:Ve,useRef:rs,useState:function(){return Ve(We)},useDebugValue:Q0,useDeferredValue:function(l){var u=Le();return Sb(u,re.memoizedState,l)},useTransition:function(){var l=Ve(We)[0],u=Le().memoizedState;return[l,u]},useMutableSource:St,useSyncExternalStore:Et,useId:_b,unstable_isNewReconciler:!1},M7={readContext:no,useCallback:xb,useContext:no,useEffect:X0,useImperativeHandle:wb,useInsertionEffect:gb,useLayoutEffect:vb,useMemo:bb,useReducer:tt,useRef:rs,useState:function(){return tt(We)},useDebugValue:Q0,useDeferredValue:function(l){var u=Le();return re===null?u.memoizedState=l:Sb(u,re.memoizedState,l)},useTransition:function(){var l=tt(We)[0],u=Le().memoizedState;return[l,u]},useMutableSource:St,useSyncExternalStore:Et,useId:_b,unstable_isNewReconciler:!1};function Ci(l,u){if(l&&l.defaultProps){u=i({},u),l=l.defaultProps;for(var v in l)u[v]===void 0&&(u[v]=l[v]);return u}return u}function Z0(l,u,v,_){u=l.memoizedState,v=v(_,u),v=v==null?u:i({},u,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var Wh={isMounted:function(l){return(l=l._reactInternals)?V(l)===l:!1},enqueueSetState:function(l,u,v){l=l._reactInternals;var _=Gr(),T=Ia(l),D=xo(_,T);D.payload=u,v!=null&&(D.callback=v),u=Xn(l,D,T),u!==null&&(ri(u,l,T,_),Yc(u,l,T))},enqueueReplaceState:function(l,u,v){l=l._reactInternals;var _=Gr(),T=Ia(l),D=xo(_,T);D.tag=1,D.payload=u,v!=null&&(D.callback=v),u=Xn(l,D,T),u!==null&&(ri(u,l,T,_),Yc(u,l,T))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var v=Gr(),_=Ia(l),T=xo(v,_);T.tag=2,u!=null&&(T.callback=u),u=Xn(l,T,_),u!==null&&(ri(u,l,_,v),Yc(u,l,_))}};function Pb(l,u,v,_,T,D,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,D,H):u.prototype&&u.prototype.isPureReactComponent?!Ms(v,_)||!Ms(T,D):!0}function Tb(l,u,v){var _=!1,T=_i,D=u.contextType;return typeof D=="object"&&D!==null?D=no(D):(T=Cr(u)?Fo:ir.current,_=u.contextTypes,D=(_=_!=null)?Ts(l,T):_i),u=new u(v,D),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wh,l.stateNode=u,u._reactInternals=l,_&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=T,l.__reactInternalMemoizedMaskedChildContext=D),u}function Rb(l,u,v,_){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,_),u.state!==l&&Wh.enqueueReplaceState(u,u.state,null)}function J0(l,u,v,_){var T=l.stateNode;T.props=v,T.state=l.memoizedState,T.refs={},$o(l);var D=u.contextType;typeof D=="object"&&D!==null?T.context=no(D):(D=Cr(u)?Fo:ir.current,T.context=Ts(l,D)),T.state=l.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Z0(l,u,D,v),T.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&Wh.enqueueReplaceState(T,T.state,null),jl(l,v,T,_),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308)}function Xc(l,u){try{var v="",_=u;do v+=Fd(_),_=_.return;while(_);var T=v}catch(D){T=`
Error generating stack: `+D.message+`
`+D.stack}return{value:l,source:u,stack:T,digest:null}}function ev(l,u,v){return{value:l,source:null,stack:v??null,digest:u??null}}function tv(l,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var I7=typeof WeakMap=="function"?WeakMap:Map;function Nb(l,u,v){v=xo(-1,v),v.tag=3,v.payload={element:null};var _=u.value;return v.callback=function(){sp||(sp=!0,bv=_),tv(l,u)},v}function Ab(l,u,v){v=xo(-1,v),v.tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var T=u.value;v.payload=function(){return _(T)},v.callback=function(){tv(l,u)}}var D=l.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(v.callback=function(){tv(l,u),typeof _!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})}),v}function Mb(l,u,v){var _=l.pingCache;if(_===null){_=l.pingCache=new I7;var T=new Set;_.set(u,T)}else T=_.get(u),T===void 0&&(T=new Set,_.set(u,T));T.has(v)||(T.add(v),l=K7.bind(null,l,u,v),u.then(l,l))}function Ib(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function Db(l,u,v,_,T){return l.mode&1?(l.flags|=65536,l.lanes=T,l):(l===u?l.flags|=65536:(l.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=xo(-1,1),u.tag=2,Xn(v,u,1))),v.lanes|=1),l)}var D7=a.ReactCurrentOwner,So=!1;function ro(l,u,v,_){u.child=l===null?Vc(u,null,v,_):Ta(u,l.child,v,_)}function Ob(l,u,v,_,T){v=v.render;var D=u.ref;return es(u,T),_=Ue(l,u,v,_,D,T),v=Ke(),l!==null&&!So?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~T,js(l,u,T)):(dn&&v&&Ji(u),u.flags|=1,ro(l,u,_,T),u.child)}function jb(l,u,v,_,T){if(l===null){var D=v.type;return typeof D=="function"&&!Pv(D)&&D.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=D,Lb(l,u,D,_,T)):(l=fp(v.type,null,_,u,u.mode,T),l.ref=u.ref,l.return=u,u.child=l)}if(D=l.child,!(l.lanes&T)){var H=D.memoizedProps;if(v=v.compare,v=v!==null?v:Ms,v(H,_)&&l.ref===u.ref)return js(l,u,T)}return u.flags|=1,l=Oa(D,_),l.ref=u.ref,l.return=u,u.child=l}function Lb(l,u,v,_,T){if(l!==null){var D=l.memoizedProps;if(Ms(D,_)&&l.ref===u.ref)if(So=!1,u.pendingProps=_=D,(l.lanes&T)!==0)l.flags&131072&&(So=!0);else return u.lanes=l.lanes,js(l,u,T)}return nv(l,u,v,_,T)}function Fb(l,u,v){var _=u.pendingProps,T=_.children,D=l!==null?l.memoizedState:null;if(_.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Zc,Uo),Uo|=v;else{if(!(v&1073741824))return l=D!==null?D.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,dt(Zc,Uo),Uo|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=D!==null?D.baseLanes:v,dt(Zc,Uo),Uo|=_}else D!==null?(_=D.baseLanes|v,u.memoizedState=null):_=v,dt(Zc,Uo),Uo|=_;return ro(l,u,T,v),u.child}function zb(l,u){var v=u.ref;(l===null&&v!==null||l!==null&&l.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function nv(l,u,v,_,T){var D=Cr(v)?Fo:ir.current;return D=Ts(u,D),es(u,T),v=Ue(l,u,v,_,D,T),_=Ke(),l!==null&&!So?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~T,js(l,u,T)):(dn&&_&&Ji(u),u.flags|=1,ro(l,u,v,T),u.child)}function Bb(l,u,v,_,T){if(Cr(v)){var D=!0;Yi(u)}else D=!1;if(es(u,T),u.stateNode===null)Yh(l,u),Tb(u,v,_),J0(u,v,_,T),_=!0;else if(l===null){var H=u.stateNode,pe=u.memoizedProps;H.props=pe;var Se=H.context,Ge=v.contextType;typeof Ge=="object"&&Ge!==null?Ge=no(Ge):(Ge=Cr(v)?Fo:ir.current,Ge=Ts(u,Ge));var ut=v.getDerivedStateFromProps,Pt=typeof ut=="function"||typeof H.getSnapshotBeforeUpdate=="function";Pt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(pe!==_||Se!==Ge)&&Rb(u,H,_,Ge),Bo=!1;var nt=u.memoizedState;H.state=nt,jl(u,_,H,T),Se=u.memoizedState,pe!==_||nt!==Se||sr.current||Bo?(typeof ut=="function"&&(Z0(u,v,ut,_),Se=u.memoizedState),(pe=Bo||Pb(u,v,pe,_,nt,Se,Ge))?(Pt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(u.flags|=4194308)):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=Se),H.props=_,H.state=Se,H.context=Ge,_=pe):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{H=u.stateNode,Pn(l,u),pe=u.memoizedProps,Ge=u.type===u.elementType?pe:Ci(u.type,pe),H.props=Ge,Pt=u.pendingProps,nt=H.context,Se=v.contextType,typeof Se=="object"&&Se!==null?Se=no(Se):(Se=Cr(v)?Fo:ir.current,Se=Ts(u,Se));var bn=v.getDerivedStateFromProps;(ut=typeof bn=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(pe!==Pt||nt!==Se)&&Rb(u,H,_,Se),Bo=!1,nt=u.memoizedState,H.state=nt,jl(u,_,H,T);var gn=u.memoizedState;pe!==Pt||nt!==gn||sr.current||Bo?(typeof bn=="function"&&(Z0(u,v,bn,_),gn=u.memoizedState),(Ge=Bo||Pb(u,v,Ge,_,nt,gn,Se)||!1)?(ut||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(_,gn,Se),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(_,gn,Se)),typeof H.componentDidUpdate=="function"&&(u.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof H.componentDidUpdate!="function"||pe===l.memoizedProps&&nt===l.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||pe===l.memoizedProps&&nt===l.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=gn),H.props=_,H.state=gn,H.context=Se,_=Ge):(typeof H.componentDidUpdate!="function"||pe===l.memoizedProps&&nt===l.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||pe===l.memoizedProps&&nt===l.memoizedState||(u.flags|=1024),_=!1)}return rv(l,u,v,_,D,T)}function rv(l,u,v,_,T,D){zb(l,u);var H=(u.flags&128)!==0;if(!_&&!H)return T&&Rs(u,v,!1),js(l,u,D);_=u.stateNode,D7.current=u;var pe=H&&typeof v.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,l!==null&&H?(u.child=Ta(u,l.child,null,D),u.child=Ta(u,null,pe,D)):ro(l,u,pe,D),u.memoizedState=_.state,T&&Rs(u,v,!0),u.child}function $b(l){var u=l.stateNode;u.pendingContext?sn(l,u.pendingContext,u.pendingContext!==u.context):u.context&&sn(l,u.context,!1),b(l,u.containerInfo)}function Ub(l,u,v,_,T){return wo(),Dl(T),u.flags|=256,ro(l,u,v,_),u.child}var ov={dehydrated:null,treeContext:null,retryLane:0};function iv(l){return{baseLanes:l,cachePool:null,transitions:null}}function Gb(l,u,v){var _=u.pendingProps,T=L.current,D=!1,H=(u.flags&128)!==0,pe;if((pe=H)||(pe=l!==null&&l.memoizedState===null?!1:(T&2)!==0),pe?(D=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(T|=1),dt(L,T&1),l===null)return Bc(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(u.mode&1?yt(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(H=_.children,l=_.fallback,D?(_=u.mode,D=u.child,H={mode:"hidden",children:H},!(_&1)&&D!==null?(D.childLanes=0,D.pendingProps=H):D=hp(H,_,0,null),l=Ul(l,_,v,null),D.return=u,l.return=u,D.sibling=l,u.child=D,u.child.memoizedState=iv(v),u.memoizedState=ov,l):sv(u,H));if(T=l.memoizedState,T!==null&&(pe=T.dehydrated,pe!==null))return O7(l,u,H,_,pe,T,v);if(D){D=_.fallback,H=u.mode,T=l.child,pe=T.sibling;var Se={mode:"hidden",children:_.children};return!(H&1)&&u.child!==T?(_=u.child,_.childLanes=0,_.pendingProps=Se,u.deletions=null):(_=Oa(T,Se),_.subtreeFlags=T.subtreeFlags&14680064),pe!==null?D=Oa(pe,D):(D=Ul(D,H,v,null),D.flags|=2),D.return=u,_.return=u,_.sibling=D,u.child=_,_=D,D=u.child,H=l.child.memoizedState,H=H===null?iv(v):{baseLanes:H.baseLanes|v,cachePool:null,transitions:H.transitions},D.memoizedState=H,D.childLanes=l.childLanes&~v,u.memoizedState=ov,_}return D=l.child,l=D.sibling,_=Oa(D,{mode:"visible",children:_.children}),!(u.mode&1)&&(_.lanes=v),_.return=u,_.sibling=null,l!==null&&(v=u.deletions,v===null?(u.deletions=[l],u.flags|=16):v.push(l)),u.child=_,u.memoizedState=null,_}function sv(l,u){return u=hp({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Kh(l,u,v,_){return _!==null&&Dl(_),Ta(u,l.child,null,v),l=sv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function O7(l,u,v,_,T,D,H){if(v)return u.flags&256?(u.flags&=-257,_=ev(Error(s(422))),Kh(l,u,H,_)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(D=_.fallback,T=u.mode,_=hp({mode:"visible",children:_.children},T,0,null),D=Ul(D,T,H,null),D.flags|=2,_.return=u,D.return=u,_.sibling=D,u.child=_,u.mode&1&&Ta(u,l.child,null,H),u.child.memoizedState=iv(H),u.memoizedState=ov,D);if(!(u.mode&1))return Kh(l,u,H,null);if(yt(T))return _=$e(T).digest,D=Error(s(419)),_=ev(D,_,void 0),Kh(l,u,H,_);if(v=(H&l.childLanes)!==0,So||v){if(_=xr,_!==null){switch(H&-H){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(_.suspendedLanes|H)?0:T,T!==0&&T!==D.retryLane&&(D.retryLane=T,ni(l,T),ri(_,l,T,-1))}return Ev(),_=ev(Error(s(421))),Kh(l,u,H,_)}return ct(T)?(u.flags|=128,u.child=l.child,u=Y7.bind(null,l),et(T,u),null):(l=D.treeContext,Me&&(zr=rn(T),kr=u,dn=!0,Er=null,Bn=!1,l!==null&&(Fr[to++]=vo,Fr[to++]=yo,Fr[to++]=ti,vo=l.id,yo=l.overflow,ti=u)),u=sv(u,_.children),u.flags|=4096,u)}function Vb(l,u,v){l.lanes|=u;var _=l.alternate;_!==null&&(_.lanes|=u),Kc(l.return,u,v)}function av(l,u,v,_,T){var D=l.memoizedState;D===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:T}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=_,D.tail=v,D.tailMode=T)}function Hb(l,u,v){var _=u.pendingProps,T=_.revealOrder,D=_.tail;if(ro(l,u,_.children,v),_=L.current,_&2)_=_&1|2,u.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Vb(l,v,u);else if(l.tag===19)Vb(l,v,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(dt(L,_),!(u.mode&1))u.memoizedState=null;else switch(T){case"forwards":for(v=u.child,T=null;v!==null;)l=v.alternate,l!==null&&W(l)===null&&(T=v),v=v.sibling;v=T,v===null?(T=u.child,u.child=null):(T=v.sibling,v.sibling=null),av(u,!1,T,v,D);break;case"backwards":for(v=null,T=u.child,u.child=null;T!==null;){if(l=T.alternate,l!==null&&W(l)===null){u.child=T;break}l=T.sibling,T.sibling=v,v=T,T=l}av(u,!0,v,null,D);break;case"together":av(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Yh(l,u){!(u.mode&1)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function js(l,u,v){if(l!==null&&(u.dependencies=l.dependencies),Fl|=u.lanes,!(v&u.childLanes))return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(l=u.child,v=Oa(l,l.pendingProps),u.child=v,v.return=u;l.sibling!==null;)l=l.sibling,v=v.sibling=Oa(l,l.pendingProps),v.return=u;v.sibling=null}return u.child}function j7(l,u,v){switch(u.tag){case 3:$b(u),wo();break;case 5:I(u);break;case 1:Cr(u.type)&&Yi(u);break;case 4:b(u,u.stateNode.containerInfo);break;case 10:Bd(u,u.type._context,u.memoizedProps.value);break;case 13:var _=u.memoizedState;if(_!==null)return _.dehydrated!==null?(dt(L,L.current&1),u.flags|=128,null):v&u.child.childLanes?Gb(l,u,v):(dt(L,L.current&1),l=js(l,u,v),l!==null?l.sibling:null);dt(L,L.current&1);break;case 19:if(_=(v&u.childLanes)!==0,l.flags&128){if(_)return Hb(l,u,v);u.flags|=128}var T=u.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),dt(L,L.current),_)break;return null;case 22:case 23:return u.lanes=0,Fb(l,u,v)}return js(l,u,v)}function os(l){l.flags|=4}function Wb(l,u){if(l!==null&&l.child===u.child)return!0;if(u.flags&16)return!1;for(l=u.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var Gd,Vd,qh,Xh;if(ke)Gd=function(l,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)te(l,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Vd=function(){},qh=function(l,u,v,_,T){if(l=l.memoizedProps,l!==_){var D=u.stateNode,H=m(ar.current);v=He(D,v,l,_,T,H),(u.updateQueue=v)&&os(u)}},Xh=function(l,u,v,_){v!==_&&os(u)};else if(Ae){Gd=function(l,u,v,_){for(var T=u.child;T!==null;){if(T.tag===5){var D=T.stateNode;v&&_&&(D=Zt(D,T.type,T.memoizedProps,T)),te(l,D)}else if(T.tag===6)D=T.stateNode,v&&_&&(D=wn(D,T.memoizedProps,T)),te(l,D);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)D=T.child,D!==null&&(D.return=T),Gd(l,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===u)break;for(;T.sibling===null;){if(T.return===null||T.return===u)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var Kb=function(l,u,v,_){for(var T=u.child;T!==null;){if(T.tag===5){var D=T.stateNode;v&&_&&(D=Zt(D,T.type,T.memoizedProps,T)),Cs(l,D)}else if(T.tag===6)D=T.stateNode,v&&_&&(D=wn(D,T.memoizedProps,T)),Cs(l,D);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)D=T.child,D!==null&&(D.return=T),Kb(l,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===u)break;for(;T.sibling===null;){if(T.return===null||T.return===u)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};Vd=function(l,u){var v=u.stateNode;if(!Wb(l,u)){l=v.containerInfo;var _=or(l);Kb(_,u,!1,!1),v.pendingChildren=_,os(u),va(l,_)}},qh=function(l,u,v,_,T){var D=l.stateNode,H=l.memoizedProps;if((l=Wb(l,u))&&H===_)u.stateNode=D;else{var pe=u.stateNode,Se=m(ar.current),Ge=null;H!==_&&(Ge=He(pe,v,H,_,T,Se)),l&&Ge===null?u.stateNode=D:(D=wr(D,Ge,v,H,_,u,l,pe),de(D,v,_,T,Se)&&os(u),u.stateNode=D,l?os(u):Gd(D,u,!1,!1))}},Xh=function(l,u,v,_){v!==_?(l=m(Os.current),v=m(ar.current),u.stateNode=Ee(_,l,v,u),os(u)):u.stateNode=l.stateNode}}else Vd=function(){},qh=function(){},Xh=function(){};function Hd(l,u){if(!dn)switch(l.tailMode){case"hidden":u=l.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function $r(l){var u=l.alternate!==null&&l.alternate.child===l.child,v=0,_=0;if(u)for(var T=l.child;T!==null;)v|=T.lanes|T.childLanes,_|=T.subtreeFlags&14680064,_|=T.flags&14680064,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)v|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=_,l.childLanes=v,u}function L7(l,u,v){var _=u.pendingProps;switch(Il(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(u),null;case 1:return Cr(u.type)&&Pl(),$r(u),null;case 3:return v=u.stateNode,R(),un(sr),un(ir),oe(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(As(u)?os(u):l===null||l.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Er!==null&&(Cv(Er),Er=null))),Vd(l,u),$r(u),null;case 5:j(u),v=m(Os.current);var T=u.type;if(l!==null&&u.stateNode!=null)qh(l,u,T,_,v),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(s(166));return $r(u),null}if(l=m(ar.current),As(u)){if(!Me)throw Error(s(175));l=pt(u.stateNode,u.type,u.memoizedProps,v,l,u,!Bn),u.updateQueue=l,l!==null&&os(u)}else{var D=ie(T,_,v,l,u);Gd(D,u,!1,!1),u.stateNode=D,de(D,T,_,v,l)&&os(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return $r(u),null;case 6:if(l&&u.stateNode!=null)Xh(l,u,l.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(s(166));if(l=m(Os.current),v=m(ar.current),As(u)){if(!Me)throw Error(s(176));if(l=u.stateNode,v=u.memoizedProps,(_=Yn(l,v,u,!Bn))&&(T=kr,T!==null))switch(T.tag){case 3:Es(T.stateNode.containerInfo,l,v,(T.mode&1)!==0);break;case 5:bi(T.type,T.memoizedProps,T.stateNode,l,v,(T.mode&1)!==0)}_&&os(u)}else u.stateNode=Ee(_,l,v,u)}return $r(u),null;case 13:if(un(L),_=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(dn&&zr!==null&&u.mode&1&&!(u.flags&128))$c(),wo(),u.flags|=98560,T=!1;else if(T=As(u),_!==null&&_.dehydrated!==null){if(l===null){if(!T)throw Error(s(318));if(!Me)throw Error(s(344));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));Or(T,u)}else wo(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;$r(u),T=!1}else Er!==null&&(Cv(Er),Er=null),T=!0;if(!T)return u.flags&65536?u:null}return u.flags&128?(u.lanes=v,u):(v=_!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(u.child.flags|=8192,u.mode&1&&(l===null||L.current&1?ur===0&&(ur=3):Ev())),u.updateQueue!==null&&(u.flags|=4),$r(u),null);case 4:return R(),Vd(l,u),l===null&&Qe(u.stateNode.containerInfo),$r(u),null;case 10:return $d(u.type._context),$r(u),null;case 17:return Cr(u.type)&&Pl(),$r(u),null;case 19:if(un(L),T=u.memoizedState,T===null)return $r(u),null;if(_=(u.flags&128)!==0,D=T.rendering,D===null)if(_)Hd(T,!1);else{if(ur!==0||l!==null&&l.flags&128)for(l=u.child;l!==null;){if(D=W(l),D!==null){for(u.flags|=128,Hd(T,!1),l=D.updateQueue,l!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=v,v=u.child;v!==null;)_=v,T=l,_.flags&=14680066,D=_.alternate,D===null?(_.childLanes=0,_.lanes=T,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=D.childLanes,_.lanes=D.lanes,_.child=D.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=D.memoizedProps,_.memoizedState=D.memoizedState,_.updateQueue=D.updateQueue,_.type=D.type,T=D.dependencies,_.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),v=v.sibling;return dt(L,L.current&1|2),u.child}l=l.sibling}T.tail!==null&&mn()>xv&&(u.flags|=128,_=!0,Hd(T,!1),u.lanes=4194304)}else{if(!_)if(l=W(D),l!==null){if(u.flags|=128,_=!0,l=l.updateQueue,l!==null&&(u.updateQueue=l,u.flags|=4),Hd(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!dn)return $r(u),null}else 2*mn()-T.renderingStartTime>xv&&v!==1073741824&&(u.flags|=128,_=!0,Hd(T,!1),u.lanes=4194304);T.isBackwards?(D.sibling=u.child,u.child=D):(l=T.last,l!==null?l.sibling=D:u.child=D,T.last=D)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=mn(),u.sibling=null,l=L.current,dt(L,_?l&1|2:l&1),u):($r(u),null);case 22:case 23:return kv(),v=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(u.flags|=8192),v&&u.mode&1?Uo&1073741824&&($r(u),ke&&u.subtreeFlags&6&&(u.flags|=8192)):$r(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function F7(l,u){switch(Il(u),u.tag){case 1:return Cr(u.type)&&Pl(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return R(),un(sr),un(ir),oe(),l=u.flags,l&65536&&!(l&128)?(u.flags=l&-65537|128,u):null;case 5:return j(u),null;case 13:if(un(L),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));wo()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return un(L),null;case 4:return R(),null;case 10:return $d(u.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var Qh=!1,Ur=!1,z7=typeof WeakSet=="function"?WeakSet:Set,it=null;function Qc(l,u){var v=l.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(_){Tn(l,u,_)}else v.current=null}function lv(l,u,v){try{v()}catch(_){Tn(l,u,_)}}var Yb=!1;function B7(l,u){for(q(l.containerInfo),it=u;it!==null;)if(l=it,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,it=u;else for(;it!==null;){l=it;try{var v=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,T=v.memoizedState,D=l.stateNode,H=D.getSnapshotBeforeUpdate(l.elementType===l.type?_:Ci(l.type,_),T);D.__reactInternalSnapshotBeforeUpdate=H}break;case 3:ke&&ga(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(pe){Tn(l,l.return,pe)}if(u=l.sibling,u!==null){u.return=l.return,it=u;break}it=l.return}return v=Yb,Yb=!1,v}function Wd(l,u,v){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&l)===l){var D=T.destroy;T.destroy=void 0,D!==void 0&&lv(u,v,D)}T=T.next}while(T!==_)}}function Zh(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&l)===l){var _=v.create;v.destroy=_()}v=v.next}while(v!==u)}}function cv(l){var u=l.ref;if(u!==null){var v=l.stateNode;switch(l.tag){case 5:l=X(v);break;default:l=v}typeof u=="function"?u(l):u.current=l}}function qb(l){var u=l.alternate;u!==null&&(l.alternate=null,qb(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&je(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Xb(l){return l.tag===5||l.tag===3||l.tag===4}function Qb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Xb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function uv(l,u,v){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?po(v,l,u):At(v,l);else if(_!==4&&(l=l.child,l!==null))for(uv(l,u,v),l=l.sibling;l!==null;)uv(l,u,v),l=l.sibling}function dv(l,u,v){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?An(v,l,u):En(v,l);else if(_!==4&&(l=l.child,l!==null))for(dv(l,u,v),l=l.sibling;l!==null;)dv(l,u,v),l=l.sibling}var Pr=null,ki=!1;function is(l,u,v){for(v=v.child;v!==null;)fv(l,u,v),v=v.sibling}function fv(l,u,v){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(ba,v)}catch{}switch(v.tag){case 5:Ur||Qc(v,u);case 6:if(ke){var _=Pr,T=ki;Pr=null,is(l,u,v),Pr=_,ki=T,Pr!==null&&(ki?Je(Pr,v.stateNode):Xt(Pr,v.stateNode))}else is(l,u,v);break;case 18:ke&&Pr!==null&&(ki?Pd(Pr,v.stateNode):Lh(Pr,v.stateNode));break;case 4:ke?(_=Pr,T=ki,Pr=v.stateNode.containerInfo,ki=!0,is(l,u,v),Pr=_,ki=T):(Ae&&(_=v.stateNode.containerInfo,T=or(_),Ki(_,T)),is(l,u,v));break;case 0:case 11:case 14:case 15:if(!Ur&&(_=v.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){T=_=_.next;do{var D=T,H=D.destroy;D=D.tag,H!==void 0&&(D&2||D&4)&&lv(v,u,H),T=T.next}while(T!==_)}is(l,u,v);break;case 1:if(!Ur&&(Qc(v,u),_=v.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=v.memoizedProps,_.state=v.memoizedState,_.componentWillUnmount()}catch(pe){Tn(v,u,pe)}is(l,u,v);break;case 21:is(l,u,v);break;case 22:v.mode&1?(Ur=(_=Ur)||v.memoizedState!==null,is(l,u,v),Ur=_):is(l,u,v);break;default:is(l,u,v)}}function Zb(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var v=l.stateNode;v===null&&(v=l.stateNode=new z7),u.forEach(function(_){var T=q7.bind(null,l,_);v.has(_)||(v.add(_),_.then(T,T))})}}function Ei(l,u){var v=u.deletions;if(v!==null)for(var _=0;_<v.length;_++){var T=v[_];try{var D=l,H=u;if(ke){var pe=H;e:for(;pe!==null;){switch(pe.tag){case 5:Pr=pe.stateNode,ki=!1;break e;case 3:Pr=pe.stateNode.containerInfo,ki=!0;break e;case 4:Pr=pe.stateNode.containerInfo,ki=!0;break e}pe=pe.return}if(Pr===null)throw Error(s(160));fv(D,H,T),Pr=null,ki=!1}else fv(D,H,T);var Se=T.alternate;Se!==null&&(Se.return=null),T.return=null}catch(Ge){Tn(T,u,Ge)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Jb(u,l),u=u.sibling}function Jb(l,u){var v=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ei(u,l),ss(l),_&4){try{Wd(3,l,l.return),Zh(3,l)}catch(nt){Tn(l,l.return,nt)}try{Wd(5,l,l.return)}catch(nt){Tn(l,l.return,nt)}}break;case 1:Ei(u,l),ss(l),_&512&&v!==null&&Qc(v,v.return);break;case 5:if(Ei(u,l),ss(l),_&512&&v!==null&&Qc(v,v.return),ke){if(l.flags&32){var T=l.stateNode;try{Kn(T)}catch(nt){Tn(l,l.return,nt)}}if(_&4&&(T=l.stateNode,T!=null)){var D=l.memoizedProps;if(v=v!==null?v.memoizedProps:D,_=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{Dr(T,u,_,v,D,l)}catch(nt){Tn(l,l.return,nt)}}}break;case 6:if(Ei(u,l),ss(l),_&4&&ke){if(l.stateNode===null)throw Error(s(162));T=l.stateNode,D=l.memoizedProps,v=v!==null?v.memoizedProps:D;try{Wt(T,v,D)}catch(nt){Tn(l,l.return,nt)}}break;case 3:if(Ei(u,l),ss(l),_&4){if(ke&&Me&&v!==null&&v.memoizedState.isDehydrated)try{jh(u.containerInfo)}catch(nt){Tn(l,l.return,nt)}if(Ae){T=u.containerInfo,D=u.pendingChildren;try{Ki(T,D)}catch(nt){Tn(l,l.return,nt)}}}break;case 4:if(Ei(u,l),ss(l),_&4&&Ae){D=l.stateNode,T=D.containerInfo,D=D.pendingChildren;try{Ki(T,D)}catch(nt){Tn(l,l.return,nt)}}break;case 13:Ei(u,l),ss(l),T=l.child,T.flags&8192&&(D=T.memoizedState!==null,T.stateNode.isHidden=D,!D||T.alternate!==null&&T.alternate.memoizedState!==null||(wv=mn())),_&4&&Zb(l);break;case 22:var H=v!==null&&v.memoizedState!==null;if(l.mode&1?(Ur=(v=Ur)||H,Ei(u,l),Ur=v):Ei(u,l),ss(l),_&8192){if(v=l.memoizedState!==null,(l.stateNode.isHidden=v)&&!H&&l.mode&1)for(it=l,_=l.child;_!==null;){for(u=it=_;it!==null;){H=it;var pe=H.child;switch(H.tag){case 0:case 11:case 14:case 15:Wd(4,H,H.return);break;case 1:Qc(H,H.return);var Se=H.stateNode;if(typeof Se.componentWillUnmount=="function"){var Ge=H,ut=H.return;try{var Pt=Ge;Se.props=Pt.memoizedProps,Se.state=Pt.memoizedState,Se.componentWillUnmount()}catch(nt){Tn(Ge,ut,nt)}}break;case 5:Qc(H,H.return);break;case 22:if(H.memoizedState!==null){nS(u);continue}}pe!==null?(pe.return=H,it=pe):nS(u)}_=_.sibling}if(ke){e:if(_=null,ke)for(u=l;;){if(u.tag===5){if(_===null){_=u;try{T=u.stateNode,v?Zr(T):Xe(u.stateNode,u.memoizedProps)}catch(nt){Tn(l,l.return,nt)}}}else if(u.tag===6){if(_===null)try{D=u.stateNode,v?Zo(D):wi(D,u.memoizedProps)}catch(nt){Tn(l,l.return,nt)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;_===u&&(_=null),u=u.return}_===u&&(_=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Ei(u,l),ss(l),_&4&&Zb(l);break;case 21:break;default:Ei(u,l),ss(l)}}function ss(l){var u=l.flags;if(u&2){try{if(ke){e:{for(var v=l.return;v!==null;){if(Xb(v)){var _=v;break e}v=v.return}throw Error(s(160))}switch(_.tag){case 5:var T=_.stateNode;_.flags&32&&(Kn(T),_.flags&=-33);var D=Qb(l);dv(l,D,T);break;case 3:case 4:var H=_.stateNode.containerInfo,pe=Qb(l);uv(l,pe,H);break;default:throw Error(s(161))}}}catch(Se){Tn(l,l.return,Se)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function $7(l,u,v){it=l,eS(l)}function eS(l,u,v){for(var _=(l.mode&1)!==0;it!==null;){var T=it,D=T.child;if(T.tag===22&&_){var H=T.memoizedState!==null||Qh;if(!H){var pe=T.alternate,Se=pe!==null&&pe.memoizedState!==null||Ur;pe=Qh;var Ge=Ur;if(Qh=H,(Ur=Se)&&!Ge)for(it=T;it!==null;)H=it,Se=H.child,H.tag===22&&H.memoizedState!==null?rS(T):Se!==null?(Se.return=H,it=Se):rS(T);for(;D!==null;)it=D,eS(D),D=D.sibling;it=T,Qh=pe,Ur=Ge}tS(l)}else T.subtreeFlags&8772&&D!==null?(D.return=T,it=D):tS(l)}}function tS(l){for(;it!==null;){var u=it;if(u.flags&8772){var v=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Ur||Zh(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!Ur)if(v===null)_.componentDidMount();else{var T=u.elementType===u.type?v.memoizedProps:Ci(u.type,v.memoizedProps);_.componentDidUpdate(T,v.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var D=u.updateQueue;D!==null&&ns(u,D,_);break;case 3:var H=u.updateQueue;if(H!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=X(u.child.stateNode);break;case 1:v=u.child.stateNode}ns(u,H,v)}break;case 5:var pe=u.stateNode;v===null&&u.flags&4&&qt(pe,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(Me&&u.memoizedState===null){var Se=u.alternate;if(Se!==null){var Ge=Se.memoizedState;if(Ge!==null){var ut=Ge.dehydrated;ut!==null&&ks(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ur||u.flags&512&&cv(u)}catch(Pt){Tn(u,u.return,Pt)}}if(u===l){it=null;break}if(v=u.sibling,v!==null){v.return=u.return,it=v;break}it=u.return}}function nS(l){for(;it!==null;){var u=it;if(u===l){it=null;break}var v=u.sibling;if(v!==null){v.return=u.return,it=v;break}it=u.return}}function rS(l){for(;it!==null;){var u=it;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{Zh(4,u)}catch(Se){Tn(u,v,Se)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var T=u.return;try{_.componentDidMount()}catch(Se){Tn(u,T,Se)}}var D=u.return;try{cv(u)}catch(Se){Tn(u,D,Se)}break;case 5:var H=u.return;try{cv(u)}catch(Se){Tn(u,H,Se)}}}catch(Se){Tn(u,u.return,Se)}if(u===l){it=null;break}var pe=u.sibling;if(pe!==null){pe.return=u.return,it=pe;break}it=u.return}}var Jh=0,ep=1,tp=2,np=3,rp=4;if(typeof Symbol=="function"&&Symbol.for){var Kd=Symbol.for;Jh=Kd("selector.component"),ep=Kd("selector.has_pseudo_class"),tp=Kd("selector.role"),np=Kd("selector.test_id"),rp=Kd("selector.text")}function hv(l){var u=Ze(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if(l=ft(l),l===null)throw Error(s(362));return l.stateNode.current}function pv(l,u){switch(u.$$typeof){case Jh:if(l.type===u.value)return!0;break;case ep:e:{u=u.value,l=[l,0];for(var v=0;v<l.length;){var _=l[v++],T=l[v++],D=u[T];if(_.tag!==5||!Be(_)){for(;D!=null&&pv(_,D);)T++,D=u[T];if(T===u.length){u=!0;break e}else for(_=_.child;_!==null;)l.push(_,T),_=_.sibling}}u=!1}return u;case tp:if(l.tag===5&&at(l.stateNode,u.value))return!0;break;case rp:if((l.tag===5||l.tag===6)&&(l=xt(l),l!==null&&0<=l.indexOf(u.value)))return!0;break;case np:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function mv(l){switch(l.$$typeof){case Jh:return"<"+(z(l.value)||"Unknown")+">";case ep:return":has("+(mv(l)||"")+")";case tp:return'[role="'+l.value+'"]';case rp:return'"'+l.value+'"';case np:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function oS(l,u){var v=[];l=[l,0];for(var _=0;_<l.length;){var T=l[_++],D=l[_++],H=u[D];if(T.tag!==5||!Be(T)){for(;H!=null&&pv(T,H);)D++,H=u[D];if(D===u.length)v.push(T);else for(T=T.child;T!==null;)l.push(T,D),T=T.sibling}}return v}function gv(l,u){if(!lt)throw Error(s(363));l=hv(l),l=oS(l,u),u=[],l=Array.from(l);for(var v=0;v<l.length;){var _=l[v++];if(_.tag===5)Be(_)||u.push(_.stateNode);else for(_=_.child;_!==null;)l.push(_),_=_.sibling}return u}var U7=Math.ceil,op=a.ReactCurrentDispatcher,vv=a.ReactCurrentOwner,Zn=a.ReactCurrentBatchConfig,Ot=0,xr=null,nr=null,Tr=0,Uo=0,Zc=Lo(0),ur=0,Yd=null,Fl=0,ip=0,yv=0,qd=null,_o=null,wv=0,xv=1/0,Ls=null;function Jc(){xv=mn()+500}var sp=!1,bv=null,Aa=null,ap=!1,Ma=null,lp=0,Xd=0,Sv=null,cp=-1,up=0;function Gr(){return Ot&6?mn():cp!==-1?cp:cp=mn()}function Ia(l){return l.mode&1?Ot&2&&Tr!==0?Tr&-Tr:Ld.transition!==null?(up===0&&(up=jr()),up):(l=Ut,l!==0?l:cn()):1}function ri(l,u,v,_){if(50<Xd)throw Xd=0,Sv=null,Error(s(185));Xi(l,v,_),(!(Ot&2)||l!==xr)&&(l===xr&&(!(Ot&2)&&(ip|=v),ur===4&&Da(l,Tr)),Co(l,_),v===1&&Ot===0&&!(u.mode&1)&&(Jc(),Lc&&go()))}function Co(l,u){var v=l.callbackNode;q0(l,u);var _=Ft(l,l===xr?Tr:0);if(_===0)v!==null&&xa(v),l.callbackNode=null,l.callbackPriority=0;else if(u=_&-_,l.callbackPriority!==u){if(v!=null&&xa(v),u===1)l.tag===0?Fc(sS.bind(null,l)):Ml(sS.bind(null,l)),qe?ot(function(){!(Ot&6)&&go()}):mo(Md,go),v=null;else{switch(qn(_)){case 1:v=Md;break;case 4:v=ei;break;case 16:v=Al;break;case 536870912:v=Bh;break;default:v=Al}v=mS(v,iS.bind(null,l))}l.callbackPriority=u,l.callbackNode=v}}function iS(l,u){if(cp=-1,up=0,Ot&6)throw Error(s(327));var v=l.callbackNode;if($l()&&l.callbackNode!==v)return null;var _=Ft(l,l===xr?Tr:0);if(_===0)return null;if(_&30||_&l.expiredLanes||u)u=dp(l,_);else{u=_;var T=Ot;Ot|=2;var D=cS();(xr!==l||Tr!==u)&&(Ls=null,Jc(),zl(l,u));do try{H7();break}catch(pe){lS(l,pe)}while(!0);Wc(),op.current=D,Ot=T,nr!==null?u=0:(xr=null,Tr=0,u=ur)}if(u!==0){if(u===2&&(T=Nd(l),T!==0&&(_=T,u=_v(l,T))),u===1)throw v=Yd,zl(l,0),Da(l,_),Co(l,mn()),v;if(u===6)Da(l,_);else{if(T=l.current.alternate,!(_&30)&&!G7(T)&&(u=dp(l,_),u===2&&(D=Nd(l),D!==0&&(_=D,u=_v(l,D))),u===1))throw v=Yd,zl(l,0),Da(l,_),Co(l,mn()),v;switch(l.finishedWork=T,l.finishedLanes=_,u){case 0:case 1:throw Error(s(345));case 2:Bl(l,_o,Ls);break;case 3:if(Da(l,_),(_&130023424)===_&&(u=wv+500-mn(),10<u)){if(Ft(l,0)!==0)break;if(T=l.suspendedLanes,(T&_)!==_){Gr(),l.pingedLanes|=l.suspendedLanes&T;break}l.timeoutHandle=Q(Bl.bind(null,l,_o,Ls),u);break}Bl(l,_o,Ls);break;case 4:if(Da(l,_),(_&4194240)===_)break;for(u=l.eventTimes,T=-1;0<_;){var H=31-Jr(_);D=1<<H,H=u[H],H>T&&(T=H),_&=~D}if(_=T,_=mn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*U7(_/1960))-_,10<_){l.timeoutHandle=Q(Bl.bind(null,l,_o,Ls),_);break}Bl(l,_o,Ls);break;case 5:Bl(l,_o,Ls);break;default:throw Error(s(329))}}}return Co(l,mn()),l.callbackNode===v?iS.bind(null,l):null}function _v(l,u){var v=qd;return l.current.memoizedState.isDehydrated&&(zl(l,u).flags|=256),l=dp(l,u),l!==2&&(u=_o,_o=v,u!==null&&Cv(u)),l}function Cv(l){_o===null?_o=l:_o.push.apply(_o,l)}function G7(l){for(var u=l;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var _=0;_<v.length;_++){var T=v[_],D=T.getSnapshot;T=T.value;try{if(!zo(D(),T))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Da(l,u){for(u&=~yv,u&=~ip,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var v=31-Jr(u),_=1<<v;l[v]=-1,u&=~_}}function sS(l){if(Ot&6)throw Error(s(327));$l();var u=Ft(l,0);if(!(u&1))return Co(l,mn()),null;var v=dp(l,u);if(l.tag!==0&&v===2){var _=Nd(l);_!==0&&(u=_,v=_v(l,_))}if(v===1)throw v=Yd,zl(l,0),Da(l,u),Co(l,mn()),v;if(v===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Bl(l,_o,Ls),Co(l,mn()),null}function aS(l){Ma!==null&&Ma.tag===0&&!(Ot&6)&&$l();var u=Ot;Ot|=1;var v=Zn.transition,_=Ut;try{if(Zn.transition=null,Ut=1,l)return l()}finally{Ut=_,Zn.transition=v,Ot=u,!(Ot&6)&&go()}}function kv(){Uo=Zc.current,un(Zc)}function zl(l,u){l.finishedWork=null,l.finishedLanes=0;var v=l.timeoutHandle;if(v!==ve&&(l.timeoutHandle=ve,we(v)),nr!==null)for(v=nr.return;v!==null;){var _=v;switch(Il(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Pl();break;case 3:R(),un(sr),un(ir),oe();break;case 5:j(_);break;case 4:R();break;case 13:un(L);break;case 19:un(L);break;case 10:$d(_.type._context);break;case 22:case 23:kv()}v=v.return}if(xr=l,nr=l=Oa(l.current,null),Tr=Uo=u,ur=0,Yd=null,yv=ip=Fl=0,_o=qd=null,ts!==null){for(u=0;u<ts.length;u++)if(v=ts[u],_=v.interleaved,_!==null){v.interleaved=null;var T=_.next,D=v.pending;if(D!==null){var H=D.next;D.next=T,_.next=H}v.pending=_}ts=null}return l}function lS(l,u){do{var v=nr;try{if(Wc(),ae.current=Hh,ue){for(var _=ce.memoizedState;_!==null;){var T=_.queue;T!==null&&(T.pending=null),_=_.next}ue=!1}if(ee=0,se=re=ce=null,he=!1,ge=0,vv.current=null,v===null||v.return===null){ur=1,Yd=u,nr=null;break}e:{var D=l,H=v.return,pe=v,Se=u;if(u=Tr,pe.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ge=Se,ut=pe,Pt=ut.tag;if(!(ut.mode&1)&&(Pt===0||Pt===11||Pt===15)){var nt=ut.alternate;nt?(ut.updateQueue=nt.updateQueue,ut.memoizedState=nt.memoizedState,ut.lanes=nt.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var bn=Ib(H);if(bn!==null){bn.flags&=-257,Db(bn,H,pe,D,u),bn.mode&1&&Mb(D,Ge,u),u=bn,Se=Ge;var gn=u.updateQueue;if(gn===null){var ko=new Set;ko.add(Se),u.updateQueue=ko}else gn.add(Se);break e}else{if(!(u&1)){Mb(D,Ge,u),Ev();break e}Se=Error(s(426))}}else if(dn&&pe.mode&1){var Fs=Ib(H);if(Fs!==null){!(Fs.flags&65536)&&(Fs.flags|=256),Db(Fs,H,pe,D,u),Dl(Xc(Se,pe));break e}}D=Se=Xc(Se,pe),ur!==4&&(ur=2),qd===null?qd=[D]:qd.push(D),D=H;do{switch(D.tag){case 3:D.flags|=65536,u&=-u,D.lanes|=u;var xe=Nb(D,Se,u);qc(D,xe);break e;case 1:pe=Se;var me=D.type,Ce=D.stateNode;if(!(D.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Aa===null||!Aa.has(Ce)))){D.flags|=65536,u&=-u,D.lanes|=u;var rt=Ab(D,pe,u);qc(D,rt);break e}}D=D.return}while(D!==null)}dS(v)}catch(gt){u=gt,nr===v&&v!==null&&(nr=v=v.return);continue}break}while(!0)}function cS(){var l=op.current;return op.current=Hh,l===null?Hh:l}function Ev(){(ur===0||ur===3||ur===2)&&(ur=4),xr===null||!(Fl&268435455)&&!(ip&268435455)||Da(xr,Tr)}function dp(l,u){var v=Ot;Ot|=2;var _=cS();(xr!==l||Tr!==u)&&(Ls=null,zl(l,u));do try{V7();break}catch(T){lS(l,T)}while(!0);if(Wc(),Ot=v,op.current=_,nr!==null)throw Error(s(261));return xr=null,Tr=0,ur}function V7(){for(;nr!==null;)uS(nr)}function H7(){for(;nr!==null&&!Nl();)uS(nr)}function uS(l){var u=pS(l.alternate,l,Uo);l.memoizedProps=l.pendingProps,u===null?dS(l):nr=u,vv.current=null}function dS(l){var u=l;do{var v=u.alternate;if(l=u.return,u.flags&32768){if(v=F7(v,u),v!==null){v.flags&=32767,nr=v;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ur=6,nr=null;return}}else if(v=L7(v,u,Uo),v!==null){nr=v;return}if(u=u.sibling,u!==null){nr=u;return}nr=u=l}while(u!==null);ur===0&&(ur=5)}function Bl(l,u,v){var _=Ut,T=Zn.transition;try{Zn.transition=null,Ut=1,W7(l,u,v,_)}finally{Zn.transition=T,Ut=_}return null}function W7(l,u,v,_){do $l();while(Ma!==null);if(Ot&6)throw Error(s(327));v=l.finishedWork;var T=l.finishedLanes;if(v===null)return null;if(l.finishedWork=null,l.finishedLanes=0,v===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0;var D=v.lanes|v.childLanes;if(Qi(l,D),l===xr&&(nr=xr=null,Tr=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||ap||(ap=!0,mS(Al,function(){return $l(),null})),D=(v.flags&15990)!==0,v.subtreeFlags&15990||D){D=Zn.transition,Zn.transition=null;var H=Ut;Ut=1;var pe=Ot;Ot|=4,vv.current=null,B7(l,v),Jb(v,l),J(l.containerInfo),l.current=v,$7(v),Ad(),Ot=pe,Ut=H,Zn.transition=D}else l.current=v;if(ap&&(ap=!1,Ma=l,lp=T),D=l.pendingLanes,D===0&&(Aa=null),Id(v.stateNode),Co(l,mn()),u!==null)for(_=l.onRecoverableError,v=0;v<u.length;v++)T=u[v],_(T.value,{componentStack:T.stack,digest:T.digest});if(sp)throw sp=!1,l=bv,bv=null,l;return lp&1&&l.tag!==0&&$l(),D=l.pendingLanes,D&1?l===Sv?Xd++:(Xd=0,Sv=l):Xd=0,go(),null}function $l(){if(Ma!==null){var l=qn(lp),u=Zn.transition,v=Ut;try{if(Zn.transition=null,Ut=16>l?16:l,Ma===null)var _=!1;else{if(l=Ma,Ma=null,lp=0,Ot&6)throw Error(s(331));var T=Ot;for(Ot|=4,it=l.current;it!==null;){var D=it,H=D.child;if(it.flags&16){var pe=D.deletions;if(pe!==null){for(var Se=0;Se<pe.length;Se++){var Ge=pe[Se];for(it=Ge;it!==null;){var ut=it;switch(ut.tag){case 0:case 11:case 15:Wd(8,ut,D)}var Pt=ut.child;if(Pt!==null)Pt.return=ut,it=Pt;else for(;it!==null;){ut=it;var nt=ut.sibling,bn=ut.return;if(qb(ut),ut===Ge){it=null;break}if(nt!==null){nt.return=bn,it=nt;break}it=bn}}}var gn=D.alternate;if(gn!==null){var ko=gn.child;if(ko!==null){gn.child=null;do{var Fs=ko.sibling;ko.sibling=null,ko=Fs}while(ko!==null)}}it=D}}if(D.subtreeFlags&2064&&H!==null)H.return=D,it=H;else e:for(;it!==null;){if(D=it,D.flags&2048)switch(D.tag){case 0:case 11:case 15:Wd(9,D,D.return)}var xe=D.sibling;if(xe!==null){xe.return=D.return,it=xe;break e}it=D.return}}var me=l.current;for(it=me;it!==null;){H=it;var Ce=H.child;if(H.subtreeFlags&2064&&Ce!==null)Ce.return=H,it=Ce;else e:for(H=me;it!==null;){if(pe=it,pe.flags&2048)try{switch(pe.tag){case 0:case 11:case 15:Zh(9,pe)}}catch(gt){Tn(pe,pe.return,gt)}if(pe===H){it=null;break e}var rt=pe.sibling;if(rt!==null){rt.return=pe.return,it=rt;break e}it=pe.return}}if(Ot=T,go(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(ba,l)}catch{}_=!0}return _}finally{Ut=v,Zn.transition=u}}return!1}function fS(l,u,v){u=Xc(v,u),u=Nb(l,u,1),l=Xn(l,u,1),u=Gr(),l!==null&&(Xi(l,1,u),Co(l,u))}function Tn(l,u,v){if(l.tag===3)fS(l,l,v);else for(;u!==null;){if(u.tag===3){fS(u,l,v);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Aa===null||!Aa.has(_))){l=Xc(v,l),l=Ab(u,l,1),u=Xn(u,l,1),l=Gr(),u!==null&&(Xi(u,1,l),Co(u,l));break}}u=u.return}}function K7(l,u,v){var _=l.pingCache;_!==null&&_.delete(u),u=Gr(),l.pingedLanes|=l.suspendedLanes&v,xr===l&&(Tr&v)===v&&(ur===4||ur===3&&(Tr&130023424)===Tr&&500>mn()-wv?zl(l,0):yv|=v),Co(l,u)}function hS(l,u){u===0&&(l.mode&1?(u=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):u=1);var v=Gr();l=ni(l,u),l!==null&&(Xi(l,u,v),Co(l,v))}function Y7(l){var u=l.memoizedState,v=0;u!==null&&(v=u.retryLane),hS(l,v)}function q7(l,u){var v=0;switch(l.tag){case 13:var _=l.stateNode,T=l.memoizedState;T!==null&&(v=T.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(s(314))}_!==null&&_.delete(u),hS(l,v)}var pS;pS=function(l,u,v){if(l!==null)if(l.memoizedProps!==u.pendingProps||sr.current)So=!0;else{if(!(l.lanes&v)&&!(u.flags&128))return So=!1,j7(l,u,v);So=!!(l.flags&131072)}else So=!1,dn&&u.flags&1048576&&Uh(u,Ca,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;Yh(l,u),l=u.pendingProps;var T=Ts(u,ir.current);es(u,v),T=Ue(null,u,_,l,T,v);var D=Ke();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Cr(_)?(D=!0,Yi(u)):D=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,$o(u),T.updater=Wh,u.stateNode=T,T._reactInternals=u,J0(u,_,l,v),u=rv(null,u,_,!0,D,v)):(u.tag=0,dn&&D&&Ji(u),ro(null,u,T,v),u=u.child),u;case 16:_=u.elementType;e:{switch(Yh(l,u),l=u.pendingProps,T=_._init,_=T(_._payload),u.type=_,T=u.tag=Q7(_),l=Ci(_,l),T){case 0:u=nv(null,u,_,l,v);break e;case 1:u=Bb(null,u,_,l,v);break e;case 11:u=Ob(null,u,_,l,v);break e;case 14:u=jb(null,u,_,Ci(_.type,l),v);break e}throw Error(s(306,_,""))}return u;case 0:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Ci(_,T),nv(l,u,_,T,v);case 1:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Ci(_,T),Bb(l,u,_,T,v);case 3:e:{if($b(u),l===null)throw Error(s(387));_=u.pendingProps,D=u.memoizedState,T=D.element,Pn(l,u),jl(u,_,null,v);var H=u.memoizedState;if(_=H.element,Me&&D.isDehydrated)if(D={element:_,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){T=Xc(Error(s(423)),u),u=Ub(l,u,_,v,T);break e}else if(_!==T){T=Xc(Error(s(424)),u),u=Ub(l,u,_,v,T);break e}else for(Me&&(zr=xn(u.stateNode.containerInfo),kr=u,dn=!0,Er=null,Bn=!1),v=Vc(u,null,_,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(wo(),_===T){u=js(l,u,v);break e}ro(l,u,_,v)}u=u.child}return u;case 5:return I(u),l===null&&Bc(u),_=u.type,T=u.pendingProps,D=l!==null?l.memoizedProps:null,H=T.children,Te(_,T)?H=null:D!==null&&Te(_,D)&&(u.flags|=32),zb(l,u),ro(l,u,H,v),u.child;case 6:return l===null&&Bc(u),null;case 13:return Gb(l,u,v);case 4:return b(u,u.stateNode.containerInfo),_=u.pendingProps,l===null?u.child=Ta(u,null,_,v):ro(l,u,_,v),u.child;case 11:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Ci(_,T),Ob(l,u,_,T,v);case 7:return ro(l,u,u.pendingProps,v),u.child;case 8:return ro(l,u,u.pendingProps.children,v),u.child;case 12:return ro(l,u,u.pendingProps.children,v),u.child;case 10:e:{if(_=u.type._context,T=u.pendingProps,D=u.memoizedProps,H=T.value,Bd(u,_,H),D!==null)if(zo(D.value,H)){if(D.children===T.children&&!sr.current){u=js(l,u,v);break e}}else for(D=u.child,D!==null&&(D.return=u);D!==null;){var pe=D.dependencies;if(pe!==null){H=D.child;for(var Se=pe.firstContext;Se!==null;){if(Se.context===_){if(D.tag===1){Se=xo(-1,v&-v),Se.tag=2;var Ge=D.updateQueue;if(Ge!==null){Ge=Ge.shared;var ut=Ge.pending;ut===null?Se.next=Se:(Se.next=ut.next,ut.next=Se),Ge.pending=Se}}D.lanes|=v,Se=D.alternate,Se!==null&&(Se.lanes|=v),Kc(D.return,v,u),pe.lanes|=v;break}Se=Se.next}}else if(D.tag===10)H=D.type===u.type?null:D.child;else if(D.tag===18){if(H=D.return,H===null)throw Error(s(341));H.lanes|=v,pe=H.alternate,pe!==null&&(pe.lanes|=v),Kc(H,v,u),H=D.sibling}else H=D.child;if(H!==null)H.return=D;else for(H=D;H!==null;){if(H===u){H=null;break}if(D=H.sibling,D!==null){D.return=H.return,H=D;break}H=H.return}D=H}ro(l,u,T.children,v),u=u.child}return u;case 9:return T=u.type,_=u.pendingProps.children,es(u,v),T=no(T),_=_(T),u.flags|=1,ro(l,u,_,v),u.child;case 14:return _=u.type,T=Ci(_,u.pendingProps),T=Ci(_.type,T),jb(l,u,_,T,v);case 15:return Lb(l,u,u.type,u.pendingProps,v);case 17:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Ci(_,T),Yh(l,u),u.tag=1,Cr(_)?(l=!0,Yi(u)):l=!1,es(u,v),Tb(u,_,T),J0(u,_,T,v),rv(null,u,_,!0,l,v);case 19:return Hb(l,u,v);case 22:return Fb(l,u,v)}throw Error(s(156,u.tag))};function mS(l,u){return mo(l,u)}function X7(l,u,v,_){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(l,u,v,_){return new X7(l,u,v,_)}function Pv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Q7(l){if(typeof l=="function")return Pv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===S)return 11;if(l===P)return 14}return 2}function Oa(l,u){var v=l.alternate;return v===null?(v=oi(l.tag,u,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=u,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&14680064,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,u=l.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v}function fp(l,u,v,_,T,D){var H=2;if(_=l,typeof l=="function")Pv(l)&&(H=1);else if(typeof l=="string")H=5;else e:switch(l){case d:return Ul(v.children,T,D,u);case h:H=8,T|=8;break;case p:return l=oi(12,v,u,T|2),l.elementType=p,l.lanes=D,l;case C:return l=oi(13,v,u,T),l.elementType=C,l.lanes=D,l;case k:return l=oi(19,v,u,T),l.elementType=k,l.lanes=D,l;case E:return hp(v,T,D,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case g:H=10;break e;case w:H=9;break e;case S:H=11;break e;case P:H=14;break e;case y:H=16,_=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return u=oi(H,v,u,T),u.elementType=l,u.type=_,u.lanes=D,u}function Ul(l,u,v,_){return l=oi(7,l,_,u),l.lanes=v,l}function hp(l,u,v,_){return l=oi(22,l,_,u),l.elementType=E,l.lanes=v,l.stateNode={isHidden:!1},l}function Tv(l,u,v){return l=oi(6,l,null,u),l.lanes=v,l}function Rv(l,u,v){return u=oi(4,l.children!==null?l.children:[],l.key,u),u.lanes=v,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Z7(l,u,v,_,T){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qi(0),this.expirationTimes=qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.identifierPrefix=_,this.onRecoverableError=T,Me&&(this.mutableSourceEagerHydrationData=null)}function gS(l,u,v,_,T,D,H,pe,Se){return l=new Z7(l,u,v,pe,Se),u===1?(u=1,D===!0&&(u|=8)):u=0,D=oi(3,null,null,u),l.current=D,D.stateNode=l,D.memoizedState={element:_,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(D),l}function vS(l){if(!l)return _i;l=l._reactInternals;e:{if(V(l)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Cr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var v=l.type;if(Cr(v))return wa(l,v,u)}return u}function yS(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=F(u),l===null?null:l.stateNode}function wS(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<u?v:u}}function pp(l,u){wS(l,u),(l=l.alternate)&&wS(l,u)}function J7(l){return l=F(l),l===null?null:l.stateNode}function eE(){return null}return n.attemptContinuousHydration=function(l){if(l.tag===13){var u=ni(l,134217728);if(u!==null){var v=Gr();ri(u,l,134217728,v)}pp(l,134217728)}},n.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ni(l,1);if(u!==null){var v=Gr();ri(u,l,1,v)}pp(l,1)}},n.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Ia(l),v=ni(l,u);if(v!==null){var _=Gr();ri(v,l,u,_)}pp(l,u)}},n.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var v=Rl(u.pendingLanes);v!==0&&(jc(u,v|1),Co(u,mn()),!(Ot&6)&&(Jc(),go()))}break;case 13:aS(function(){var _=ni(l,1);if(_!==null){var T=Gr();ri(_,l,1,T)}}),pp(l,1)}},n.batchedUpdates=function(l,u){var v=Ot;Ot|=1;try{return l(u)}finally{Ot=v,Ot===0&&(Jc(),Lc&&go())}},n.createComponentSelector=function(l){return{$$typeof:Jh,value:l}},n.createContainer=function(l,u,v,_,T,D,H){return gS(l,u,!1,null,v,_,T,D,H)},n.createHasPseudoClassSelector=function(l){return{$$typeof:ep,value:l}},n.createHydrationContainer=function(l,u,v,_,T,D,H,pe,Se){return l=gS(v,_,!0,l,T,D,H,pe,Se),l.context=vS(null),v=l.current,_=Gr(),T=Ia(v),D=xo(_,T),D.callback=u??null,Xn(v,D,T),l.current.lanes=T,Xi(l,T,_),Co(l,_),l},n.createPortal=function(l,u,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:_==null?null:""+_,children:l,containerInfo:u,implementation:v}},n.createRoleSelector=function(l){return{$$typeof:tp,value:l}},n.createTestNameSelector=function(l){return{$$typeof:np,value:l}},n.createTextSelector=function(l){return{$$typeof:rp,value:l}},n.deferredUpdates=function(l){var u=Ut,v=Zn.transition;try{return Zn.transition=null,Ut=16,l()}finally{Ut=u,Zn.transition=v}},n.discreteUpdates=function(l,u,v,_,T){var D=Ut,H=Zn.transition;try{return Zn.transition=null,Ut=1,l(u,v,_,T)}finally{Ut=D,Zn.transition=H,Ot===0&&Jc()}},n.findAllNodes=gv,n.findBoundingRects=function(l,u){if(!lt)throw Error(s(363));u=gv(l,u),l=[];for(var v=0;v<u.length;v++)l.push(Ct(u[v]));for(u=l.length-1;0<u;u--){v=l[u];for(var _=v.x,T=_+v.width,D=v.y,H=D+v.height,pe=u-1;0<=pe;pe--)if(u!==pe){var Se=l[pe],Ge=Se.x,ut=Ge+Se.width,Pt=Se.y,nt=Pt+Se.height;if(_>=Ge&&D>=Pt&&T<=ut&&H<=nt){l.splice(u,1);break}else if(_!==Ge||v.width!==Se.width||nt<D||Pt>H){if(!(D!==Pt||v.height!==Se.height||ut<_||Ge>T)){Ge>_&&(Se.width+=Ge-_,Se.x=_),ut<T&&(Se.width=T-Ge),l.splice(u,1);break}}else{Pt>D&&(Se.height+=Pt-D,Se.y=D),nt<H&&(Se.height=H-Pt),l.splice(u,1);break}}}return l},n.findHostInstance=yS,n.findHostInstanceWithNoPortals=function(l){return l=U(l),l=l!==null?ne(l):null,l===null?null:l.stateNode},n.findHostInstanceWithWarning=function(l){return yS(l)},n.flushControlled=function(l){var u=Ot;Ot|=1;var v=Zn.transition,_=Ut;try{Zn.transition=null,Ut=1,l()}finally{Ut=_,Zn.transition=v,Ot=u,Ot===0&&(Jc(),go())}},n.flushPassiveEffects=$l,n.flushSync=aS,n.focusWithin=function(l,u){if(!lt)throw Error(s(363));for(l=hv(l),u=oS(l,u),u=Array.from(u),l=0;l<u.length;){var v=u[l++];if(!Be(v)){if(v.tag===5&&kt(v.stateNode))return!0;for(v=v.child;v!==null;)u.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Ut},n.getFindAllNodesFailureDescription=function(l,u){if(!lt)throw Error(s(363));var v=0,_=[];l=[hv(l),0];for(var T=0;T<l.length;){var D=l[T++],H=l[T++],pe=u[H];if((D.tag!==5||!Be(D))&&(pv(D,pe)&&(_.push(mv(pe)),H++,H>v&&(v=H)),H<u.length))for(D=D.child;D!==null;)l.push(D,H),D=D.sibling}if(v<u.length){for(l=[];v<u.length;v++)l.push(mv(u[v]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},n.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return X(l.child.stateNode);default:return l.child.stateNode}},n.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:J7,findFiberByHostInstance:l.findFiberByHostInstance||eE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{ba=u.inject(l),Lr=u}catch{}l=!!u.checkDCE}}return l},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(l,u,v,_){if(!lt)throw Error(s(363));l=gv(l,u);var T=tn(l,v,_).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(l,u){var v=u._getVersion;v=v(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,v]:l.mutableSourceEagerHydrationData.push(u,v)},n.runWithPriority=function(l,u){var v=Ut;try{return Ut=l,u()}finally{Ut=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(l,u,v,_){var T=u.current,D=Gr(),H=Ia(T);return v=vS(v),u.context===null?u.context=v:u.pendingContext=v,u=xo(D,H),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Xn(T,u,H),l!==null&&(ri(l,T,H,D),Yc(l,T,H)),H},n};h7.exports=fV;var hV=h7.exports;const pV=dl(hV);var p7={exports:{}},Ic={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ic.ConcurrentRoot=1;Ic.ContinuousEventPriority=4;Ic.DefaultEventPriority=16;Ic.DiscreteEventPriority=1;Ic.IdleEventPriority=536870912;Ic.LegacyRoot=0;p7.exports=Ic;var m7=p7.exports;const Y5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let q5=!1,X5=!1;const hb=".react-konva-event",mV=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,gV=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,vV={};function Y0(e,t,n=vV){if(!q5&&"zIndex"in t&&(console.warn(gV),q5=!0),!X5&&t.draggable){var r=t.x!==void 0||t.y!==void 0,o=t.onDragEnd||t.onDragMove;r&&!o&&(console.warn(mV),X5=!0)}for(var i in n)if(!Y5[i]){var s=i.slice(0,2)==="on",a=n[i]!==t[i];if(s&&a){var c=i.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e.off(c,n[i])}var f=!t.hasOwnProperty(i);f&&e.setAttr(i,void 0)}var d=t._useStrictMode,h={},p=!1;const g={};for(var i in t)if(!Y5[i]){var s=i.slice(0,2)==="on",w=n[i]!==t[i];if(s&&w){var c=i.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t[i]&&(g[c]=t[i])}!s&&(t[i]!==n[i]||d&&t[i]!==e.getAttr(i))&&(p=!0,h[i]=t[i])}p&&(e.setAttrs(h),kl(e));for(var c in g)e.on(c+hb,g[c])}function kl(e){if(!Dt.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const g7={},yV={};ph.Node.prototype._applyProps=Y0;function wV(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),kl(e)}function xV(e,t,n){let r=ph[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=ph.Group);const o={},i={};for(var s in t){var a=s.slice(0,2)==="on";a?i[s]=t[s]:o[s]=t[s]}const c=new r(o);return Y0(c,i),c}function bV(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function SV(e,t,n){return!1}function _V(e){return e}function CV(){return null}function kV(){return null}function EV(e,t,n,r){return yV}function PV(){}function TV(e){}function RV(e,t){return!1}function NV(){return g7}function AV(){return g7}const MV=setTimeout,IV=clearTimeout,DV=-1;function OV(e,t){return!1}const jV=!1,LV=!0,FV=!0;function zV(e,t){t.parent===e?t.moveToTop():e.add(t),kl(e)}function BV(e,t){t.parent===e?t.moveToTop():e.add(t),kl(e)}function v7(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),kl(e)}function $V(e,t,n){v7(e,t,n)}function UV(e,t){t.destroy(),t.off(hb),kl(e)}function GV(e,t){t.destroy(),t.off(hb),kl(e)}function VV(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function HV(e,t,n){}function WV(e,t,n,r,o){Y0(e,o,r)}function KV(e){e.hide(),kl(e)}function YV(e){}function qV(e,t){(t.visible==null||t.visible)&&e.show()}function XV(e,t){}function QV(e){}function ZV(){}const JV=()=>m7.DefaultEventPriority,eH=Object.freeze(Object.defineProperty({__proto__:null,appendChild:zV,appendChildToContainer:BV,appendInitialChild:wV,cancelTimeout:IV,clearContainer:QV,commitMount:HV,commitTextUpdate:VV,commitUpdate:WV,createInstance:xV,createTextInstance:bV,detachDeletedInstance:ZV,finalizeInitialChildren:SV,getChildHostContext:AV,getCurrentEventPriority:JV,getPublicInstance:_V,getRootHostContext:NV,hideInstance:KV,hideTextInstance:YV,idlePriority:Pf.unstable_IdlePriority,insertBefore:v7,insertInContainerBefore:$V,isPrimaryRenderer:jV,noTimeout:DV,now:Pf.unstable_now,prepareForCommit:CV,preparePortalMount:kV,prepareUpdate:EV,removeChild:UV,removeChildFromContainer:GV,resetAfterCommit:PV,resetTextContent:TV,run:Pf.unstable_runWithPriority,scheduleTimeout:MV,shouldDeprioritizeSubtree:RV,shouldSetTextContent:OV,supportsMutation:FV,unhideInstance:qV,unhideTextInstance:XV,warnsIfNotActing:LV},Symbol.toStringTag,{value:"Module"}));var tH=Object.defineProperty,nH=Object.defineProperties,rH=Object.getOwnPropertyDescriptors,Q5=Object.getOwnPropertySymbols,oH=Object.prototype.hasOwnProperty,iH=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?tH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J5=(e,t)=>{for(var n in t||(t={}))oH.call(t,n)&&Z5(e,n,t[n]);if(Q5)for(var n of Q5(t))iH.call(t,n)&&Z5(e,n,t[n]);return e},sH=(e,t)=>nH(e,rH(t)),e4,t4;typeof window<"u"&&((e4=window.document)!=null&&e4.createElement||((t4=window.navigator)==null?void 0:t4.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function y7(e,t,n){if(!e)return;if(n(e)===!0)return e;let r=e.child;for(;r;){const o=y7(r,t,n);if(o)return o;r=r.sibling}}function w7(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const n4=console.error;console.error=function(){const e=[...arguments].join("");if(e!=null&&e.startsWith("Warning:")&&e.includes("useContext")){console.error=n4;return}return n4.apply(this,arguments)};const pb=w7(N.createContext(null));class x7 extends N.Component{render(){return N.createElement(pb.Provider,{value:this._reactInternals},this.props.children)}}function aH(){const e=N.useContext(pb);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=N.useId();return N.useMemo(()=>{for(const r of[e,e==null?void 0:e.alternate]){if(!r)continue;const o=y7(r,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}});if(o)return o}},[e,t])}function lH(){const e=aH(),[t]=N.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&typeof n.type=="object"){const o=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;o&&o!==pb&&!t.has(o)&&t.set(o,N.useContext(w7(o)))}n=n.return}return t}function cH(){const e=lH();return N.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>N.createElement(t,null,N.createElement(n.Provider,sH(J5({},r),{value:e.get(n)}))),t=>N.createElement(x7,J5({},t))),[e])}function uH(e){const t=Rt.useRef({});return Rt.useLayoutEffect(()=>{t.current=e}),Rt.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const dH=e=>{const t=Rt.useRef(null),n=Rt.useRef(null),r=Rt.useRef(null),o=uH(e),i=cH(),s=a=>{const{forwardedRef:c}=e;c&&(typeof c=="function"?c(a):c.current=a)};return Rt.useLayoutEffect(()=>(n.current=new ph.Stage({width:e.width,height:e.height,container:t.current}),s(n.current),r.current=Ef.createContainer(n.current,m7.LegacyRoot,!1,null),Ef.updateContainer(Rt.createElement(i,{},e.children),r.current),()=>{ph.isBrowser&&(s(null),Ef.updateContainer(null,r.current,null),n.current.destroy())}),[]),Rt.useLayoutEffect(()=>{s(n.current),Y0(n.current,e,o),Ef.updateContainer(Rt.createElement(i,{},e.children),r.current,null)}),Rt.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},pf="Layer",li="Group",To="Rect",Ii="Circle",b7="Ellipse",Ka="Line",S7="Image",Ya="Text",fH="Path",_7="Arrow",hH="Shape",Ef=pV(eH);Ef.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Rt.version,rendererPackageName:"react-konva"});const pH=Rt.forwardRef((e,t)=>Rt.createElement(x7,{},Rt.createElement(dH,{...e,forwardedRef:t})));function mH(e={}){const t=N.useRef([]),{game:n,selectedElementIds:r,addElements:o,deleteElements:i,selectElements:s,viewportOffset:a,viewportScale:c}=hr(),f=N.useCallback(C=>{if(!n||C.length===0)return;const k=n.elements.filter(P=>C.includes(P.id));if(k.length!==0)return t.current=k.map(P=>({...P})),e.onCopy&&e.onCopy(k.length),k.length},[n,e]),d=N.useCallback(C=>{if(!n||C.length===0)return;const k=n.elements.filter(P=>C.includes(P.id));if(k.length!==0)return t.current=k.map(P=>({...P})),i(C),e.onCut&&e.onCut(k.length),k.length},[n,i,e]),h=N.useCallback(C=>{if(!n||t.current.length===0)return;let k=0,P=0;if(C)k=(C.x-a.x)/c,P=(C.y-a.y)/c;else{const K=n.gridSettings.width*n.gridSettings.cellSize,ne=n.gridSettings.height*n.gridSettings.cellSize;k=K/2,P=ne/2}const y=t.current.reduce((K,ne)=>{const G=ne.x,X=ne.y;return{minX:Math.min(K.minX,G),minY:Math.min(K.minY,X),maxX:Math.max(K.maxX,G),maxY:Math.max(K.maxY,X)}},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),E=(y.minX+y.maxX)/2,M=(y.minY+y.maxY)/2,A=k-E,z=P-M,O=10,V=A+(Math.random()-.5)*O,B=z+(Math.random()-.5)*O,U=t.current.map(K=>{const{id:ne,...G}=K;let X={...G,x:K.x+V,y:K.y+B,zIndex:n.elements.length+1};if(X.type==="token"&&"name"in X){const Y=X.name||"Token";Y.includes("(Copy)")||(X.name=`${Y} (Copy)`)}return X}),F=o(U);return s(F),e.onPaste&&e.onPaste(F.length),F.length},[n,o,s,a,c,e]),p=N.useCallback(()=>t.current.length>0,[]),g=N.useCallback(()=>{t.current=[]},[]),w=N.useCallback(()=>f(r),[f,r]),S=N.useCallback(()=>d(r),[d,r]);return{copyElements:f,cutElements:d,pasteElements:h,copySelected:w,cutSelected:S,hasClipboard:p,clearClipboard:g,clipboardCount:t.current.length}}function gH({opened:e,onClose:t,onSubmit:n}){const{settings:r}=hr(),[o,i]=N.useState(""),[s,a]=N.useState(""),[c,f]=N.useState(r.defaultTokenSize),[d,h]=N.useState(r.defaultHP.max),[p,g]=N.useState("");N.useEffect(()=>{e&&(i(""),a(""),f(r.defaultTokenSize),h(r.defaultHP.max),g(""))},[e,r.defaultTokenSize,r.defaultHP.max]);const w=()=>{if(!o.trim())return;const C={name:o.trim(),imageUrl:s.trim(),size:c};d&&typeof d=="number"&&d>0&&(C.hp={current:d,max:d}),p&&typeof p=="number"&&(C.ac=p),n(C),t()},S=C=>{C.key==="Enter"&&o.trim()&&w()};return x.jsx(jo,{opened:e,onClose:t,title:"Configure Token",size:"md",children:x.jsxs($t,{gap:"md",children:[x.jsx(Nr,{label:"Token Name",placeholder:"Enter token name",value:o,onChange:C=>i(C.currentTarget.value),onKeyPress:S,required:!0,autoFocus:!0,"data-autofocus":!0}),x.jsx(Nr,{label:"Image URL",placeholder:"https://example.com/token.png (optional)",value:s,onChange:C=>a(C.currentTarget.value),onKeyPress:S}),x.jsx(fn,{label:"Size (grid cells)",placeholder:"1",value:c,onChange:C=>f(Number(C)||1),min:1,max:10,required:!0}),x.jsxs(vt,{grow:!0,children:[x.jsx(fn,{label:"HP",placeholder:"Optional",value:d,onChange:h,min:1}),x.jsx(fn,{label:"AC",placeholder:"Optional",value:p,onChange:g,min:0})]}),x.jsxs(vt,{justify:"flex-end",mt:"md",children:[x.jsx(Kt,{variant:"subtle",onClick:t,children:"Cancel"}),x.jsx(Kt,{onClick:w,disabled:!o.trim(),children:"Place Token"})]})]})})}function vH({opened:e,onClose:t,onSubmit:n,initialText:r=""}){const[o,i]=N.useState(r);N.useEffect(()=>{e&&i(r)},[e,r]);const s=()=>{o.trim()&&(n(o),i(""),t())},a=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),s())};return x.jsx(jo,{opened:e,onClose:t,title:"Add Text",size:"md",centered:!0,children:x.jsxs($t,{gap:"md",children:[x.jsx(Ph,{placeholder:"Enter text...",value:o,onChange:c=>i(c.currentTarget.value),onKeyDown:a,autosize:!0,minRows:3,maxRows:8,autoFocus:!0,"data-autofocus":!0}),x.jsxs(vt,{justify:"flex-end",gap:"xs",children:[x.jsx(Kt,{variant:"subtle",onClick:t,children:"Cancel"}),x.jsx(Kt,{onClick:s,disabled:!o.trim(),children:"Add Text"})]})]})})}function C7(e){const[t,n]=N.useState(null),[r,o]=N.useState(!1);return N.useEffect(()=>{if(!e)return;const i=new window.Image;i.crossOrigin="anonymous",i.onload=()=>{n(i),o(!0)},i.onerror=()=>{console.error("Failed to load image:",e),o(!0)},i.src=e},[e]),[t,r]}function r4({element:e,cellSize:t,isSelected:n,isCurrentTurn:r,onSelect:o,onShiftSelect:i,onDragEnd:s,isDM:a,showMetadata:c=!0}){const[f]=C7(e.imageUrl),d=e.width*t,h=e.height*t;if(!(e.visibleTo==="all"||a&&(e.visibleTo==="dm"||Array.isArray(e.visibleTo))))return null;const g=e.hp?e.hp.current/e.hp.max:1,w=g>.66?"#22c55e":g>.33?"#f59e0b":"#ef4444",S=Math.max(.5,Math.min(1,d/50)),C=12*S,k=20*S,P=16*S,y=E=>{E.evt.shiftKey?i():o()};return x.jsxs(li,{x:e.x,y:e.y,draggable:!e.locked,onClick:y,onTap:o,onDragEnd:E=>{const M=E.target;s(M.x(),M.y())},children:[f?x.jsx(S7,{image:f,width:d,height:h,cornerRadius:d/2}):x.jsx(Ii,{x:d/2,y:h/2,radius:d/2,fill:"#6366f1"}),n&&x.jsx(To,{x:-2,y:-2,width:d+4,height:h+4,stroke:"#22c55e",strokeWidth:2,cornerRadius:d/2,listening:!1}),r&&x.jsx(Ii,{x:d/2,y:h/2,radius:d/2+4,stroke:"#fbbf24",strokeWidth:3,dash:[8,4],listening:!1}),c&&x.jsxs(x.Fragment,{children:[e.name&&x.jsxs(li,{y:h+2,children:[x.jsx(To,{x:-2,y:0,width:d+4,height:C+6,fill:"rgba(0, 0, 0, 0.7)",cornerRadius:3}),x.jsx(Ya,{x:0,y:3,width:d,text:e.name,fontSize:C,fill:"white",align:"center",fontStyle:"bold"})]}),e.hp&&x.jsxs(li,{y:h+(e.name?C+10:4),children:[x.jsx(To,{width:d,height:6*S,fill:"#1f2937",cornerRadius:3}),x.jsx(To,{width:g*d,height:6*S,fill:w,cornerRadius:3}),x.jsx(Ya,{x:0,y:8*S,width:d,text:`${e.hp.current}/${e.hp.max}`,fontSize:C*.85,fill:"white",align:"center",fontStyle:"bold",shadowColor:"black",shadowBlur:3,shadowOffsetX:1,shadowOffsetY:1})]}),e.ac!==void 0&&x.jsxs(li,{x:d-k/2,y:k/2,children:[x.jsx(Ii,{radius:k/2,fill:"#3b82f6",stroke:"#1e40af",strokeWidth:1.5}),x.jsx(Ya,{x:-k/2,y:-k/2,width:k,height:k,text:String(e.ac),fontSize:C*.9,fill:"white",align:"center",verticalAlign:"middle",fontStyle:"bold"})]}),e.conditions&&e.conditions.length>0&&x.jsx(x.Fragment,{children:e.conditions.slice(0,6).map((E,M)=>{const A=M/Math.min(e.conditions.length,6)*Math.PI*2-Math.PI/2,z=d/2+P,O=d/2+Math.cos(A)*z,V=h/2+Math.sin(A)*z,U={poisoned:"#10b981",stunned:"#f59e0b",paralyzed:"#6366f1",charmed:"#ec4899",frightened:"#8b5cf6",restrained:"#ef4444",blinded:"#64748b",deafened:"#64748b",invisible:"#a855f7",prone:"#78716c"}[E.toLowerCase()]||"#94a3b8";return x.jsxs(li,{x:O,y:V,children:[x.jsx(Ii,{radius:P/2,fill:U,stroke:"#000",strokeWidth:1}),x.jsx(Ya,{x:-P/2,y:-P/2,width:P,height:P,text:E.charAt(0).toUpperCase(),fontSize:C*.75,fill:"white",align:"center",verticalAlign:"middle",fontStyle:"bold"})]},E+M)})}),(e.width>1||e.height>1)&&x.jsxs(li,{x:k/2,y:k/2,children:[x.jsx(Ii,{radius:k/2,fill:"rgba(0, 0, 0, 0.7)",stroke:"#6b7280",strokeWidth:1}),x.jsx(Ya,{x:-k/2,y:-k/2,width:k,height:k,text:`${e.width}${e.height}`,fontSize:C*.65,fill:"white",align:"center",verticalAlign:"middle",fontStyle:"bold"})]})]}),e.visibleTo==="dm"&&a&&x.jsx(Ii,{x:d-6,y:h-6,radius:6,fill:"#7c3aed",opacity:.8})]})}function yH({element:e,isSelected:t,onSelect:n,onShiftSelect:r,onDragEnd:o,isDM:i}){const[s]=C7(e.imageUrl);if(!(e.visibleTo==="all"||i&&(e.visibleTo==="dm"||Array.isArray(e.visibleTo)))||!s)return null;const c=f=>{f.evt.shiftKey?r():n()};return x.jsxs(li,{x:e.x,y:e.y,draggable:!e.locked,onClick:c,onTap:n,onDragEnd:f=>{const d=f.target;o(d.x(),d.y())},children:[x.jsx(S7,{image:s,width:e.width,height:e.height,rotation:e.rotation||0}),t&&x.jsx(To,{x:-2,y:-2,width:e.width+4,height:e.height+4,stroke:"#22c55e",strokeWidth:2,listening:!1})]})}function o4({element:e,isSelected:t,onSelect:n,onShiftSelect:r,onDragEnd:o,isDM:i}){if(!(e.visibleTo==="all"||i&&(e.visibleTo==="dm"||Array.isArray(e.visibleTo))))return null;const{style:a}=e,c=(a==null?void 0:a.strokeColor)||"#ffffff",f=(a==null?void 0:a.fillColor)||"transparent",d=(a==null?void 0:a.lineWidth)||2;let h=e.x,p=e.y,g=e.width||100,w=e.height||100;if(e.shapeType==="freehand"||e.shapeType==="line"||e.shapeType==="polygon"){if(e.points.length>0){const C=e.points.map(A=>A.x),k=e.points.map(A=>A.y),P=Math.min(...C),y=Math.min(...k),E=Math.max(...C),M=Math.max(...k);h=P,p=y,g=E-P,w=M-y}}else if(e.shapeType==="circle"){const C=Math.min(e.width||50,e.height||50)/2;h=e.x-C,p=e.y-C,g=C*2,w=C*2}const S=C=>{C.evt.shiftKey?r():n()};return x.jsxs(li,{x:e.x,y:e.y,draggable:!e.locked,onClick:S,onTap:n,onDragEnd:C=>{const k=C.target;o(k.x(),k.y())},children:[(e.shapeType==="freehand"||e.shapeType==="line"||e.shapeType==="polygon")&&x.jsx(Ka,{points:e.points.flatMap(C=>[C.x,C.y]),stroke:c,strokeWidth:d,closed:e.shapeType==="polygon",fill:e.shapeType==="polygon"?f:void 0,tension:e.shapeType==="freehand"?.5:0}),e.shapeType==="rectangle"&&x.jsx(To,{x:0,y:0,width:e.width||100,height:e.height||100,stroke:c,strokeWidth:d,fill:f}),e.shapeType==="circle"&&x.jsx(Ii,{x:0,y:0,radius:Math.min(e.width||50,e.height||50)/2,stroke:c,strokeWidth:d,fill:f}),e.shapeType==="ellipse"&&x.jsx(b7,{x:(e.width||100)/2,y:(e.height||100)/2,radiusX:(e.width||100)/2,radiusY:(e.height||100)/2,stroke:c,strokeWidth:d,fill:f}),e.shapeType==="arrow"&&e.points.length>=2&&x.jsx(_7,{points:[e.points[0].x,e.points[0].y,e.points[1].x,e.points[1].y],stroke:c,strokeWidth:d,fill:(a==null?void 0:a.fillColor)||c,pointerLength:Math.max(10,d*3),pointerWidth:Math.max(8,d*2.5)}),t&&x.jsx(To,{x:h-e.x-2,y:p-e.y-2,width:g+4,height:w+4,stroke:"#22c55e",strokeWidth:2,listening:!1})]})}function i4({element:e,isSelected:t,onSelect:n,onShiftSelect:r,onDragEnd:o,onDoubleClick:i,isDM:s}){if(!(e.visibleTo==="all"||s&&(e.visibleTo==="dm"||Array.isArray(e.visibleTo))))return null;const{style:c}=e,f=(c==null?void 0:c.fontSize)||16,d=(c==null?void 0:c.fontFamily)||"sans-serif",h=(c==null?void 0:c.fontWeight)||"normal",p=(c==null?void 0:c.fontStyle)||"normal",g=(c==null?void 0:c.textAlign)||"left",w=(c==null?void 0:c.strokeColor)||"#ffffff",S=e.width||200,C=(c==null?void 0:c.backgroundEnabled)??!0,k=(c==null?void 0:c.backgroundColor)||"rgba(0, 0, 0, 0.7)",P=(c==null?void 0:c.backgroundOpacity)??.7;let y="normal";p==="italic"&&h==="bold"?y="italic bold":p==="italic"?y="italic":h==="bold"&&(y="bold");const E=M=>{M.evt.shiftKey?r():n()};return x.jsxs(li,{x:e.x,y:e.y,draggable:!e.locked,onClick:E,onTap:n,onDblClick:i,onDblTap:i,onDragEnd:M=>{const A=M.target;o(A.x(),A.y())},children:[C&&x.jsx(To,{x:0,y:0,width:S,height:(e.height||f*1.5)+8,fill:k,opacity:P,cornerRadius:4}),x.jsx(Ya,{text:e.content,fontSize:f,fontFamily:d,fontStyle:y,fill:w,width:S,padding:4,align:g,wrap:"word"}),t&&x.jsx(To,{x:-2,y:-2,width:S+4,height:(e.height||f*1.5)+12,stroke:"#22c55e",strokeWidth:2,listening:!1})]})}function wH({width:e,height:t,cellSize:n,color:r}){const o=[];for(let i=0;i<=e;i++)o.push(x.jsx(Ka,{points:[i*n,0,i*n,t*n],stroke:r,strokeWidth:1,listening:!1},`v-${i}`));for(let i=0;i<=t;i++)o.push(x.jsx(Ka,{points:[0,i*n,e*n,i*n],stroke:r,strokeWidth:1,listening:!1},`h-${i}`));return x.jsx(x.Fragment,{children:o})}function xH({room:e}){const t=N.useRef(null),n=N.useRef(null),[r,o]=N.useState({width:800,height:600}),i=N.useRef(!1),[s,a]=N.useState([]),[c,f]=N.useState(null),[d,h]=N.useState([]),[p,g]=N.useState([]),[w,S]=N.useState(null),[C,k]=N.useState(null),[P,y]=N.useState(!1),[E,M]=N.useState(null),[A,z]=N.useState(!1),[O,V]=N.useState(""),[B,U]=N.useState(null),[F,K]=N.useState(null),ne=N.useRef({x:0,y:0}),[G,X]=N.useState(null),[Y,$]=N.useState(null),q=N.useRef(!1),[J,ie]=N.useState({}),{game:te,selectedTool:de,selectedElementId:He,selectedElementIds:Te,viewportOffset:Ee,viewportScale:Q,isDM:we,myPeerId:ve,settings:Re,drawingStrokeColor:ke,drawingFillColor:Ae,drawingFillEnabled:Me,drawingStrokeWidth:Ze,layerVisibility:Qe,previewAsPlayer:cn,selectElement:je,selectElements:qe,toggleElementSelection:ot,updateElement:lt,addElement:ft,panViewport:Ct,zoomViewport:xt,revealFog:Be,hideFog:at}=hr(),kt=we&&!cn,tn=mH(),En=Re.showPlayerCursors&&(te!=null&&te.players)?Object.values(te.players).filter(le=>le.id!==ve&&!!le.cursor):[],At=de.startsWith("draw-")||de==="fog-reveal"||de==="fog-hide",Wt=de==="fog-reveal"||de==="fog-hide";N.useEffect(()=>{de!=="draw-polygon"&&h([])},[de]),N.useEffect(()=>{const le=()=>{n.current&&o({width:n.current.offsetWidth,height:n.current.offsetHeight})};return le(),window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const qt=N.useCallback(le=>{le.evt.preventDefault();const ze=t.current;if(!ze)return;const Ie=ze.getPointerPosition();if(!Ie)return;const ct=le.evt.deltaY>0?-.1:.1;xt(ct,Ie)},[xt]),Dr=N.useCallback(le=>{if(de!=="pan")return;const ze=le.target.getStage();if(!ze)return;const Ie=ze.position();Ct({x:Ie.x-Ee.x,y:Ie.y-Ee.y})},[de,Ct,Ee]),An=N.useCallback((le,ze,Ie)=>{const ct=te==null?void 0:te.elements.find(et=>et.id===le);if(!ct)return;let yt=ze,$e=Ie;if(te!=null&&te.gridSettings.snapToGrid){const et=te.gridSettings.cellSize;yt=Math.round(ze/et)*et,$e=Math.round(Ie/et)*et}lt(le,{x:yt,y:$e}),e.broadcastElementUpdate({...ct,x:yt,y:$e})},[te,lt,e]),po=N.useCallback(le=>{if(!E||!te)return;let ze=E.x,Ie=E.y;if(te.gridSettings.snapToGrid){const et=te.gridSettings.cellSize;ze=Math.round(ze/et)*et,Ie=Math.round(Ie/et)*et}const ct={type:"token",layer:"token",name:le.name,imageUrl:le.imageUrl,x:ze,y:Ie,width:le.size,height:le.size,visibleTo:"all",locked:!1,zIndex:te.elements.length,hp:le.hp,ac:le.ac},yt=ft(ct),$e={...ct,id:yt};e.broadcastElementUpdate($e),M(null)},[E,te,ft,e]),Xt=N.useCallback(le=>{const ze=te==null?void 0:te.elements.find(Ie=>Ie.id===le);ze&&ze.type==="text"&&(K(le),V(ze.content),U({x:ze.x,y:ze.y}),z(!0))},[te]),Je=N.useCallback(le=>{if(le.trim()){if(F){const ze=te==null?void 0:te.elements.find(Ie=>Ie.id===F);if(ze&&ze.type==="text"){lt(F,{content:le});const Ie={...ze,content:le};e.broadcastElementUpdate(Ie)}}else if(B&&te){const ze={type:"text",layer:"drawing",content:le,x:B.x,y:B.y,width:200,visibleTo:"all",locked:!1,zIndex:te.elements.length,style:{fontSize:16,fontFamily:"sans-serif",fontWeight:"normal",fontStyle:"normal",textAlign:"left",strokeColor:"#ffffff",backgroundEnabled:!0,backgroundColor:"rgba(0, 0, 0, 0.7)",backgroundOpacity:.7}},Ie=ft(ze);e.broadcastElementUpdate({...ze,id:Ie})}U(null),V(""),K(null)}},[F,B,te,lt,ft,e]),Kn=N.useCallback(()=>{if(d.length>=3&&te){const le={type:"shape",layer:"drawing",shapeType:"polygon",x:0,y:0,points:d,visibleTo:"all",locked:!1,zIndex:te.elements.length||0,style:{strokeColor:ke,fillColor:Me?Ae:"transparent",lineWidth:Ze}},ze=ft(le);e.broadcastElementUpdate({...le,id:ze}),h([])}},[d,te,ke,Ae,Me,Ze,ft,e]),Zr=N.useCallback(le=>{de==="draw-polygon"&&d.length>=3&&(le.evt.preventDefault(),Kn())},[de,d,Kn]),Zo=N.useCallback(le=>{if(de==="draw-polygon"&&le.target===le.target.getStage()){const $e=t.current;if($e){const et=$e.getPointerPosition();if(et){const Lt=(et.x-Ee.x)/Q,nn=(et.y-Ee.y)/Q,xn=le.evt.button===2;xn&&d.length>=3?Kn():xn||h(rn=>[...rn,{x:Lt,y:nn}])}}return}if(!At){if(de==="select"&&le.target===le.target.getStage()){const $e=t.current;if($e){const et=$e.getPointerPosition();if(et){const Lt=(et.x-Ee.x)/Q,nn=(et.y-Ee.y)/Q;q.current=!0,X({x:Lt,y:nn}),$({x:Lt,y:nn}),le.evt.shiftKey||je(null)}}return}if(de==="measure"&&le.target===le.target.getStage()){const $e=t.current;if($e){const et=$e.getPointerPosition();if(et){const Lt=(et.x-Ee.x)/Q,nn=(et.y-Ee.y)/Q;S({x:Lt,y:nn}),k({x:Lt,y:nn})}}}if(de==="ping"){const $e=t.current;if($e){const et=$e.getPointerPosition();if(et){const Lt=(et.x-Ee.x)/Q,nn=(et.y-Ee.y)/Q,xn={id:Li(),x:Lt,y:nn,color:"#f59e0b",timestamp:Date.now()};g(rn=>[...rn,xn]),e.broadcastPing({x:Lt,y:nn},"#f59e0b")}}}if(de==="text"&&le.target===le.target.getStage()){const $e=t.current;if($e){const et=$e.getPointerPosition();if(et){const Lt=(et.x-Ee.x)/Q,nn=(et.y-Ee.y)/Q;U({x:Lt,y:nn}),V(""),K(null),z(!0)}}}if(de==="token"&&le.target===le.target.getStage()){const $e=t.current;if($e){const et=$e.getPointerPosition();if(et){const Lt=(et.x-Ee.x)/Q,nn=(et.y-Ee.y)/Q;M({x:Lt,y:nn}),y(!0)}}}return}i.current=!0;const ze=le.target.getStage();if(!ze)return;const Ie=ze.getPointerPosition();if(!Ie)return;const ct=(Ie.x-Ee.x)/Q,yt=(Ie.y-Ee.y)/Q;f({x:ct,y:yt}),a(de==="draw-freehand"?[ct,yt]:[ct,yt,ct,yt])},[At,de,je,e,Ee,Q]),Xe=N.useCallback(le=>{const ze=t.current;if(ze){const $e=ze.getPointerPosition();if($e){if(e.broadcastCursor($e),q.current&&G){const et=($e.x-Ee.x)/Q,Lt=($e.y-Ee.y)/Q;$({x:et,y:Lt});return}if(de==="measure"&&w){const et=($e.x-Ee.x)/Q,Lt=($e.y-Ee.y)/Q;k({x:et,y:Lt})}}}if(!i.current||!At||!c||!ze)return;const Ie=ze.getPointerPosition();if(!Ie)return;const ct=(Ie.x-Ee.x)/Q,yt=(Ie.y-Ee.y)/Q;a(de==="draw-freehand"||Wt?$e=>[...$e,ct,yt]:[c.x,c.y,ct,yt])},[At,de,c,w,e,Ee,Q]),wi=N.useCallback(()=>{if(q.current&&G&&Y){q.current=!1;const le=Math.min(G.x,Y.x),ze=Math.max(G.x,Y.x),Ie=Math.min(G.y,Y.y),ct=Math.max(G.y,Y.y);if(ze-le>5||ct-Ie>5){const yt=((te==null?void 0:te.elements)||[]).filter($e=>{let et=$e.x,Lt=$e.y,nn=$e.x,xn=$e.y;if($e.type==="token"){const rn=$e,pt=(te==null?void 0:te.gridSettings.cellSize)||50;nn=$e.x+rn.width*pt,xn=$e.y+rn.height*pt}else if($e.type==="shape"){const rn=$e;if(rn.width&&rn.height)nn=$e.x+rn.width,xn=$e.y+rn.height;else if(rn.points.length>0){const pt=rn.points.map(Or=>Or.x),Yn=rn.points.map(Or=>Or.y);et=Math.min(...pt),Lt=Math.min(...Yn),nn=Math.max(...pt),xn=Math.max(...Yn)}}else if($e.type==="text"){const rn=$e;nn=$e.x+(rn.width||200),xn=$e.y+(rn.height||30)}else if($e.type==="image"){const rn=$e;nn=$e.x+rn.width,xn=$e.y+rn.height}return!(nn<le||et>ze||xn<Ie||Lt>ct)}).map($e=>$e.id);yt.length>0&&qe(yt)}X(null),$(null);return}if(de==="measure"){S(null),k(null);return}if(!i.current||!At||!c){i.current=!1,f(null);return}if(i.current=!1,s.length>=4){const le=c.x,ze=c.y,Ie=s[s.length-2],ct=s[s.length-1];let yt=null;if(de==="fog-reveal"||de==="fog-hide"){const $e=[];for(let et=0;et<s.length;et+=2)$e.push({x:s[et],y:s[et+1]});de==="fog-reveal"?Be($e):at($e),e.broadcastFogUpdate&&(te!=null&&te.fogOfWar)&&e.broadcastFogUpdate(te.fogOfWar)}else if(de==="draw-freehand"){const $e=[];for(let et=0;et<s.length;et+=2)$e.push({x:s[et],y:s[et+1]});yt={type:"shape",layer:"drawing",shapeType:"freehand",x:0,y:0,points:$e,visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:Me?Ae:"transparent",lineWidth:Ze}}}else if(de==="draw-line")yt={type:"shape",layer:"drawing",shapeType:"line",x:0,y:0,points:[{x:le,y:ze},{x:Ie,y:ct}],visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:"transparent",lineWidth:Ze}};else if(de==="draw-rectangle"){const $e=Math.min(le,Ie),et=Math.min(ze,ct),Lt=Math.abs(Ie-le),nn=Math.abs(ct-ze);yt={type:"shape",layer:"drawing",shapeType:"rectangle",x:$e,y:et,width:Lt,height:nn,points:[],visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:Me?Ae:"transparent",lineWidth:Ze}}}else if(de==="draw-circle"){const $e=Math.sqrt(Math.pow(Ie-le,2)+Math.pow(ct-ze,2));yt={type:"shape",layer:"drawing",shapeType:"circle",x:le,y:ze,width:$e*2,height:$e*2,points:[],visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:Me?Ae:"transparent",lineWidth:Ze}}}else if(de==="draw-ellipse"){const $e=Math.min(le,Ie),et=Math.min(ze,ct),Lt=Math.abs(Ie-le),nn=Math.abs(ct-ze);yt={type:"shape",layer:"drawing",shapeType:"ellipse",x:$e,y:et,width:Lt,height:nn,points:[],visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:Me?Ae:"transparent",lineWidth:Ze}}}else if(de==="draw-arrow")yt={type:"shape",layer:"drawing",shapeType:"arrow",x:0,y:0,points:[{x:le,y:ze},{x:Ie,y:ct}],visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:ke,lineWidth:Ze}};else{const $e=[];for(let et=0;et<s.length;et+=2)$e.push({x:s[et],y:s[et+1]});yt={type:"shape",layer:"drawing",shapeType:"freehand",x:0,y:0,points:$e,visibleTo:"all",locked:!1,zIndex:(te==null?void 0:te.elements.length)||0,style:{strokeColor:ke,fillColor:Me?Ae:"transparent",lineWidth:Ze}}}if(yt){const $e=ft(yt);e.broadcastElementUpdate({...yt,id:$e})}}a([]),f(null)},[At,s,de,c,te,ft,e,S,k]);N.useEffect(()=>{const le=ze=>{const Ie=ze.target;if(Ie.tagName==="INPUT"||Ie.tagName==="TEXTAREA")return;const ct=ze.ctrlKey||ze.metaKey,yt=ze.key.toLowerCase();if(de==="draw-polygon"&&d.length>=3&&yt==="enter"){ze.preventDefault(),ze.stopPropagation(),Kn();return}ct&&yt==="c"&&Te.length>0?tn.copySelected():ct&&yt==="x"&&Te.length>0?tn.cutSelected():ct&&yt==="v"&&tn.hasClipboard()&&tn.pasteElements(ne.current)};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[Te,tn,de,d,Kn]);const[,ga]=N.useState(0),wr=p.length>0;if(N.useEffect(()=>{if(!wr)return;const le=setInterval(()=>{const ze=Date.now();g(Ie=>Ie.filter(ct=>ze-ct.timestamp<2e3)),ga(Ie=>Ie+1)},50);return()=>clearInterval(le)},[wr]),!te)return null;const{gridSettings:or,elements:Cs}=te,va=or.width*or.cellSize,Ki=or.height*or.cellSize,Zt={map:0,gm:1,token:2,drawing:3},wn=[...Cs].sort((le,ze)=>{const Ie=Zt[le.layer]-Zt[ze.layer];return Ie!==0?Ie:le.zIndex-ze.zIndex});return x.jsxs("div",{ref:n,style:{width:"100%",height:"100%",overflow:"hidden"},className:`tool-${de}`,children:[x.jsxs(pH,{ref:t,width:r.width,height:r.height,x:Ee.x,y:Ee.y,scaleX:Q,scaleY:Q,draggable:de==="pan",onWheel:qt,onDragMove:Dr,onMouseDown:Zo,onDblClick:Zr,onMousemove:Xe,onMouseup:wi,onTouchStart:Zo,onTouchMove:Xe,onTouchEnd:wi,children:[x.jsxs(pf,{listening:!1,children:[x.jsx(To,{x:0,y:0,width:va,height:Ki,fill:Re.backgroundColor}),Qe.grid&&or.showGrid&&x.jsx(wH,{width:or.width,height:or.height,cellSize:or.cellSize,color:Re.gridColor})]}),x.jsxs(pf,{listening:!1,children:[Qe.map&&wn.filter(le=>le.layer==="map"&&le.type==="image").map(le=>x.jsx(yH,{element:le,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),isDM:kt},le.id)),Qe.drawings&&wn.filter(le=>le.type==="shape"&&le.locked).map(le=>x.jsx(o4,{element:le,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),isDM:kt},le.id)),Qe.text&&wn.filter(le=>le.type==="text"&&le.locked).map(le=>x.jsx(i4,{element:le,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),onDoubleClick:()=>Xt(le.id),isDM:kt},le.id)),Qe.tokens&&wn.filter(le=>le.type==="token"&&le.locked).map(le=>x.jsx(r4,{element:le,cellSize:or.cellSize,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),isDM:kt,showMetadata:Re.showTokenMetadata},le.id))]}),te.fogOfWar.enabled&&Qe.fog&&!kt&&x.jsx(pf,{listening:!1,children:x.jsx(hH,{sceneFunc:(le,ze)=>{const Ie=va,ct=Ki;le.fillStyle="rgba(0, 0, 0, 0.85)",le.fillRect(0,0,Ie,ct),le.globalCompositeOperation="destination-out",te.fogOfWar.revealed.forEach(yt=>{if(yt.length>0){le.beginPath(),le.moveTo(yt[0].x,yt[0].y);for(let $e=1;$e<yt.length;$e++)le.lineTo(yt[$e].x,yt[$e].y);le.closePath(),le.fill()}}),le.globalCompositeOperation="source-over",le.fillStrokeShape(ze)}})}),x.jsxs(pf,{listening:!0,children:[Qe.drawings&&wn.filter(le=>le.type==="shape"&&!le.locked).map(le=>x.jsx(o4,{element:le,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),isDM:kt},le.id)),Qe.text&&wn.filter(le=>le.type==="text"&&!le.locked).map(le=>x.jsx(i4,{element:le,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),onDoubleClick:()=>Xt(le.id),isDM:kt},le.id)),Qe.tokens&&wn.filter(le=>le.type==="token"&&!le.locked).map(le=>x.jsx(r4,{element:le,cellSize:or.cellSize,isSelected:He===le.id||Te.includes(le.id),onSelect:()=>je(le.id),onShiftSelect:()=>ot(le.id),onDragEnd:(ze,Ie)=>An(le.id,ze,Ie),isDM:kt,showMetadata:Re.showTokenMetadata},le.id))]}),x.jsxs(pf,{listening:!1,children:[s.length>0&&x.jsxs(x.Fragment,{children:[(de==="draw-freehand"||Wt)&&x.jsx(Ka,{points:s,stroke:de==="fog-reveal"?"#22c55e":de==="fog-hide"?"#ef4444":ke,strokeWidth:Wt?3:Ze,tension:.5,lineCap:"round",lineJoin:"round",fill:de==="fog-reveal"?"rgba(34, 197, 94, 0.2)":de==="fog-hide"?"rgba(239, 68, 68, 0.2)":Me?Ae:"transparent",closed:Wt}),de==="draw-line"&&s.length>=4&&x.jsx(Ka,{points:s,stroke:ke,strokeWidth:Ze,lineCap:"round"}),de==="draw-rectangle"&&s.length>=4&&c&&x.jsx(To,{x:Math.min(c.x,s[2]),y:Math.min(c.y,s[3]),width:Math.abs(s[2]-c.x),height:Math.abs(s[3]-c.y),stroke:ke,strokeWidth:Ze,fill:Me?Ae:void 0}),de==="draw-circle"&&s.length>=4&&c&&x.jsx(Ii,{x:c.x,y:c.y,radius:Math.sqrt(Math.pow(s[2]-c.x,2)+Math.pow(s[3]-c.y,2)),stroke:ke,strokeWidth:Ze,fill:Me?Ae:void 0}),de==="draw-ellipse"&&s.length>=4&&c&&x.jsx(b7,{x:Math.min(c.x,s[2])+Math.abs(s[2]-c.x)/2,y:Math.min(c.y,s[3])+Math.abs(s[3]-c.y)/2,radiusX:Math.abs(s[2]-c.x)/2,radiusY:Math.abs(s[3]-c.y)/2,stroke:ke,strokeWidth:Ze,fill:Me?Ae:void 0}),de==="draw-arrow"&&s.length>=4&&c&&x.jsx(_7,{points:[c.x,c.y,s[2],s[3]],stroke:ke,strokeWidth:Ze,fill:ke,pointerLength:Math.max(10,Ze*3),pointerWidth:Math.max(8,Ze*2.5)})]}),de==="draw-polygon"&&d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(Ka,{points:d.flatMap(le=>[le.x,le.y]),stroke:ke,strokeWidth:Ze,lineCap:"round",lineJoin:"round"}),d.map((le,ze)=>x.jsx(Ii,{x:le.x,y:le.y,radius:4,fill:ke},ze)),d.length>=3&&x.jsx(Ka,{points:d.flatMap(le=>[le.x,le.y]),stroke:ke,strokeWidth:Ze,fill:Me?Ae:void 0,closed:!0,opacity:.5})]}),G&&Y&&q.current&&x.jsx(To,{x:Math.min(G.x,Y.x),y:Math.min(G.y,Y.y),width:Math.abs(Y.x-G.x),height:Math.abs(Y.y-G.y),fill:"rgba(34, 197, 94, 0.1)",stroke:"#22c55e",strokeWidth:1,dash:[5,5]}),p.map(le=>{const ze=Date.now()-le.timestamp,Ie=Math.max(0,1-ze/2e3),ct=1+ze/2e3*.5;return x.jsxs(li,{x:le.x,y:le.y,children:[x.jsx(Ii,{radius:20*ct,stroke:le.color,strokeWidth:3,opacity:Ie}),x.jsx(Ii,{radius:10*ct,stroke:le.color,strokeWidth:2,opacity:Ie*.6})]},le.id)}),w&&C&&x.jsxs(x.Fragment,{children:[x.jsx(Ka,{points:[w.x,w.y,C.x,C.y],stroke:"#22c55e",strokeWidth:2,dash:[10,5],lineCap:"round"}),(()=>{const le=C.x-w.x,ze=C.y-w.y,yt=`${(Math.sqrt(le*le+ze*ze)/or.cellSize).toFixed(1)} ft`,$e=(w.x+C.x)/2,et=(w.y+C.y)/2;return x.jsxs(li,{x:$e,y:et,children:[x.jsx(To,{x:-30,y:-15,width:60,height:30,fill:"#1f2937",stroke:"#22c55e",strokeWidth:2,cornerRadius:4}),x.jsx(Ya,{text:yt,fontSize:14,fill:"#22c55e",fontStyle:"bold",align:"center",verticalAlign:"middle",width:60,x:-30,y:-7})]})})()]}),En.map(le=>x.jsxs(li,{x:le.cursor.x,y:le.cursor.y,children:[x.jsx(fH,{data:"M 0 0 L 4 14 L 0 11 L -4 14 Z",fill:le.color,stroke:"#000",strokeWidth:.5}),x.jsx(To,{x:8,y:8,width:le.name.length*7+8,height:18,fill:le.color,cornerRadius:3,opacity:.9}),x.jsx(Ya,{x:12,y:11,text:le.name,fontSize:12,fill:"#fff",fontStyle:"bold"})]},le.id))]})]}),de==="draw-polygon"&&d.length>0&&x.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"8px 16px",borderRadius:"8px",fontSize:"14px",pointerEvents:"none",zIndex:1e3},children:[d.length," point",d.length!==1?"s":""," ",d.length>=3?" Press Enter or double-click to finish":` Add ${3-d.length} more point${3-d.length!==1?"s":""}`]}),x.jsx(gH,{opened:P,onClose:()=>{y(!1),M(null)},onSubmit:po}),x.jsx(vH,{opened:A,onClose:()=>{z(!1),U(null),V(""),K(null)},onSubmit:Je,initialText:O})]})}/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bH={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=(e,t,n,r)=>{const o=N.forwardRef(({color:i="currentColor",size:s=24,stroke:a=2,title:c,className:f,children:d,...h},p)=>N.createElement("svg",{ref:p,...bH[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,f].join(" "),strokeWidth:a,stroke:i,...h},[c&&N.createElement("title",{key:"svg-title"},c),...r.map(([g,w])=>N.createElement(g,w)),...Array.isArray(d)?d:[d]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]],_H=ho("outline","arrow-up","ArrowUp",SH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],kH=ho("outline","chevron-down","ChevronDown",CH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]],s4=ho("outline","circle","Circle",EH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],TH=ho("outline","eye-off","EyeOff",PH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],NH=ho("outline","eye","Eye",RH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5",key:"svg-0"}],["path",{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5",key:"svg-1"}],["path",{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5",key:"svg-2"}],["path",{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]],MH=ho("outline","hand-grab","HandGrab",AH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M5 12h2",key:"svg-0"}],["path",{d:"M17 12h2",key:"svg-1"}],["path",{d:"M11 12h2",key:"svg-2"}]],DH=ho("outline","line-dashed","LineDashed",IH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0",key:"svg-1"}]],jH=ho("outline","map-pin","MapPin",OH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],k7=ho("outline","pencil","Pencil",LH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563",key:"svg-0"}]],zH=ho("outline","pointer","Pointer",FH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M10 5a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 8a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M3 11a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M13 19a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M6.5 9.5l3.5 -3",key:"svg-4"}],["path",{d:"M14 5.5l3 1.5",key:"svg-5"}],["path",{d:"M18.5 10l-2.5 7",key:"svg-6"}],["path",{d:"M13.5 17.5l-7 -5",key:"svg-7"}]],$H=ho("outline","polygon","Polygon",BH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M5 4h14a1 1 0 0 1 1 1v5a1 1 0 0 1 -1 1h-7a1 1 0 0 0 -1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1",key:"svg-0"}],["path",{d:"M4 8l2 0",key:"svg-1"}],["path",{d:"M4 12l3 0",key:"svg-2"}],["path",{d:"M4 16l2 0",key:"svg-3"}],["path",{d:"M8 4l0 2",key:"svg-4"}],["path",{d:"M12 4l0 3",key:"svg-5"}],["path",{d:"M16 4l0 2",key:"svg-6"}]],GH=ho("outline","ruler","Ruler",UH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}]],HH=ho("outline","square","Square",VH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]],KH=ho("outline","typography","Typography",WH);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 10a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]],qH=ho("outline","user-circle","UserCircle",YH);function XH({opened:e,onClose:t}){const{settings:n,updateSettings:r,resetSettings:o}=hr(),[i,s]=N.useState(n);N.useEffect(()=>{e&&s(n)},[e,n]);const a=()=>{r(i),t()},c=()=>{o(),s(n)},f=d=>{s(h=>({...h,...d}))};return x.jsxs(jo,{opened:e,onClose:t,title:"Game Settings",size:"lg",children:[x.jsxs(Vt,{defaultValue:"grid",children:[x.jsxs(Vt.List,{children:[x.jsx(Vt.Tab,{value:"grid",children:"Grid"}),x.jsx(Vt.Tab,{value:"tokens",children:"Token Defaults"}),x.jsx(Vt.Tab,{value:"ui",children:"UI Preferences"})]}),x.jsx(Vt.Panel,{value:"grid",pt:"md",children:x.jsxs($t,{gap:"md",children:[x.jsx(mt,{size:"sm",c:"dimmed",children:"Configure the game grid and canvas appearance"}),x.jsxs(vt,{grow:!0,children:[x.jsx(fn,{label:"Grid Width (cells)",description:"Number of cells horizontally",value:i.gridSize.width,onChange:d=>f({gridSize:{...i.gridSize,width:Number(d)||20}}),min:10,max:100,required:!0}),x.jsx(fn,{label:"Grid Height (cells)",description:"Number of cells vertically",value:i.gridSize.height,onChange:d=>f({gridSize:{...i.gridSize,height:Number(d)||20}}),min:10,max:100,required:!0})]}),x.jsx(fn,{label:"Cell Size (pixels)",description:"Size of each grid cell - affects zoom level",value:i.cellSize,onChange:d=>f({cellSize:Number(d)||50}),min:20,max:100,step:5,required:!0}),x.jsx(ji,{label:"Grid Color",description:"Color of the grid lines",value:i.gridColor,onChange:d=>f({gridColor:d}),format:"rgba"}),x.jsx(ji,{label:"Background Color",description:"Canvas background color",value:i.backgroundColor,onChange:d=>f({backgroundColor:d}),format:"hex"})]})}),x.jsx(Vt.Panel,{value:"tokens",pt:"md",children:x.jsxs($t,{gap:"md",children:[x.jsx(mt,{size:"sm",c:"dimmed",children:"Set default values for newly created tokens"}),x.jsx(fn,{label:"Default Token Size",description:"Size in grid cells (1-10)",value:i.defaultTokenSize,onChange:d=>f({defaultTokenSize:Number(d)||1}),min:1,max:10,required:!0}),x.jsx(fr,{label:"Default HP Values"}),x.jsxs(vt,{grow:!0,children:[x.jsx(fn,{label:"Current HP",value:i.defaultHP.current,onChange:d=>f({defaultHP:{...i.defaultHP,current:Number(d)||10}}),min:1,required:!0}),x.jsx(fn,{label:"Max HP",value:i.defaultHP.max,onChange:d=>f({defaultHP:{...i.defaultHP,max:Number(d)||10}}),min:1,required:!0})]})]})}),x.jsx(Vt.Panel,{value:"ui",pt:"md",children:x.jsxs($t,{gap:"md",children:[x.jsx(mt,{size:"sm",c:"dimmed",children:"Customize the user interface and behavior"}),x.jsx(fs,{label:"Auto-save",description:"Automatically save game changes",checked:i.autoSave,onChange:d=>f({autoSave:d.currentTarget.checked})}),x.jsx(fs,{label:"Show Player Cursors",description:"Display other players' cursor positions",checked:i.showPlayerCursors,onChange:d=>f({showPlayerCursors:d.currentTarget.checked})}),x.jsx(fs,{label:"Show Grid by Default",description:"Display the grid when loading a game",checked:i.showGridByDefault,onChange:d=>f({showGridByDefault:d.currentTarget.checked})}),x.jsx(fs,{label:"Snap to Grid by Default",description:"Enable snap-to-grid for new games",checked:i.snapToGridByDefault,onChange:d=>f({snapToGridByDefault:d.currentTarget.checked})}),x.jsx(fs,{label:"Show Token Metadata",description:"Display HP bars, AC, and conditions on tokens",checked:i.showTokenMetadata,onChange:d=>f({showTokenMetadata:d.currentTarget.checked})})]})})]}),x.jsxs(vt,{justify:"space-between",mt:"xl",children:[x.jsx(Kt,{variant:"subtle",color:"red",onClick:c,children:"Reset to Defaults"}),x.jsxs(vt,{children:[x.jsx(Kt,{variant:"subtle",onClick:t,children:"Cancel"}),x.jsx(Kt,{onClick:a,children:"Save Settings"})]})]})]})}const QH=[{id:"select",icon:zH,label:"Select",shortcut:"S"},{id:"pan",icon:MH,label:"Pan",shortcut:"Space"},{id:"token",icon:qH,label:"Place Token",shortcut:"N"}],a4=[{id:"draw-freehand",icon:k7,label:"Freehand Draw",shortcut:"D"},{id:"draw-line",icon:DH,label:"Draw Line",shortcut:"L"},{id:"draw-rectangle",icon:HH,label:"Draw Rectangle",shortcut:"R"},{id:"draw-circle",icon:s4,label:"Draw Circle",shortcut:"C"},{id:"draw-ellipse",icon:s4,label:"Draw Ellipse",shortcut:"E"},{id:"draw-polygon",icon:$H,label:"Draw Polygon",shortcut:"G"},{id:"draw-arrow",icon:_H,label:"Draw Arrow",shortcut:"A"}],ZH=[{id:"text",icon:KH,label:"Add Text",shortcut:"T"},{id:"measure",icon:GH,label:"Measure Distance",shortcut:"M"},{id:"ping",icon:jH,label:"Ping Location",shortcut:"P"}],JH=[{id:"fog-reveal",icon:NH,label:"Reveal Fog"},{id:"fog-hide",icon:TH,label:"Hide Area"}];function eW({sidebarOpen:e,onToggleSidebar:t,room:n}){const{game:r,selectedTool:o,setTool:i,isDM:s,viewportScale:a,setViewport:c,viewportOffset:f,performUndo:d,performRedo:h,drawingStrokeColor:p,drawingFillColor:g,drawingFillEnabled:w,drawingStrokeWidth:S,previewAsPlayer:C,setPreviewAsPlayer:k,setDrawingStrokeColor:P,setDrawingFillColor:y,setDrawingFillEnabled:E,setDrawingStrokeWidth:M}=hr(),{canUndo:A,canRedo:z}=Us(),[O,V]=N.useState(!1),B=F=>{const K=Math.min(Math.max(a*F,.25),3);c(f,K)},U=o.startsWith("draw-");return x.jsxs(vt,{h:"100%",px:"md",justify:"space-between",children:[x.jsxs(vt,{gap:"md",children:[x.jsxs(vt,{gap:"xs",children:[x.jsxs(mt,{fw:600,size:"lg",children:[" ",(r==null?void 0:r.name)||"Acererak VTT"]}),s&&C&&x.jsx(Do,{color:"violet",variant:"filled",size:"lg",style:{cursor:"pointer"},onClick:()=>k(!1),children:" Preview Mode"})]}),x.jsx(fr,{orientation:"vertical"}),x.jsxs(vt,{gap:"xs",children:[x.jsx($n,{label:"Undo (Ctrl+Z)",position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",onClick:d,disabled:!A(),children:""})}),x.jsx($n,{label:"Redo (Ctrl+Y)",position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",onClick:h,disabled:!z(),children:""})})]}),x.jsx(fr,{orientation:"vertical"}),x.jsxs(vt,{gap:"xs",children:[QH.map(F=>x.jsx($n,{label:`${F.label}${F.shortcut?` (${F.shortcut})`:""}`,position:"bottom",children:x.jsx(an,{variant:o===F.id?"filled":"subtle",color:o===F.id?"violet":"gray",size:"lg",onClick:()=>i(F.id),children:x.jsx(F.icon,{size:18})})},F.id)),x.jsxs(In,{shadow:"md",width:200,children:[x.jsx(In.Target,{children:x.jsx($n,{label:"Drawing Tools",position:"bottom",children:x.jsx(an,{variant:U?"filled":"subtle",color:U?"violet":"gray",size:"lg",children:x.jsxs(vt,{gap:2,children:[(()=>{const F=a4.find(ne=>ne.id===o),K=(F==null?void 0:F.icon)||k7;return x.jsx(K,{size:18})})(),x.jsx(kH,{size:12})]})})})}),x.jsxs(In.Dropdown,{children:[x.jsx(In.Label,{children:"Drawing Tools"}),a4.map(F=>x.jsx(In.Item,{leftSection:x.jsx(F.icon,{size:16}),onClick:()=>i(F.id),color:o===F.id?"violet":void 0,bg:o===F.id?"var(--mantine-color-violet-light)":void 0,children:x.jsxs(vt,{justify:"space-between",gap:"xs",children:[x.jsx(mt,{size:"sm",children:F.label}),F.shortcut&&x.jsx(Do,{size:"xs",variant:"light",color:"gray",children:F.shortcut})]})},F.id))]})]}),ZH.map(F=>x.jsx($n,{label:`${F.label}${F.shortcut?` (${F.shortcut})`:""}`,position:"bottom",children:x.jsx(an,{variant:o===F.id?"filled":"subtle",color:o===F.id?"violet":"gray",size:"lg",onClick:()=>i(F.id),children:x.jsx(F.icon,{size:18})})},F.id)),s&&x.jsxs(x.Fragment,{children:[x.jsx(fr,{orientation:"vertical"}),JH.map(F=>x.jsx($n,{label:F.label,position:"bottom",children:x.jsx(an,{variant:o===F.id?"filled":"subtle",color:o===F.id?"violet":"gray",size:"lg",onClick:()=>i(F.id),children:x.jsx(F.icon,{size:18})})},F.id))]})]}),U&&x.jsxs(x.Fragment,{children:[x.jsx(fr,{orientation:"vertical"}),x.jsxs(vt,{gap:"xs",children:[x.jsxs(Dn,{position:"bottom",withArrow:!0,shadow:"md",children:[x.jsx(Dn.Target,{children:x.jsx($n,{label:"Stroke Color",position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",style:{backgroundColor:p,border:"2px solid #fff"},children:x.jsx(Oe,{w:20,h:20})})})}),x.jsx(Dn.Dropdown,{children:x.jsxs($t,{gap:"xs",children:[x.jsx(mt,{size:"xs",fw:600,children:"Stroke Color"}),x.jsx(ji,{value:p,onChange:P,format:"hex",swatches:["#ffffff","#000000","#ef4444","#f59e0b","#22c55e","#3b82f6","#8b5cf6","#ec4899"]})]})})]}),x.jsxs(Dn,{position:"bottom",withArrow:!0,shadow:"md",children:[x.jsx(Dn.Target,{children:x.jsx($n,{label:"Fill Color",position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",style:{backgroundColor:w?g:"transparent",border:`2px solid ${w?"#fff":"#666"}`,opacity:w?1:.5},children:x.jsx(Oe,{w:20,h:20})})})}),x.jsx(Dn.Dropdown,{children:x.jsxs($t,{gap:"xs",children:[x.jsxs(vt,{justify:"space-between",children:[x.jsx(mt,{size:"xs",fw:600,children:"Fill Color"}),x.jsx(fs,{size:"xs",checked:w,onChange:F=>E(F.currentTarget.checked),label:"Fill"})]}),x.jsx(ji,{value:g,onChange:y,format:"hex",disabled:!w,swatches:["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16"]})]})})]}),x.jsxs(Dn,{position:"bottom",withArrow:!0,shadow:"md",children:[x.jsx(Dn.Target,{children:x.jsx($n,{label:`Stroke Width: ${S}px`,position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",children:x.jsx(mt,{size:"sm",fw:600,children:S})})})}),x.jsx(Dn.Dropdown,{children:x.jsxs($t,{gap:"xs",children:[x.jsx(mt,{size:"xs",fw:600,children:"Stroke Width"}),x.jsx(fn,{value:S,onChange:F=>M(Number(F)||3),min:1,max:10,step:1,w:100}),x.jsx(vt,{gap:4,children:[1,2,3,5,8,10].map(F=>x.jsx(an,{size:"sm",variant:S===F?"filled":"subtle",onClick:()=>M(F),children:F},F))})]})})]})]})]}),x.jsx(fr,{orientation:"vertical"}),x.jsxs(vt,{gap:"xs",children:[x.jsx($n,{label:"Zoom Out",position:"bottom",children:x.jsx(an,{variant:"subtle",onClick:()=>B(.8),children:""})}),x.jsxs(mt,{size:"sm",c:"dimmed",w:50,ta:"center",children:[Math.round(a*100),"%"]}),x.jsx($n,{label:"Zoom In",position:"bottom",children:x.jsx(an,{variant:"subtle",onClick:()=>B(1.25),children:""})}),x.jsx($n,{label:"Reset Zoom",position:"bottom",children:x.jsx(an,{variant:"subtle",onClick:()=>c({x:0,y:0},1),children:""})})]})]}),x.jsxs(vt,{gap:"md",children:[n.roomId&&x.jsxs(vt,{gap:"xs",children:[x.jsx(Do,{color:"green",variant:"light",children:"Connected"}),x.jsxs(mt,{size:"sm",c:"dimmed",children:[n.peers.length+1," players"]})]}),x.jsx($n,{label:"Settings",position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",onClick:()=>V(!0),children:""})}),x.jsxs(In,{shadow:"md",width:200,children:[x.jsx(In.Target,{children:x.jsx(an,{variant:"subtle",size:"lg",children:""})}),x.jsxs(In.Dropdown,{children:[x.jsx(In.Label,{children:"Game"}),x.jsx(In.Item,{onClick:()=>{},children:" Export Game (Ctrl+S)"}),x.jsx(In.Item,{onClick:()=>{},children:" Import Scene"}),n.roomId&&x.jsxs(x.Fragment,{children:[x.jsx(In.Divider,{}),x.jsx(In.Item,{color:"red",onClick:n.leaveRoom,children:" Leave Game"})]})]})]}),x.jsx($n,{label:e?"Hide Sidebar":"Show Sidebar",position:"bottom",children:x.jsx(an,{variant:"subtle",size:"lg",onClick:t,children:e?"":""})})]}),x.jsx(XH,{opened:O,onClose:()=>V(!1)})]})}const tW=[{type:"token",name:"Goblin",description:"A small, green-skinned creature",tags:["monster","humanoid","cr1/4"],data:{type:"token",layer:"token",name:"Goblin",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:7,max:7},ac:15,conditions:[]}},{type:"token",name:"Orc",description:"A brutish, grey-skinned humanoid",tags:["monster","humanoid","cr1/2"],data:{type:"token",layer:"token",name:"Orc",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:15,max:15},ac:13,conditions:[]}},{type:"token",name:"Skeleton",description:"An animated undead corpse",tags:["monster","undead","cr1/4"],data:{type:"token",layer:"token",name:"Skeleton",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:13,max:13},ac:13,conditions:[]}},{type:"token",name:"Zombie",description:"A shambling undead corpse",tags:["monster","undead","cr1/4"],data:{type:"token",layer:"token",name:"Zombie",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:22,max:22},ac:8,conditions:[]}},{type:"token",name:"Bandit",description:"A common thug or brigand",tags:["npc","humanoid","cr1/8"],data:{type:"token",layer:"token",name:"Bandit",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:11,max:11},ac:12,conditions:[]}},{type:"token",name:"Guard",description:"A city guard or soldier",tags:["npc","humanoid","cr1/8"],data:{type:"token",layer:"token",name:"Guard",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:11,max:11},ac:16,conditions:[]}},{type:"token",name:"Wolf",description:"A wild canine predator",tags:["beast","cr1/4"],data:{type:"token",layer:"token",name:"Wolf",imageUrl:"",x:0,y:0,width:1,height:1,visibleTo:"all",locked:!1,zIndex:0,hp:{current:11,max:11},ac:13,conditions:[]}},{type:"token",name:"Giant Spider",description:"A horse-sized arachnid",tags:["beast","cr1"],data:{type:"token",layer:"token",name:"Giant Spider",imageUrl:"",x:0,y:0,width:2,height:2,visibleTo:"all",locked:!1,zIndex:0,hp:{current:26,max:26},ac:14,conditions:[]}}],E7=qx((e,t)=>({items:[],isLoading:!1,filter:"all",searchQuery:"",loadLibrary:async()=>{e({isLoading:!0});try{let n=await KF();if(n.length===0){const r=new Date().toISOString(),o=tW.map(i=>({...i,id:Li(10),createdAt:r,updatedAt:r}));for(const i of o)await cf(i);n=o}e({items:n,isLoading:!1})}catch(n){console.error("Failed to load library:",n),e({isLoading:!1})}},addTokenToLibrary:async(n,r,o,i=[])=>{const s=Li(10),a=new Date().toISOString(),{id:c,...f}=n,d={...f,x:0,y:0,zIndex:0},h={id:s,type:"token",name:r||n.name,description:o,tags:i,createdAt:a,updatedAt:a,data:d};return await cf(h),e(p=>({items:[...p.items,h]})),s},addMapToLibrary:async(n,r,o,i=[])=>{const s=Li(10),a=new Date().toISOString(),{id:c,...f}=n,d={...f,x:0,y:0,zIndex:0},h={id:s,type:"map",name:r||"Unnamed Map",description:o,tags:i,createdAt:a,updatedAt:a,data:d};return await cf(h),e(p=>({items:[...p.items,h]})),s},addSceneToLibrary:async(n,r,o,i=[])=>{const s=Li(10),a=new Date().toISOString(),c={id:s,type:"scene",name:r,description:o,tags:i,createdAt:a,updatedAt:a,data:n};return await cf(c),e(f=>({items:[...f.items,c]})),s},updateLibraryItem:async(n,r)=>{const o=t().items.find(s=>s.id===n);if(!o)return;const i={...o,...r,updatedAt:new Date().toISOString()};await cf(i),e(s=>({items:s.items.map(a=>a.id===n?i:a)}))},deleteLibraryItem:async n=>{await WF(n),e(r=>({items:r.items.filter(o=>o.id!==n)}))},setFilter:n=>{e({filter:n})},setSearchQuery:n=>{e({searchQuery:n})},getFilteredItems:()=>{const{items:n,filter:r,searchQuery:o}=t();let i=n;if(r!=="all"&&(i=i.filter(s=>s.type===r)),o.trim()){const s=o.toLowerCase();i=i.filter(a=>{var c;return a.name.toLowerCase().includes(s)||((c=a.description)==null?void 0:c.toLowerCase().includes(s))||a.tags.some(f=>f.toLowerCase().includes(s))})}return i},getTokenTemplates:()=>t().items.filter(n=>n.type==="token"),getMapTemplates:()=>t().items.filter(n=>n.type==="map"),getSceneTemplates:()=>t().items.filter(n=>n.type==="scene")}));function nW(e){const t=e.toLowerCase().trim(),n={diceGroups:[],modifier:0};t.includes("advantage")||t.includes("adv")?n.advantage="advantage":(t.includes("disadvantage")||t.includes("dis"))&&(n.advantage="disadvantage");const r=t.match(/drop\s+lowest\s*(\d+)?/);r&&(n.dropLowest=parseInt(r[1]||"1",10));const o=t.match(/drop\s+highest\s*(\d+)?/);o&&(n.dropHighest=parseInt(o[1]||"1",10));let i=t.replace(/advantage|adv|disadvantage|dis/g,"").replace(/drop\s+(lowest|highest)\s*\d*/g,"").trim();const s=/(\d+)?d(\d+)/g;let a;for(;(a=s.exec(i))!==null;){const d=parseInt(a[1]||"1",10),h=parseInt(a[2],10);n.diceGroups.push({count:d,sides:h})}const c=/([+-]\s*\d+)/g;let f;for(;(f=c.exec(i))!==null;){const d=parseInt(f[1].replace(/\s/g,""),10);n.modifier+=d}return n}function x2(e){return Math.floor(Math.random()*e)+1}function rW(e,t){const n=[];for(let r=0;r<e;r++)n.push(x2(t));return n}function oW(e){const t=nW(e),n=[];let r=0;const o=[];if(t.advantage){const s=x2(20),a=x2(20);n.push([s,a]),t.advantage==="advantage"?(r=Math.max(s,a),o.push(`[${s}, ${a}]  ${r} (advantage)`)):(r=Math.min(s,a),o.push(`[${s}, ${a}]  ${r} (disadvantage)`))}else for(const s of t.diceGroups){const a=rW(s.count,s.sides);n.push(a);let c=a.reduce((d,h)=>d+h,0),f=[...a];if(t.dropLowest&&t.dropLowest>0){const d=[...a].sort((p,g)=>p-g),h=d.slice(0,t.dropLowest);f=d.slice(t.dropLowest),c=f.reduce((p,g)=>p+g,0),o.push(`${s.count}d${s.sides}: [${a.join(", ")}] drop lowest ${t.dropLowest} [${h.join(", ")}] = ${c}`)}else if(t.dropHighest&&t.dropHighest>0){const d=[...a].sort((p,g)=>g-p),h=d.slice(0,t.dropHighest);f=d.slice(t.dropHighest),c=f.reduce((p,g)=>p+g,0),o.push(`${s.count}d${s.sides}: [${a.join(", ")}] drop highest ${t.dropHighest} [${h.join(", ")}] = ${c}`)}else o.push(`${s.count}d${s.sides}: [${a.join(", ")}]`);r+=c}t.modifier!==0&&(o.push(`${t.modifier>=0?"+":""}${t.modifier}`),r+=t.modifier);const i=o.join(" ")+` = ${r}`;return{formula:e,result:r,breakdown:i,rolls:n}}function iW({onRoll:e}){const[t,n]=N.useState(""),[r,o]=N.useState(!1),i=N.useRef(null),{game:s,myPeerId:a,addDiceRoll:c,clearDiceHistory:f}=hr(),d=a&&(s==null?void 0:s.players[a]),h=(s==null?void 0:s.diceRolls)||[],p=[{label:"d4",formula:"1d4"},{label:"d6",formula:"1d6"},{label:"d8",formula:"1d8"},{label:"d10",formula:"1d10"},{label:"d12",formula:"1d12"},{label:"d20",formula:"1d20"},{label:"d100",formula:"1d100"}],g=[{label:"Advantage",formula:"1d20 advantage"},{label:"Disadvantage",formula:"1d20 disadvantage"}],w=y=>{if(!(!d||!s)){o(!0);try{const E=oW(y),M={id:Li(),playerId:a,playerName:d.name,timestamp:Date.now(),formula:E.formula,result:E.result,breakdown:E.breakdown};c(M),e(M),y===t&&n("")}catch(E){console.error("Failed to roll dice:",E)}finally{setTimeout(()=>o(!1),500)}}},S=y=>{w(y)},C=()=>{t.trim()&&w(t.trim())},k=y=>{y.key==="Enter"&&C()},P=y=>new Date(y).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return x.jsxs($t,{h:"100%",children:[x.jsx("div",{ref:i,style:{width:"100%",height:"200px",backgroundColor:"#1a1b1e",borderRadius:"8px",position:"relative",overflow:"hidden",border:"1px solid #373A40"},children:x.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#909296"},children:[x.jsx(mt,{size:"sm",children:"3D Dice Animation Area"}),x.jsx(mt,{size:"xs",c:"dimmed",children:"(Animation will appear here)"})]})}),x.jsxs(_n,{p:"sm",withBorder:!0,children:[x.jsx(mt,{size:"sm",fw:500,mb:"xs",children:"Quick Rolls"}),x.jsx(Bx,{cols:4,spacing:"xs",children:p.map(y=>x.jsx(Kt,{size:"xs",variant:"light",onClick:()=>S(y.formula),disabled:r,children:y.label},y.label))})]}),x.jsxs(_n,{p:"sm",withBorder:!0,children:[x.jsx(mt,{size:"sm",fw:500,mb:"xs",children:"Modifiers"}),x.jsx(vt,{gap:"xs",children:g.map(y=>x.jsx(Kt,{size:"xs",variant:"light",color:"violet",onClick:()=>S(y.formula),disabled:r,style:{flex:1},children:y.label},y.label))})]}),x.jsxs(_n,{p:"sm",withBorder:!0,children:[x.jsx(mt,{size:"sm",fw:500,mb:"xs",children:"Custom Roll"}),x.jsxs(vt,{gap:"xs",children:[x.jsx(Nr,{placeholder:"e.g., 2d6+3, 4d6 drop lowest",value:t,onChange:y=>n(y.currentTarget.value),onKeyPress:k,disabled:r,size:"xs",style:{flex:1}}),x.jsx(Kt,{size:"xs",onClick:C,disabled:r||!t.trim(),children:"Roll"})]}),x.jsx(mt,{size:"xs",c:"dimmed",mt:"xs",children:"Examples: 2d6+3, 1d20+5, 4d6 drop lowest, 1d20 advantage"})]}),x.jsxs(_n,{p:"sm",withBorder:!0,style:{flex:1,display:"flex",flexDirection:"column"},children:[x.jsxs(vt,{justify:"space-between",mb:"xs",children:[x.jsx(mt,{size:"sm",fw:500,children:"Roll History"}),h.length>0&&x.jsx(an,{size:"xs",variant:"subtle",color:"red",onClick:()=>f(),title:"Clear history",children:""})]}),x.jsx(aa,{style:{flex:1},offsetScrollbars:!0,children:x.jsxs($t,{gap:"xs",children:[h.length===0&&x.jsx(mt,{size:"sm",c:"dimmed",ta:"center",mt:"md",children:"No rolls yet"}),[...h].reverse().map(y=>x.jsxs(_n,{p:"xs",withBorder:!0,style:{borderLeft:y.playerId===a?"3px solid #7c3aed":"3px solid #373A40"},children:[x.jsxs(vt,{justify:"space-between",mb:4,children:[x.jsxs(vt,{gap:"xs",children:[x.jsx(mt,{size:"xs",fw:500,children:y.playerName}),x.jsx(Do,{size:"xs",variant:"light",children:y.formula})]}),x.jsx(mt,{size:"xs",c:"dimmed",children:P(y.timestamp)})]}),x.jsxs(vt,{justify:"space-between",align:"flex-start",children:[x.jsx(mt,{size:"xs",c:"dimmed",style:{flex:1},children:y.breakdown}),x.jsx(mt,{size:"lg",fw:700,c:"violet",style:{minWidth:"40px",textAlign:"right"},children:y.result})]})]},y.id))]})})]})]})}function sW({room:e}){var E,M;const{game:t,selectedElementId:n,isDM:r,updateElement:o,deleteElement:i,selectElement:s}=hr(),a=t==null?void 0:t.elements.find(A=>A.id===n),[c,f]=N.useState("");if(N.useEffect(()=>{f("")},[n]),!a)return x.jsx(_n,{p:"md",withBorder:!0,children:x.jsx(mt,{size:"sm",c:"dimmed",ta:"center",children:"No element selected"})});const d=A=>{o(a.id,A),e.broadcastElementUpdate({...a,...A})},h=()=>{i(a.id),e.broadcastElementDelete(a.id),s(null)},p=A=>{d({visibleTo:A==="all"?"all":"dm"})},g=A=>{const z=Math.max(0,a.zIndex+A);d({zIndex:z})},w=(A,z)=>{if(a.type!=="token")return;const V=a.hp||{current:10,max:10},B=typeof z=="number"?z:parseInt(z)||0;d({hp:{...V,[A]:B}})},S=A=>{if(a.type!=="token")return;const O=a.hp||{current:10,max:10},V=Math.max(0,Math.min(O.max,O.current+A));d({hp:{...O,current:V}})},C=()=>{if(a.type!=="token"||!c.trim())return;const z=a.conditions||[];d({conditions:[...z,c.trim()]}),f("")},k=A=>{if(a.type!=="token")return;const O=a.conditions||[];d({conditions:O.filter((V,B)=>B!==A)})},P=A=>{if(a.type!=="shape")return;d({style:{...a.style,...A}})},y=A=>{if(a.type!=="text")return;d({style:{...a.style,...A}})};return x.jsxs($t,{gap:"sm",children:[x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsxs(vt,{justify:"space-between",children:[x.jsx(mt,{size:"sm",fw:700,tt:"uppercase",c:"dimmed",children:a.type}),x.jsx(Do,{size:"xs",color:"violet",children:a.layer})]}),x.jsx(fr,{label:"Position",labelPosition:"center"}),x.jsxs(vt,{grow:!0,children:[x.jsx(fn,{label:"X",size:"xs",value:a.x,onChange:A=>d({x:Number(A)||0}),step:t!=null&&t.gridSettings.snapToGrid?t.gridSettings.cellSize:1}),x.jsx(fn,{label:"Y",size:"xs",value:a.y,onChange:A=>d({y:Number(A)||0}),step:t!=null&&t.gridSettings.snapToGrid?t.gridSettings.cellSize:1})]}),x.jsx(fr,{label:"Display",labelPosition:"center"}),x.jsx(Wa,{label:"Visibility",size:"xs",value:a.visibleTo==="all"?"all":"dm",onChange:p,data:[{value:"all",label:"Visible to All"},{value:"dm",label:"DM Only"}],disabled:!r}),x.jsx(so,{label:"Locked (prevents dragging)",size:"xs",checked:a.locked,onChange:A=>d({locked:A.currentTarget.checked})}),x.jsxs(Oe,{children:[x.jsxs(mt,{size:"xs",fw:500,mb:4,children:["Layer Order (Z-Index: ",a.zIndex,")"]}),x.jsxs(vt,{gap:"xs",children:[x.jsx(Kt,{size:"xs",variant:"light",onClick:()=>g(1),style:{flex:1},children:"Bring Forward"}),x.jsx(Kt,{size:"xs",variant:"light",onClick:()=>g(-1),style:{flex:1},children:"Send Backward"})]})]})]})}),a.type==="token"&&x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(mt,{size:"sm",fw:700,c:"violet",children:"Token Properties"}),x.jsx(Nr,{label:"Name",size:"xs",value:a.name,onChange:A=>d({name:A.currentTarget.value})}),x.jsx(Nr,{label:"Image URL",size:"xs",value:a.imageUrl,onChange:A=>d({imageUrl:A.currentTarget.value})}),x.jsx(fn,{label:"Size (grid cells)",size:"xs",value:a.width,onChange:A=>d({width:Number(A)||1,height:Number(A)||1}),min:1,max:10,step:1}),x.jsx(fr,{label:"Hit Points",labelPosition:"center"}),x.jsxs(vt,{grow:!0,children:[x.jsx(fn,{label:"Current HP",size:"xs",value:((E=a.hp)==null?void 0:E.current)??10,onChange:A=>w("current",A),min:0}),x.jsx(fn,{label:"Max HP",size:"xs",value:((M=a.hp)==null?void 0:M.max)??10,onChange:A=>w("max",A),min:1})]}),x.jsxs(vt,{gap:"xs",grow:!0,children:[x.jsx(Kt,{size:"xs",color:"red",variant:"light",onClick:()=>S(-1),children:"-1 HP"}),x.jsx(Kt,{size:"xs",color:"red",variant:"light",onClick:()=>S(-5),children:"-5 HP"}),x.jsx(Kt,{size:"xs",color:"green",variant:"light",onClick:()=>S(5),children:"+5 HP"}),x.jsx(Kt,{size:"xs",color:"green",variant:"light",onClick:()=>S(1),children:"+1 HP"})]}),x.jsx(fn,{label:"Armor Class (AC)",size:"xs",value:a.ac??10,onChange:A=>d({ac:Number(A)||10}),min:1,max:30}),x.jsx(fr,{label:"Conditions",labelPosition:"center"}),x.jsxs(vt,{gap:"xs",children:[x.jsx(Nr,{placeholder:"Add condition",size:"xs",value:c,onChange:A=>f(A.currentTarget.value),onKeyDown:A=>{A.key==="Enter"&&C()},style:{flex:1}}),x.jsx(Kt,{size:"xs",onClick:C,children:"Add"})]}),x.jsx(vt,{gap:4,children:(a.conditions||[]).map((A,z)=>x.jsx(Do,{size:"sm",color:"orange",rightSection:x.jsx(an,{size:"xs",color:"orange",variant:"transparent",onClick:()=>k(z),children:""}),children:A},z))})]})}),a.type==="shape"&&x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(mt,{size:"sm",fw:700,c:"violet",children:"Shape Properties"}),x.jsxs(mt,{size:"xs",c:"dimmed",children:["Type: ",a.shapeType]}),x.jsx(ji,{label:"Stroke Color",size:"xs",value:a.style.strokeColor||"#ffffff",onChange:A=>P({strokeColor:A})}),x.jsx(ji,{label:"Fill Color",size:"xs",value:a.style.fillColor||"transparent",onChange:A=>P({fillColor:A})}),x.jsx(fn,{label:"Stroke Width",size:"xs",value:a.style.lineWidth||2,onChange:A=>P({lineWidth:Number(A)||2}),min:1,max:20}),a.shapeType==="rectangle"&&x.jsxs(x.Fragment,{children:[x.jsx(fn,{label:"Width",size:"xs",value:a.width||100,onChange:A=>d({width:Number(A)||100}),min:1}),x.jsx(fn,{label:"Height",size:"xs",value:a.height||100,onChange:A=>d({height:Number(A)||100}),min:1})]}),a.shapeType==="circle"&&x.jsx(fn,{label:"Radius",size:"xs",value:(a.width||100)/2,onChange:A=>{const z=(Number(A)||50)*2;d({width:z,height:z})},min:1})]})}),a.type==="text"&&x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(mt,{size:"sm",fw:700,c:"violet",children:"Text Properties"}),x.jsx(Ph,{label:"Content",size:"xs",value:a.content,onChange:A=>d({content:A.currentTarget.value}),minRows:2}),x.jsx(fn,{label:"Text Box Width",size:"xs",value:a.width||200,onChange:A=>d({width:Number(A)||200}),min:50,max:1e3,step:10}),x.jsx(fr,{label:"Font",labelPosition:"center"}),x.jsx(Wa,{label:"Font Family",size:"xs",value:a.style.fontFamily||"sans-serif",onChange:A=>y({fontFamily:A||"sans-serif"}),data:[{value:"sans-serif",label:"Sans-serif"},{value:"serif",label:"Serif"},{value:"monospace",label:"Monospace"},{value:"cursive",label:"Cursive"},{value:"fantasy",label:"Fantasy"}]}),x.jsx(fn,{label:"Font Size",size:"xs",value:a.style.fontSize||16,onChange:A=>y({fontSize:Number(A)||16}),min:8,max:72}),x.jsx(ji,{label:"Text Color",size:"xs",value:a.style.strokeColor||"#ffffff",onChange:A=>y({strokeColor:A})}),x.jsx(Wa,{label:"Font Weight",size:"xs",value:a.style.fontWeight||"normal",onChange:A=>y({fontWeight:A}),data:[{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}]}),x.jsx(Wa,{label:"Font Style",size:"xs",value:a.style.fontStyle||"normal",onChange:A=>y({fontStyle:A}),data:[{value:"normal",label:"Normal"},{value:"italic",label:"Italic"}]}),x.jsx(Wa,{label:"Text Alignment",size:"xs",value:a.style.textAlign||"left",onChange:A=>y({textAlign:A}),data:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}]}),x.jsx(fr,{label:"Background",labelPosition:"center"}),x.jsx(so,{label:"Show Background",size:"xs",checked:a.style.backgroundEnabled??!0,onChange:A=>y({backgroundEnabled:A.currentTarget.checked})}),(a.style.backgroundEnabled??!0)&&x.jsxs(x.Fragment,{children:[x.jsx(ji,{label:"Background Color",size:"xs",value:a.style.backgroundColor||"rgba(0, 0, 0, 0.7)",onChange:A=>y({backgroundColor:A})}),x.jsx(fn,{label:"Background Opacity",size:"xs",value:a.style.backgroundOpacity??.7,onChange:A=>y({backgroundOpacity:Number(A)??.7}),min:0,max:1,step:.1,decimalScale:1})]})]})}),a.type==="image"&&x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(mt,{size:"sm",fw:700,c:"violet",children:"Image Properties"}),x.jsx(Nr,{label:"Image URL",size:"xs",value:a.imageUrl,onChange:A=>d({imageUrl:A.currentTarget.value})}),x.jsxs(vt,{grow:!0,children:[x.jsx(fn,{label:"Width",size:"xs",value:a.width,onChange:A=>d({width:Number(A)||100}),min:1}),x.jsx(fn,{label:"Height",size:"xs",value:a.height,onChange:A=>d({height:Number(A)||100}),min:1})]})]})}),x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsx(Kt,{fullWidth:!0,size:"sm",color:"red",variant:"light",onClick:h,children:"Delete Element"})})]})}function aW({room:e}){const{isLoading:t,filter:n,searchQuery:r,loadLibrary:o,setFilter:i,setSearchQuery:s,getFilteredItems:a,deleteLibraryItem:c,updateLibraryItem:f}=E7(),{game:d,addElement:h}=hr(),[p,g]=N.useState(null),[w,S]=N.useState(""),[C,k]=N.useState(""),[P,y]=N.useState([]);N.useEffect(()=>{o()},[o]);const E=a(),M=U=>{if(d&&U.type==="token"){const F=U.data,K=d.gridSettings.cellSize,ne={...F,x:K*5,y:K*5,zIndex:d.elements.length},G=h(ne),X={...ne,id:G};e.broadcastElementUpdate(X)}},A=U=>{g(U),S(U.name),k(U.description||""),y(U.tags)},z=async()=>{p&&(await f(p.id,{name:w,description:C,tags:P}),g(null))},O=async U=>{confirm("Delete this library item?")&&await c(U)},V=U=>{switch(U){case"token":return"";case"map":return"";case"scene":return"";default:return""}},B=U=>{if(U.type==="token"){const F=U.data,K=[];return F.hp&&K.push(`HP: ${F.hp.max}`),F.ac&&K.push(`AC: ${F.ac}`),K.join(" | ")}return""};return t?x.jsx($t,{align:"center",py:"xl",children:x.jsx(mt,{size:"sm",c:"dimmed",children:"Loading library..."})}):x.jsxs($t,{gap:"sm",children:[x.jsx(Nr,{placeholder:"Search library...",value:r,onChange:U=>s(U.currentTarget.value),size:"xs"}),x.jsx(zx,{value:n,onChange:U=>i(U),size:"xs",data:[{label:"All",value:"all"},{label:" Tokens",value:"token"},{label:" Maps",value:"map"},{label:" Scenes",value:"scene"}],fullWidth:!0}),x.jsx(aa,{h:"calc(100vh - 350px)",children:x.jsx($t,{gap:"xs",children:E.length===0?x.jsx(mt,{size:"sm",c:"dimmed",ta:"center",py:"lg",children:r?"No matching items":"Library is empty"}):E.map(U=>x.jsx(_n,{p:"xs",withBorder:!0,style:{cursor:"pointer"},children:x.jsxs(vt,{justify:"space-between",wrap:"nowrap",children:[x.jsxs(vt,{gap:"xs",style:{flex:1,minWidth:0},children:[x.jsx(mt,{size:"lg",children:V(U.type)}),x.jsxs($t,{gap:2,style:{flex:1,minWidth:0},children:[x.jsx(mt,{size:"sm",fw:500,truncate:!0,children:U.name}),U.description&&x.jsx(mt,{size:"xs",c:"dimmed",truncate:!0,children:U.description}),B(U)&&x.jsx(mt,{size:"xs",c:"blue",children:B(U)}),U.tags.length>0&&x.jsxs(vt,{gap:4,children:[U.tags.slice(0,3).map(F=>x.jsx(Do,{size:"xs",variant:"light",children:F},F)),U.tags.length>3&&x.jsxs(Do,{size:"xs",variant:"light",color:"gray",children:["+",U.tags.length-3]})]})]})]}),x.jsxs(vt,{gap:4,children:[x.jsx($n,{label:"Place on canvas",children:x.jsx(an,{size:"sm",variant:"light",color:"green",onClick:()=>M(U),children:""})}),x.jsx($n,{label:"Edit",children:x.jsx(an,{size:"sm",variant:"light",onClick:()=>A(U),children:""})}),x.jsx($n,{label:"Delete",children:x.jsx(an,{size:"sm",variant:"light",color:"red",onClick:()=>O(U.id),children:""})})]})]})},U.id))})}),x.jsxs(mt,{size:"xs",c:"dimmed",ta:"center",children:[E.length," item",E.length!==1?"s":""," in library"]}),x.jsx(jo,{opened:p!==null,onClose:()=>g(null),title:"Edit Library Item",size:"md",children:x.jsxs($t,{gap:"md",children:[x.jsx(Nr,{label:"Name",value:w,onChange:U=>S(U.currentTarget.value)}),x.jsx(Ph,{label:"Description",value:C,onChange:U=>k(U.currentTarget.value),rows:3}),x.jsx(Wx,{label:"Tags",value:P,onChange:y,placeholder:"Add tags..."}),x.jsxs(vt,{justify:"flex-end",children:[x.jsx(Kt,{variant:"subtle",onClick:()=>g(null),children:"Cancel"}),x.jsx(Kt,{onClick:z,children:"Save"})]})]})})]})}function lW({room:e}){const{game:t,selectedElementId:n,isDM:r,addElement:o,updateElement:i,deleteElement:s,selectElement:a,layerVisibility:c,previewAsPlayer:f,toggleLayerVisibility:d,setPreviewAsPlayer:h}=hr(),[p,g]=N.useState("tokens"),[w,S]=N.useState(""),[C,k]=N.useState(""),[P,y]=N.useState(1),E=t==null?void 0:t.elements.find(G=>G.id===n),M=()=>{if(!w.trim())return;const G={type:"token",layer:"token",name:w,imageUrl:C||"",x:100,y:100,width:P,height:P,visibleTo:"all",locked:!1,zIndex:(t==null?void 0:t.elements.length)||0},X=o(G),Y={...G,id:X};e.broadcastElementUpdate(Y),S(""),k(""),y(1)},A=G=>{s(G),e.broadcastElementDelete(G),n===G&&a(null)},z=(G,X)=>{const Y=t==null?void 0:t.elements.find($=>$.id===G);Y&&(i(G,{visibleTo:X}),e.broadcastElementUpdate({...Y,visibleTo:X}))},O=()=>{if(!t)return;const G={version:1,exportedAt:new Date().toISOString(),game:t},X=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),Y=URL.createObjectURL(X),$=document.createElement("a");$.href=Y,$.download=`${t.name.replace(/\s+/g,"-").toLowerCase()}.vtt.json`,$.click(),URL.revokeObjectURL(Y)},V=G=>{if(!G)return;const X=new FileReader;X.onload=Y=>{var $;try{const q=JSON.parse(($=Y.target)==null?void 0:$.result);q.version===1&&q.game&&(hr.getState().loadGame(q.game),e.broadcastSync())}catch(q){console.error("Failed to import game:",q)}},X.readAsText(G)},B=(t==null?void 0:t.elements.filter(G=>G.type==="token"))||[],U=t?Object.values(t.players):[],F=G=>{e.broadcastDiceRoll&&e.broadcastDiceRoll(G)},{addTokenToLibrary:K}=E7(),ne=async G=>{await K(G,void 0,void 0,[])};return x.jsx($t,{h:"100%",children:x.jsxs(Vt,{value:p,onChange:g,children:[x.jsxs(Vt.List,{children:[x.jsx(Vt.Tab,{value:"tokens",children:"Tokens"}),x.jsx(Vt.Tab,{value:"library",children:"Library"}),x.jsx(Vt.Tab,{value:"players",children:"Players"}),x.jsx(Vt.Tab,{value:"dice",children:"Dice"}),E&&x.jsx(Vt.Tab,{value:"properties",children:"Properties"}),r&&x.jsx(Vt.Tab,{value:"dm",children:"DM Tools"})]}),x.jsxs(aa,{h:"calc(100vh - 180px)",mt:"md",children:[x.jsx(Vt.Panel,{value:"tokens",children:x.jsxs($t,{children:[x.jsxs(_n,{p:"sm",withBorder:!0,children:[x.jsx(mt,{size:"sm",fw:500,mb:"xs",children:"Add Token"}),x.jsxs($t,{gap:"xs",children:[x.jsx(Nr,{placeholder:"Token name",value:w,onChange:G=>S(G.currentTarget.value),size:"xs"}),x.jsx(Nr,{placeholder:"Image URL (optional)",value:C,onChange:G=>k(G.currentTarget.value),size:"xs"}),x.jsxs(vt,{gap:"xs",children:[x.jsx(fn,{placeholder:"Size",value:P,onChange:G=>y(Number(G)||1),min:1,max:10,size:"xs",style:{flex:1}}),x.jsx(Kt,{size:"xs",onClick:M,children:"Add"})]})]})]}),x.jsx(fr,{label:"Tokens on Map",labelPosition:"center"}),B.map(G=>{var X,Y;return x.jsxs(_n,{p:"xs",withBorder:!0,style:{borderColor:n===G.id?"#7c3aed":void 0,cursor:"pointer"},onClick:()=>a(G.id),children:[x.jsxs(vt,{justify:"space-between",children:[x.jsxs(vt,{gap:"xs",children:[x.jsx(mt,{size:"sm",fw:500,children:G.name||"Unnamed"}),G.visibleTo==="dm"&&x.jsx(Do,{size:"xs",color:"violet",children:"DM Only"})]}),x.jsxs(vt,{gap:4,children:[x.jsx(an,{size:"xs",color:"blue",variant:"subtle",onClick:$=>{$.stopPropagation(),ne(G)},title:"Save to Library",children:""}),x.jsx(an,{size:"xs",color:"red",variant:"subtle",onClick:$=>{$.stopPropagation(),A(G.id)},children:""})]})]}),G.hp&&x.jsxs(mt,{size:"xs",c:"dimmed",children:["HP: ",(X=G.hp)==null?void 0:X.current,"/",(Y=G.hp)==null?void 0:Y.max]})]},G.id)}),B.length===0&&x.jsx(mt,{size:"sm",c:"dimmed",ta:"center",children:"No tokens on map"})]})}),x.jsx(Vt.Panel,{value:"library",children:x.jsx(aW,{room:e})}),x.jsx(Vt.Panel,{value:"players",children:x.jsx($t,{children:U.map(G=>x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs(vt,{justify:"space-between",children:[x.jsxs(vt,{gap:"xs",children:[x.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:G.color}}),x.jsx(mt,{size:"sm",fw:500,children:G.name})]}),G.isDM&&x.jsx(Do,{size:"xs",color:"violet",children:"DM"})]})},G.id))})}),x.jsx(Vt.Panel,{value:"dice",children:x.jsx(iW,{onRoll:F})}),x.jsx(Vt.Panel,{value:"properties",children:x.jsx(sW,{room:e})}),r&&x.jsx(Vt.Panel,{value:"dm",children:x.jsxs($t,{children:[E&&x.jsxs(_n,{p:"sm",withBorder:!0,children:[x.jsx(mt,{size:"sm",fw:500,mb:"xs",children:"Selected Element"}),x.jsxs($t,{gap:"xs",children:[x.jsx(Wa,{label:"Visibility",size:"xs",value:E.visibleTo==="all"?"all":E.visibleTo==="dm"?"dm":"specific",onChange:G=>{(G==="all"||G==="dm")&&z(E.id,G)},data:[{value:"all",label:"Visible to All"},{value:"dm",label:"DM Only"}]}),x.jsx(so,{label:"Locked",size:"xs",checked:E.locked,onChange:G=>{i(E.id,{locked:G.currentTarget.checked}),e.broadcastElementUpdate({...E,locked:G.currentTarget.checked})}}),x.jsx(Kt,{size:"xs",color:"red",variant:"light",onClick:()=>A(E.id),children:"Delete Element"})]})]}),x.jsx(fr,{label:"Layer Visibility",labelPosition:"center"}),x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(so,{label:" Grid",size:"xs",checked:c.grid,onChange:()=>d("grid")}),x.jsx(so,{label:" Map Images",size:"xs",checked:c.map,onChange:()=>d("map")}),x.jsx(so,{label:" Tokens",size:"xs",checked:c.tokens,onChange:()=>d("tokens")}),x.jsx(so,{label:" Drawings",size:"xs",checked:c.drawings,onChange:()=>d("drawings")}),x.jsx(so,{label:" Text Labels",size:"xs",checked:c.text,onChange:()=>d("text")}),x.jsx(so,{label:" Fog of War",size:"xs",checked:c.fog,onChange:()=>d("fog")}),x.jsx(fr,{my:"xs"}),x.jsx(fs,{label:"Preview as Player",size:"xs",checked:f,onChange:G=>h(G.currentTarget.checked)}),x.jsx(mt,{size:"xs",c:"dimmed",children:"See what players see (hides DM-only elements)"})]})}),x.jsx(fr,{label:"Fog of War",labelPosition:"center"}),x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(so,{label:"Enable Fog of War",checked:t==null?void 0:t.fogOfWar.enabled,onChange:G=>{hr.getState().toggleFog(G.currentTarget.checked)}}),x.jsx(mt,{size:"xs",c:"dimmed",children:"Use Reveal/Hide tools to control visibility"})]})}),x.jsx(fr,{label:"Import/Export",labelPosition:"center"}),x.jsx(_n,{p:"sm",withBorder:!0,children:x.jsxs($t,{gap:"xs",children:[x.jsx(Kt,{size:"xs",variant:"light",onClick:O,children:"Export Game"}),x.jsx(O9,{onChange:V,accept:".json,.vtt.json",children:G=>x.jsx(Kt,{size:"xs",variant:"light",...G,children:"Import Game"})})]})})]})})]})]})})}function cW(){const{game:e,performUndo:t,performRedo:n,selectElement:r,selectedElementId:o}=hr(),i=Kz(),[s,a]=N.useState(!0);return Yz({onUndo:()=>{t()},onRedo:()=>{n()},onDelete:()=>{o&&i.broadcastElementDelete(o)},onSave:()=>{console.log("Game saved!")},onEscape:()=>{r(null)}}),N.useEffect(()=>{Cc.open().catch(c=>{console.error("Failed to open database:",c)})},[]),e?x.jsxs(ui,{header:{height:50},aside:{width:s?300:0,breakpoint:"sm",collapsed:{mobile:!s,desktop:!s}},padding:0,children:[x.jsx(ui.Header,{children:x.jsx(eW,{sidebarOpen:s,onToggleSidebar:()=>a(!s),room:i})}),x.jsx(ui.Main,{children:x.jsx(Oe,{style:{width:"100%",height:"calc(100vh - 50px)"},children:x.jsx(xH,{room:i})})}),x.jsx(ui.Aside,{p:"md",children:x.jsx(lW,{room:i})})]}):x.jsx(cB,{room:i})}const uW={primaryColor:"violet",fontFamily:"system-ui, -apple-system, sans-serif",defaultRadius:"md",colors:{dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"]}};Uy.createRoot(document.getElementById("root")).render(x.jsx(Rt.StrictMode,{children:x.jsxs(VC,{theme:uW,defaultColorScheme:"dark",children:[x.jsx(da,{position:"top-right"}),x.jsx(cW,{})]})}));
